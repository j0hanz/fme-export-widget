System.register(["jimu-core","jimu-theme","jimu-arcgis"],(function(e,t){var r={},s={},n={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(n,"__esModule",{value:!0}),{setters:[function(){},function(e){Object.keys(e).forEach((function(t){s[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))}],execute:function(){e((()=>{var e={930:(e,t,r)=>{"use strict";r(9244),r(3417),r(2238),r(6920),r(4986)},1138:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>n});var s=r(3417);r(3890),r(1181);Object.freeze({GEOMETRY_SERIALIZATION_FAILED:"polygon",MAP_MODULES_LOAD_FAILED:"map",FORM_INVALID:"warning"}),Object.freeze([{token:"GEOMETRY",icon:"polygon"},{token:"AREA",icon:"polygon"},{token:"MAP",icon:"map"},{token:"MODULE",icon:"map"},{token:"FORM",icon:"warning"},{token:"TOKEN",icon:"person-lock"},{token:"AUTH",icon:"person-lock"},{token:"REPOSITORY",icon:"folder"},{token:"REPO",icon:"folder"},{token:"DATA",icon:"data"},{token:"NETWORK",icon:"shared-no"},{token:"OFFLINE",icon:"shared-no"},{token:"CONNECTION",icon:"shared-no"},{token:"REQUEST",icon:"shared-no"},{token:"SERVER",icon:"feature-service"},{token:"GATEWAY",icon:"feature-service"},{token:"URL",icon:"link-tilted"},{token:"TIMEOUT",icon:"time"},{token:"CONFIG",icon:"setting"},{token:"EMAIL",icon:"email"}]);const n=(e,t)=>{if(e)try{e.signal.aborted||e.abort(t)}catch(t){try{e.abort()}catch(e){}}};s.jF,s.KG,s.a9},1181:(e,t,r)=>{"use strict";r(9244),r(3417),r(4986),r(3890);Object.freeze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"})},1618:(e,t,r)=>{"use strict";r(3417),r(4986),r(9063),r(1138)},1658:(e,t,r)=>{"use strict";var s=r(4880),n=r(9757),i=r(6261),o=r(6500),a=class extends o.Q{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const i=t.queryKey,o=t.queryHash??(0,s.F$)(i,t);let a=this.get(o);return a||(a=new n.X({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){i.jG.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,s.MK)(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>(0,s.MK)(e,t))):t}notify(e){i.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){i.jG.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){i.jG.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},c=r(6158),u=class extends o.Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#s=0}#t;#r;#s;build(e,t,r){const s=new c.s({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#t.add(e);const t=l(e);if("string"==typeof t){const r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=l(e);if("string"==typeof t){const r=this.#r.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=l(e);if("string"==typeof t){const r=this.#r.get(t),s=r?.find((e=>"pending"===e.state.status));return!s||s===e}return!0}runNext(e){const t=l(e);if("string"==typeof t){const r=this.#r.get(t)?.find((t=>t!==e&&t.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){i.jG.batch((()=>{this.#t.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#t.clear(),this.#r.clear()}))}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,s.nJ)(t,e)))}findAll(e={}){return this.getAll().filter((t=>(0,s.nJ)(e,t)))}notify(e){i.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return i.jG.batch((()=>Promise.all(e.map((e=>e.continue().catch(s.lQ))))))}};function l(e){return e.options.scope?.id}var h=r(9658),d=r(6035);function E(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const l=async()=>{let r=!1;const l=(0,s.ZM)(t.options,t.fetchOptions),h=async(e,n,i)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",(()=>{r=!0})),t.signal)}),e})(),a=await l(o),{maxPages:c}=t.options,u=i?s.ZZ:s.y9;return{pages:u(e.pages,a,c),pageParams:u(e.pageParams,n,c)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:a},r=(e?f:p)(n,t);c=await h(t,r,e)}else{const t=e??o.length;do{const e=0===u?a[0]??n.initialPageParam:p(n,c);if(u>0&&null==e)break;c=await h(c,e),u++}while(u<t)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function p(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function f(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var O=r(3096);new class{#n;#i;#o;#a;#c;#u;#l;#h;constructor(e={}){this.#n=e.queryCache||new a,this.#i=e.mutationCache||new u,this.#o=e.defaultOptions||{},this.#a=new Map,this.#c=new Map,this.#u=0}mount(){this.#u++,1===this.#u&&(this.#l=h.m.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#n.onFocus())})),this.#h=d.t.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#n.onOnline())})))}unmount(){this.#u--,0===this.#u&&(this.#l?.(),this.#l=void 0,this.#h?.(),this.#h=void 0)}isFetching(e){return this.#n.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#n.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,s.d2)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#n.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#n.get(n.queryHash),o=i?.state.data,a=(0,s.Zw)(t,o);if(void 0!==a)return this.#n.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return i.jG.batch((()=>this.#n.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state}removeQueries(e){const t=this.#n;i.jG.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=this.#n;return i.jG.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const r={revert:!0,...t},n=i.jG.batch((()=>this.#n.findAll(e).map((e=>e.cancel(r)))));return Promise.all(n).then(s.lQ).catch(s.lQ)}invalidateQueries(e,t={}){return i.jG.batch((()=>(this.#n.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=i.jG.batch((()=>this.#n.findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(s.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(n).then(s.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#n.build(this,t);return r.isStaleByTime((0,s.d2)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(s.lQ).catch(s.lQ)}fetchInfiniteQuery(e){return e.behavior=E(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(s.lQ).catch(s.lQ)}ensureInfiniteQueryData(e){return e.behavior=E(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return d.t.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#o}setDefaultOptions(e){this.#o=e}setQueryDefaults(e,t){this.#a.set((0,s.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach((t=>{(0,s.Cp)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)})),r}setMutationDefaults(e,t){this.#c.set((0,s.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#c.values()],r={};return t.forEach((t=>{(0,s.Cp)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#o.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,s.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===s.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#o.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}}({defaultOptions:{queries:{staleTime:O.ST.FIVE_MINUTES,gcTime:O.ST.TEN_MINUTES,retry:(e,t)=>{var r;const s=(null==t?void 0:t.status)||(null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.status);return s!==O.jL.UNAUTHORIZED&&s!==O.jL.FORBIDDEN&&(!(s&&s>=O.H4.CLIENT_ERROR_MIN&&s<O.H4.SERVER_ERROR_MIN)&&e<3)},refetchOnWindowFocus:!1,refetchOnReconnect:!1}}})},1692:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var s=r(2775),n=r(4880),i=class{#d;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,n.gn)(this.gcTime)&&(this.#d=s.zs.setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(n.S$?1/0:3e5))}clearGcTimeout(){this.#d&&(s.zs.clearTimeout(this.#d),this.#d=void 0)}}},1787:(e,t,r)=>{"use strict";var s=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function o(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((s=s.apply(e,t||[])).next())}))};class n{constructor(){this.cache=new Map}execute(e,t){return s(this,void 0,void 0,(function*(){const r=this.cache.get(e);if(r)return r;const s=t();return this.cache.set(e,s),s.finally((()=>{this.cache.delete(e)}))}))}}new n,new n;r(9063),r(3890),r(3096);r(3417);r(1138);r(3040);r(2242),r(5880),r(1618);r(5009)},1888:e=>{"use strict";e.exports=s},2238:(e,t,r)=>{"use strict";r(5009),r(3417),r(3890),r(3096);var s=r(1138);r(9063),r(3040);Object.assign({},{enabled:!0,logLevel:"debug",bodyPreviewLimit:1024,warnSlowMs:1e3});const n=e=>{if(void 0!==e)return e;if("function"==typeof DOMException)return new DOMException("Aborted","AbortError");const t=new Error("Aborted");return t.name="AbortError",t},i=()=>{};new class{constructor(){this.controllers=new Map,this.listeners=new Map,this.pendingReasons=new Map}register(e,t){if(!e)return;this.controllers.set(e,t);const r=this.pendingReasons.get(e);void 0!==r&&((0,s.Wz)(t,r),this.pendingReasons.delete(e))}release(e,t){if(!e)return;const r=this.controllers.get(e);if(t&&r&&r!==t)return;this.controllers.delete(e),this.pendingReasons.delete(e);const s=this.listeners.get(e);(null==s?void 0:s.size)&&(s.forEach((e=>{try{e.signal.removeEventListener("abort",e.handler)}catch(e){}})),this.listeners.delete(e))}abort(e,t){if(!e)return;const r=this.controllers.get(e);if(!r)return void this.pendingReasons.set(e,null!=t?t:n());const i=null!=t?t:n();(0,s.Wz)(r,i),this.release(e,r)}linkExternal(e,t){if(!e||!t)return i;if(t.aborted)return this.abort(e,t.reason),i;const r={signal:t,handler:()=>{const r=t.reason;this.abort(e,r)}};t.addEventListener("abort",r.handler);let s=this.listeners.get(e);return s||(s=new Set,this.listeners.set(e,s)),s.add(r),()=>{try{t.removeEventListener("abort",r.handler)}catch(e){}const s=this.listeners.get(e);s&&(s.delete(r),0===s.size&&this.listeners.delete(e))}}abortAll(e){const t=Array.from(this.controllers.entries());for(const[r,s]of t)this.abort(r,e),this.release(r,s)}};Object.create(null)},2242:(e,t,r)=>{"use strict";r(9244),r(3417),r(5880),r(9063),r(1787)},2686:e=>{"use strict";e.exports=n},2775:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>i,zs:()=>n});var s={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},n=new class{#E=s;#p=!1;setTimeoutProvider(e){this.#E=e}setTimeout(e,t){return this.#E.setTimeout(e,t)}clearTimeout(e){this.#E.clearTimeout(e)}setInterval(e,t){return this.#E.setInterval(e,t)}clearInterval(e){this.#E.clearInterval(e)}};function i(e){setTimeout(e,0)}},3040:(e,t,r)=>{"use strict";r(9244),r(5132),r(1181),r(3417),r(1618),r(6920),r(4986),r(3890),r(930)},3096:(e,t,r)=>{"use strict";r.d(t,{EV:()=>n,H4:()=>l,KG:()=>E,ST:()=>h,a9:()=>p,jF:()=>d,jL:()=>u,nu:()=>f});var s=r(6055);const n=Object.freeze([s.ZW.SET_VIEW_MODE,s.ZW.RESET_STATE,s.ZW.SET_GEOMETRY,s.ZW.SET_DRAWING_TOOL,s.ZW.COMPLETE_DRAWING,s.ZW.SET_ORDER_RESULT,s.ZW.SET_WORKSPACE_ITEMS,s.ZW.SET_WORKSPACE_PARAMETERS,s.ZW.SET_SELECTED_WORKSPACE,s.ZW.SET_WORKSPACE_ITEM,s.ZW.SET_ERROR,s.ZW.SET_ERRORS,s.ZW.CLEAR_WORKSPACE_STATE,s.ZW.CLEAR_ERROR,s.ZW.RESET_TO_DRAWING,s.ZW.COMPLETE_STARTUP,s.ZW.REMOVE_WIDGET_STATE,s.ZW.SET_LOADING_FLAG,s.ZW.APPLY_WORKSPACE_DATA]),i=(Object.freeze({title:"",listMode:"hide",elevationInfo:{mode:"on-the-ground"}}),Object.freeze(["FILENAME","FILENAME_MUSTEXIST","DIRNAME","DIRNAME_MUSTEXIST","DIRNAME_SRC","LOOKUP_FILE","REPROJECTION_FILE"]),Object.freeze({BASE_PATH:"/fmeapiv4",MAX_URL_LENGTH:4e3,WEBHOOK_EXCLUDE_KEYS:[],WEBHOOK_LOG_WHITELIST:Object.freeze(["opt_responseformat","opt_showresult","opt_servicemode"])})),o=(Object.freeze({VALIDATION:{DEFAULT_TTL_VALUE:"",DEFAULT_TTC_VALUE:""},LIMITS:{MAX_M2_CAP:1e10,MAX_REQUEST_TIMEOUT_MS:6e5},DIRECTIVES:{DESCRIPTION_MAX:512,TAG_MAX:128},COLORS:{BACKGROUND_DARK:"#181818"},TEXT:{LARGE_AREA_MESSAGE_MAX:160}}),s.nE.STARTUP_VALIDATION,s.nE.STARTUP_VALIDATION,s.nE.EXPORT_FORM,s.nE.WORKSPACE_SELECTION,s.nE.WORKSPACE_SELECTION,s.nE.INITIAL,s.nE.EXPORT_OPTIONS,s.nE.INITIAL,s.nE.ORDER_RESULT,s.nE.INITIAL,s.nE.DRAWING,s.nE.INITIAL,s.nE.INITIAL,s.nE.INITIAL,Object.freeze(["esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/geometry/geometryEngine","esri/geometry/geometryEngineAsync","esri/geometry/support/webMercatorUtils","esri/geometry/projection","esri/geometry/SpatialReference","esri/geometry/support/normalizeUtils","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic"]),Object.freeze({DEFAULT_CHUNK_SIZE:10,MIN_CHUNK_SIZE:1,MAX_CHUNK_SIZE:25}),Object.freeze({CANCELLED_PROMISE:"CancelledPromiseError",ABORT:"AbortError"}),Object.freeze(["localhost",".localhost",".local",".internal",".intranet",".home",".lan",".localdomain"]),Object.freeze([{start:[10,0,0,0],end:[10,255,255,255]},{start:[100,64,0,0],end:[100,127,255,255]},{start:[127,0,0,0],end:[127,255,255,255]},{start:[169,254,0,0],end:[169,254,255,255]},{start:[172,16,0,0],end:[172,31,255,255]},{start:[192,168,0,0],end:[192,168,255,255]},{start:[0,0,0,0],end:[0,255,255,255]}]),Object.freeze(["tm_ttc","tm_ttl","tm_tag"])),a=(Object.freeze(["tm_ttc","tm_ttl"]),Object.freeze(["opt_servicemode","opt_responseformat","opt_showresult","opt_requesteremail"])),c=(Object.freeze([...i.WEBHOOK_EXCLUDE_KEYS,...o]),new Set([...o,...a]),Object.freeze(["sync","async"]),Object.freeze({M2_PER_KM2:1e6,AREA_DECIMALS:2,METERS_PER_KILOMETER:1e3,SQUARE_FEET_PER_SQUARE_MILE:27878400})),u=(Object.freeze([{factor:.3048,label:"ft\xb2",keywords:["foot","feet"],largeUnit:{threshold:c.SQUARE_FEET_PER_SQUARE_MILE,factor:c.SQUARE_FEET_PER_SQUARE_MILE,label:"mi\xb2"}},{factor:.3048006096,label:"ft\xb2",keywords:[]},{factor:1609.344,label:"mi\xb2",keywords:["mile"]},{factor:c.METERS_PER_KILOMETER,label:"km\xb2",keywords:["kilometer"]},{factor:.9144,label:"yd\xb2",keywords:["yard"]},{factor:.0254,label:"in\xb2",keywords:["inch"]},{factor:.01,label:"cm\xb2",keywords:["centimeter"]},{factor:.001,label:"mm\xb2",keywords:["millimeter"]},{factor:1852,label:"nm\xb2",keywords:["nautical"]},{factor:1,label:"m\xb2",keywords:["meter"]}]),Object.freeze({GEOMETRY_SERIALIZATION_FAILED:"polygon",MAP_MODULES_LOAD_FAILED:"map",FORM_INVALID:"warning"}),Object.freeze([{token:"GEOMETRY",icon:"polygon"},{token:"AREA",icon:"polygon"},{token:"MAP",icon:"map"},{token:"MODULE",icon:"map"},{token:"FORM",icon:"warning"},{token:"TOKEN",icon:"person-lock"},{token:"AUTH",icon:"person-lock"},{token:"REPOSITORY",icon:"folder"},{token:"REPO",icon:"folder"},{token:"DATA",icon:"data"},{token:"NETWORK",icon:"shared-no"},{token:"OFFLINE",icon:"shared-no"},{token:"CONNECTION",icon:"shared-no"},{token:"REQUEST",icon:"shared-no"},{token:"SERVER",icon:"feature-service"},{token:"GATEWAY",icon:"feature-service"},{token:"URL",icon:"link-tilted"},{token:"TIMEOUT",icon:"time"},{token:"CONFIG",icon:"setting"},{token:"EMAIL",icon:"email"}]),Object.freeze({WGS84:4326,WEB_MERCATOR:3857}),Object.freeze({UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,BAD_REQUEST:400,TIMEOUT:408,GATEWAY_TIMEOUT:504,TOO_MANY_REQUESTS:429,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,NETWORK_ERROR:0,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599})),l=Object.freeze({SUCCESS_MIN:200,SUCCESS_MAX:399,CLIENT_ERROR_MIN:400,CLIENT_ERROR_MAX:499,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599,MIN_VALID:100,MAX_VALID:599}),h=Object.freeze({SECOND:1e3,MINUTE:6e4,FIVE_MINUTES:3e5,TEN_MINUTES:6e5,MAX_RESPONSE_TIME:3e5,SLOW_REQUEST_THRESHOLD:1e3}),d={INVALID_RESPONSE_FORMAT:"errorTokenIssue",WEBHOOK_AUTH_ERROR:"errorTokenIssue",WEBHOOK_TIMEOUT:"requestTimedOut",REPOSITORIES_ERROR:"errorRepositoryAccess",REPOSITORY_ITEMS_ERROR:"errorRepositoryAccess",JOB_SUBMISSION_ERROR:"errorJobSubmission",INVALID_CONFIG:"errorSetupRequired",CONFIG_INCOMPLETE:"errorSetupRequired",configMissing:"errorSetupRequired",GEOMETRY_MISSING:"geometryMissingCode",GEOMETRY_TYPE_INVALID:"geometryTypeInvalidCode",GEOMETRY_SERIALIZATION_FAILED:"geometrySerializationFailedCode",URL_TOO_LONG:"urlTooLongMessage",WEBHOOK_URL_TOO_LONG:"urlTooLongMessage",PARAMETER_VALIDATION_ERROR:"errorParameterValidation",WORKSPACE_PARAMETERS_ERROR:"errorWorkspaceParameters"},E={401:"errorTokenIssue",408:"requestTimedOut",429:"rateLimitExceeded",431:"headersTooLargeMessage"},p=Object.freeze([{pattern:/timeout/i,key:"requestTimedOut"},{pattern:/cors/i,key:"corsBlocked"},{pattern:/url.*too/i,key:"urlTooLongMessage"},{pattern:/remote_dataset_workspace_required/i,key:"REMOTE_DATASET_WORKSPACE_REQUIRED"}]),f=(Object.freeze(["fmeServerUrl","fmeServerToken","repository"]),Object.freeze(["status","statusCode","httpStatus"]),"_");Object.freeze(new Set(["MAXX","MINX","MAXY","MINY","AreaOfInterest","AREA","ExtentGeoJson","tm_ttc","tm_ttl","tm_tag"])),Object.freeze(new Set([s.QL.NOVALUE,s.QL.GROUP,s.QL.group])),Object.freeze(new Set([s.QL.DB_CONNECTION,s.QL.WEB_CONNECTION,s.QL.ATTRIBUTE_NAME,s.QL.ATTRIBUTE_LIST,s.QL.COORDSYS,s.QL.REPROJECTION_FILE])),Object.freeze(new Set([s.QL.LISTBOX,s.QL.LOOKUP_LISTBOX,s.QL.ATTRIBUTE_LIST,s.QL.listbox])),Object.freeze({[s.QL.text]:s.Vw.TEXT,[s.QL.number]:s.Vw.NUMBER,[s.QL.checkbox]:s.Vw.CHECKBOX,[s.QL.dropdown]:s.Vw.RADIO,[s.QL.listbox]:s.Vw.MULTI_SELECT,[s.QL.tree]:s.Vw.SELECT,[s.QL.password]:s.Vw.PASSWORD,[s.QL.datetime]:s.Vw.DATE_TIME,[s.QL.message]:s.Vw.MESSAGE,[s.QL.group]:s.Vw.HIDDEN,[s.QL.file]:s.Vw.FILE,[s.QL.color]:s.Vw.COLOR,[s.QL.range]:s.Vw.SLIDER,[s.QL.FLOAT]:s.Vw.NUMERIC_INPUT,[s.QL.INTEGER]:s.Vw.NUMBER,[s.QL.TEXT_EDIT]:s.Vw.TEXTAREA,[s.QL.PASSWORD]:s.Vw.PASSWORD,[s.QL.BOOLEAN]:s.Vw.SWITCH,[s.QL.CHECKBOX]:s.Vw.SWITCH,[s.QL.CHOICE]:s.Vw.RADIO,[s.QL.LOOKUP_CHOICE]:s.Vw.RADIO,[s.QL.LISTBOX]:s.Vw.MULTI_SELECT,[s.QL.LOOKUP_LISTBOX]:s.Vw.MULTI_SELECT,[s.QL.FILENAME]:s.Vw.FILE,[s.QL.FILENAME_MUSTEXIST]:s.Vw.FILE,[s.QL.DIRNAME]:s.Vw.FILE,[s.QL.DIRNAME_MUSTEXIST]:s.Vw.FILE,[s.QL.DIRNAME_SRC]:s.Vw.FILE,[s.QL.DATE_TIME]:s.Vw.DATE_TIME,[s.QL.DATETIME]:s.Vw.DATE_TIME,[s.QL.URL]:s.Vw.URL,[s.QL.LOOKUP_URL]:s.Vw.URL,[s.QL.LOOKUP_FILE]:s.Vw.FILE,[s.QL.DATE]:s.Vw.DATE,[s.QL.TIME]:s.Vw.TIME,[s.QL.MONTH]:s.Vw.MONTH,[s.QL.WEEK]:s.Vw.WEEK,[s.QL.COLOR]:s.Vw.COLOR,[s.QL.COLOR_PICK]:s.Vw.COLOR,[s.QL.RANGE_SLIDER]:s.Vw.SLIDER,[s.QL.MESSAGE]:s.Vw.MESSAGE,[s.QL.TEXT_OR_FILE]:s.Vw.TEXT_OR_FILE,[s.QL.REPROJECTION_FILE]:s.Vw.REPROJECTION_FILE,[s.QL.COORDSYS]:s.Vw.COORDSYS,[s.QL.ATTRIBUTE_NAME]:s.Vw.ATTRIBUTE_NAME,[s.QL.ATTRIBUTE_LIST]:s.Vw.ATTRIBUTE_LIST,[s.QL.DB_CONNECTION]:s.Vw.DB_CONNECTION,[s.QL.WEB_CONNECTION]:s.Vw.WEB_CONNECTION,[s.QL.SCRIPTED]:s.Vw.SCRIPTED}),Object.freeze(["esriRequest","esriConfig","projection","webMercatorUtils","SpatialReference"]),Object.freeze({DEFAULT_MAX_SIZE_MB:150,ONE_MB_IN_BYTES:1048576,GEOMETRY_PREVIEW_MAX_LENGTH:1500,DEFAULT_ALLOWED_EXTENSIONS:Object.freeze([".zip",".kmz",".json",".geojson",".gml"]),DEFAULT_ALLOWED_MIME_TYPES:Object.freeze(new Set(["application/zip","application/x-zip-compressed","application/vnd.google-earth.kmz","application/json","application/geo+json","application/gml+xml","text/plain",""].map((e=>e.toLowerCase())))),FILE_DISPLAY_KEYS:Object.freeze(["text","path","location","value","dataset","defaultValue","fileName","filename","file_path","file","uri","url","name"])}),Object.freeze(["failed to fetch","networkerror","net::","dns","enotfound","econnrefused","timeout","name or service not known","err_name_not_resolved","unable to load","/sharing/proxy","proxy"]),Object.freeze(["unable to load","/sharing/proxy","proxy"])},3128:(e,t,r)=>{"use strict";r(9244),r(1888)},3417:(e,t,r)=>{"use strict";r.d(t,{EV:()=>n.EV,KG:()=>n.KG,MU:()=>s.MU,ZW:()=>s.ZW,a9:()=>n.a9,hL:()=>s.hL,jF:()=>n.jF,nE:()=>s.nE,nu:()=>n.nu});var s=r(6055),n=r(3096);r(5132),r(3128)},3740:(e,t,r)=>{r.p=window.jimuConfig.baseUrl},3890:(e,t,r)=>{"use strict";r(3417),r(9063)},4658:(e,t,r)=>{"use strict";function s(){let e,t;const r=new Promise(((r,s)=>{e=r,t=s}));function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>s})},4880:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>f,EN:()=>p,Eh:()=>l,F$:()=>E,MK:()=>h,S$:()=>n,ZM:()=>g,ZZ:()=>_,Zw:()=>o,d2:()=>u,gn:()=>a,hT:()=>A,j3:()=>c,lQ:()=>i,nJ:()=>d,pl:()=>v,y9:()=>S,yy:()=>I});var s=r(2775),n="undefined"==typeof window||"Deno"in globalThis;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function l(e,t){return"function"==typeof e?e(t):e}function h(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=e;if(o)if(s){if(t.queryHash!==E(o,t.options))return!1}else if(!f(t.queryKey,o))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!n||n===t.state.fetchStatus)&&!(i&&!i(t)))}function d(e,t){const{exact:r,status:s,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(i))return!1}else if(!f(t.options.mutationKey,i))return!1}return(!s||t.state.status===s)&&!(n&&!n(t))}function E(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,((e,t)=>m(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function f(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((r=>f(e[r],t[r]))))}var O=Object.prototype.hasOwnProperty;function T(e,t){if(e===t)return e;const r=y(e)&&y(t);if(!(r||m(e)&&m(t)))return t;const s=(r?e:Object.keys(e)).length,n=r?t:Object.keys(t),i=n.length,o=r?new Array(i):{};let a=0;for(let c=0;c<i;c++){const i=r?c:n[c],u=e[i],l=t[i];if(u===l){o[i]=u,(r?c<s:O.call(e,i))&&a++;continue}if(null===u||null===l||"object"!=typeof u||"object"!=typeof l){o[i]=l;continue}const h=T(u,l);o[i]=h,h===u&&a++}return s===i&&a===s?e:o}function y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function m(e){if(!R(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!R(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function R(e){return"[object Object]"===Object.prototype.toString.call(e)}function I(e){return new Promise((t=>{s.zs.setTimeout(t,e)}))}function v(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?T(e,t):t}function S(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function _(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var A=Symbol();function g(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==A?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}},4986:(e,t,r)=>{"use strict";r.d(t,{Nn:()=>n});const s=(e,t)=>{if("string"==typeof e){const r=e.trim();return r||(null==t?void 0:t.allowEmpty)?r:(null==t?void 0:t.nullable)?null:void 0}return(null==t?void 0:t.allowNumeric)&&"number"==typeof e&&Number.isFinite(e)?String(e):(null==t?void 0:t.nullable)?null:void 0},n=e=>s(e,{allowNumeric:!1});Object.freeze({email:"phEmail",phone:"phPhone",search:"phSearch"})},5009:(e,t,r)=>{"use strict";r(9244),r(1658),r(5880),r(3417),r(2238),r(930),r(1181)},5132:(e,t,r)=>{"use strict";r(6055);Error},5880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{areLoadingStatesEqual:()=>v,createFmeSelectors:()=>w,default:()=>M,fmeActions:()=>O,initialFmeState:()=>T,selectFmeSlice:()=>g});var s=r(7390),n=r.n(s);function i(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var o=e=>Array.isArray(e)?e:[e];function a(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const r=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var c="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function u(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:s}=t;let n,i=0;function o(){let t=r;const{length:o}=arguments;for(let e=0,r=o;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const s=e.get(r);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=s}else{let e=t.p;null===e&&(t.p=e=new Map);const s=e.get(r);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=s}}const a=t;let u;if(1===t.s)u=t.v;else if(u=e.apply(null,arguments),i++,s){const e=n?.deref?.()??n;null!=e&&s(e,u)&&(u=e,0!==i&&i--);n="object"==typeof u&&null!==u||"function"==typeof u?new c(u):u}return a.s=1,a.v=u,u}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function l(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,s=(...e)=>{let t,s=0,n=0,c={},l=e.pop();"object"==typeof l&&(c=l,l=e.pop()),i(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const h={...r,...c},{memoize:d,memoizeOptions:E=[],argsMemoize:p=u,argsMemoizeOptions:f=[],devModeChecks:O={}}=h,T=o(E),y=o(f),m=a(e),R=d((function(){return s++,l.apply(null,arguments)}),...T);const I=p((function(){n++;const e=function(e,t){const r=[],{length:s}=e;for(let n=0;n<s;n++)r.push(e[n].apply(null,t));return r}(m,arguments);return t=R.apply(null,e),t}),...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:R,dependencies:m,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>t,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(s,{withTypes:()=>s}),s}var h,d=l(u),E=Object.assign(((e,t=d)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map((t=>e[t])),((...e)=>e.reduce(((e,t,s)=>(e[r[s]]=t,e)),{})))}),{withTypes:()=>E}),p=r(3417),f=r(9063);const O={setViewMode:(e,t)=>({type:p.ZW.SET_VIEW_MODE,viewMode:e,widgetId:t}),resetState:e=>({type:p.ZW.RESET_STATE,widgetId:e}),setGeometry:(e,t,r)=>({type:p.ZW.SET_GEOMETRY,geometryJson:I(e),drawnArea:t,widgetId:r}),setDrawingTool:(e,t)=>({type:p.ZW.SET_DRAWING_TOOL,drawingTool:e,widgetId:t}),completeDrawing:(e,t,r,s)=>({type:p.ZW.COMPLETE_DRAWING,geometryJson:I(e),drawnArea:t,nextViewMode:r,widgetId:s}),setOrderResult:(e,t)=>({type:p.ZW.SET_ORDER_RESULT,orderResult:e,widgetId:t}),setWorkspaceItems:(e,t)=>({type:p.ZW.SET_WORKSPACE_ITEMS,workspaceItems:e,widgetId:t}),setWorkspaceParameters:(e,t,r)=>({type:p.ZW.SET_WORKSPACE_PARAMETERS,workspaceParameters:e,workspaceName:t,widgetId:r}),setSelectedWorkspace:(e,t)=>({type:p.ZW.SET_SELECTED_WORKSPACE,workspaceName:e,widgetId:t}),setWorkspaceItem:(e,t)=>({type:p.ZW.SET_WORKSPACE_ITEM,workspaceItem:e,widgetId:t}),setError:(e,t,r)=>({type:p.ZW.SET_ERROR,scope:e,error:t,widgetId:r}),setErrors:(e,t)=>{const r={};for(const[t,s]of Object.entries(e))void 0!==s&&(r[t]=s);return{type:p.ZW.SET_ERRORS,errors:r,widgetId:t}},clearError:(e,t)=>({type:p.ZW.CLEAR_ERROR,scope:e,widgetId:t}),clearWorkspaceState:e=>({type:p.ZW.CLEAR_WORKSPACE_STATE,widgetId:e}),resetToDrawing:e=>({type:p.ZW.RESET_TO_DRAWING,widgetId:e}),completeStartup:e=>({type:p.ZW.COMPLETE_STARTUP,widgetId:e}),setLoadingFlag:(e,t,r)=>({type:p.ZW.SET_LOADING_FLAG,flag:e,value:t,widgetId:r}),applyWorkspaceData:(e,t)=>({type:p.ZW.APPLY_WORKSPACE_DATA,workspaceName:e.workspaceName,workspaceParameters:e.parameters,workspaceItem:e.item,widgetId:t}),removeWidgetState:e=>({type:p.ZW.REMOVE_WIDGET_STATE,widgetId:e})},T={viewMode:p.nE.STARTUP_VALIDATION,drawingTool:p.hL.POLYGON,geometryJson:null,drawnArea:0,orderResult:null,workspaceItems:[],selectedWorkspace:null,workspaceParameters:[],workspaceItem:null,loading:{workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1},errors:{}},y=null!==(h=n().default)&&void 0!==h?h:n(),m=()=>y(T),R=e=>{var t;return null!==(t=(0,f.Nn)(e))&&void 0!==t?t:null},I=e=>{if(!e)return null;const t=null==e?void 0:e.toJSON;if("function"!=typeof t)return null;try{return t.call(e)}catch(e){return null}};function v(e,t){return e.workspaces===t.workspaces&&e.parameters===t.parameters&&e.modules===t.modules&&e.submission===t.submission&&e.geometryValidation===t.geometryValidation}const S={[p.MU.ERROR]:3,[p.MU.WARNING]:2,[p.MU.INFO]:1},_={general:0,export:1,import:2};function A(e,t){var r;if(!t||0===Object.keys(t).length)return e;const s=null!==(r=e.errors)&&void 0!==r?r:{},n={};for(const[e,r]of Object.entries(t)){if(!(e in _))continue;s[e]!==r&&(n[e]=r)}if(0===Object.keys(n).length)return e;const i=Object.entries(Object.assign(Object.assign({},s),n)).reduce(((e,[t,r])=>(null!==r&&(e[t]=r),e)),{});return e.set("errors",i)}const g=(e,t)=>{var r,s;const n=null===(s=null===(r=null==e?void 0:e["fme-state"])||void 0===r?void 0:r.byId)||void 0===s?void 0:s[t];return null!=n?n:null},w=e=>{const t=t=>g(t,e),r=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.geometryJson)&&void 0!==s?s:null},s=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.drawnArea)&&void 0!==s?s:T.drawnArea},n=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.selectedWorkspace)&&void 0!==s?s:T.selectedWorkspace},i=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.workspaceParameters)&&void 0!==s?s:T.workspaceParameters},o=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.workspaceItem)&&void 0!==s?s:T.workspaceItem},a=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.errors)&&void 0!==s?s:T.errors},c=e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.loading)&&void 0!==s?s:T.loading},u=d([r,s],((e,t)=>Boolean(e)&&t>0)),l=d([a],(e=>(e=>{let t=null,r=-1,s=Number.POSITIVE_INFINITY;for(const[n,i]of Object.entries(e)){if(!i)continue;if(!(i.severity in S))continue;if(!(n in _))continue;const e=S[i.severity],o=_[n];(e>r||e===r&&o<s)&&(t={scope:n,details:i},r=e,s=o)}return t})(e))),h=d([r,s,n,i,o,a],((e,t,r,s,n,i)=>{var o;const a=Boolean(e)&&Number.isFinite(t)&&t>0,c=Boolean(R(r)),u=s.length>0||null!==n,l=null==i?void 0:i.general,h=!!l&&(null!==(o=S[l.severity])&&void 0!==o?o:0)>=S[p.MU.ERROR];return a&&c&&u&&!h})),E=d([c],(e=>e.workspaces||e.parameters||e.modules||e.submission));return{selectSlice:t,selectViewMode:e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.viewMode)&&void 0!==s?s:T.viewMode},selectDrawingTool:e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.drawingTool)&&void 0!==s?s:T.drawingTool},selectGeometryJson:r,selectDrawnArea:s,selectWorkspaceItems:e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.workspaceItems)&&void 0!==s?s:T.workspaceItems},selectWorkspaceParameters:i,selectWorkspaceItem:o,selectSelectedWorkspace:n,selectOrderResult:e=>{var r,s;return null!==(s=null===(r=t(e))||void 0===r?void 0:r.orderResult)&&void 0!==s?s:T.orderResult},selectErrors:a,selectErrorByScope:e=>r=>{var s,n,i;return null!==(i=null===(n=null===(s=t(r))||void 0===s?void 0:s.errors)||void 0===n?void 0:n[e])&&void 0!==i?i:null},selectLoading:c,selectLoadingFlag:e=>r=>{var s,n,i;return null!==(i=null===(n=null===(s=t(r))||void 0===s?void 0:s.loading)||void 0===n?void 0:n[e])&&void 0!==i?i:T.loading[e]},selectHasValidAoi:u,selectPrimaryError:l,selectCanExport:h,selectIsBusy:E}},b=y({byId:{}}),L=(e=b,t)=>{if(!(e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.type&&!!p.EV.includes(t.type)&&"string"==typeof t.widgetId})(t))return e;if((null==t?void 0:t.type)===p.ZW.REMOVE_WIDGET_STATE&&(null==t?void 0:t.widgetId)){const r=Object.assign({},(null==e?void 0:e.byId)||{});return t.widgetId in r?(delete r[t.widgetId],y({byId:r})):e}const r=null==t?void 0:t.widgetId;if(!r)return e;const s=((e,t)=>{var r;const s=null===(r=e.byId)||void 0===r?void 0:r[t];let n=null!=s?s:m();return n.loading||(n=n.set("loading",{workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1})),n.errors||(n=n.set("errors",{})),n})(e,r),n=((e,t)=>{var r,s,n,i;let o=e;switch(t.type){case p.ZW.SET_VIEW_MODE:{const r=t;if(e.viewMode===r.viewMode)return e;o=e.set("viewMode",r.viewMode);break}case p.ZW.RESET_STATE:o=m();break;case p.ZW.SET_GEOMETRY:{const s=t,n=null!==(r=s.drawnArea)&&void 0!==r?r:0;if(e.geometryJson===s.geometryJson&&e.drawnArea===n)return e;o=e.set("geometryJson",s.geometryJson).set("drawnArea",n);break}case p.ZW.COMPLETE_DRAWING:{const r=t,i=null!==(s=r.drawnArea)&&void 0!==s?s:0,a=null!==(n=r.nextViewMode)&&void 0!==n?n:e.viewMode;o=e,(e.geometryJson!==r.geometryJson||e.drawnArea!==i)&&(o=o.set("geometryJson",r.geometryJson).set("drawnArea",i)),a!==e.viewMode&&(o=o.set("viewMode",a));break}case p.ZW.SET_DRAWING_TOOL:{const r=t;if(e.drawingTool===r.drawingTool)return e;o=e.set("drawingTool",r.drawingTool);break}case p.ZW.SET_ORDER_RESULT:{const r=t;return e.orderResult===r.orderResult?e:e.set("orderResult",r.orderResult)}case p.ZW.SET_WORKSPACE_ITEMS:{const r=t;return e.workspaceItems===r.workspaceItems?e:e.set("workspaceItems",r.workspaceItems)}case p.ZW.SET_WORKSPACE_PARAMETERS:{const r=t,s=R(r.workspaceName),n=R(e.selectedWorkspace);if(!s)return e.workspaceParameters===r.workspaceParameters?e:e.set("workspaceParameters",r.workspaceParameters);if(!n)return e.set("selectedWorkspace",s).set("workspaceParameters",r.workspaceParameters).set("orderResult",null);if(s!==n)return e;if(e.workspaceParameters===r.workspaceParameters)return e;let i=e.set("workspaceParameters",r.workspaceParameters);return null!==e.orderResult&&(i=i.set("orderResult",null)),i}case p.ZW.SET_SELECTED_WORKSPACE:{const r=R(t.workspaceName);if(R(e.selectedWorkspace)===r)return e;let s=e.set("selectedWorkspace",r);return e.workspaceParameters.length&&(s=s.set("workspaceParameters",[])),null!==e.workspaceItem&&(s=s.set("workspaceItem",null)),null!==e.orderResult&&(s=s.set("orderResult",null)),s=A(s,{import:null,export:null}),s}case p.ZW.SET_WORKSPACE_ITEM:{const r=t,s=R(e.selectedWorkspace),n=R(null===(i=r.workspaceItem)||void 0===i?void 0:i.name);return r.workspaceItem&&s&&n&&n!==s||e.workspaceItem===r.workspaceItem?e:e.set("workspaceItem",r.workspaceItem)}case p.ZW.CLEAR_WORKSPACE_STATE:{const t={workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1};let r=e;return e.workspaceItems.length&&(r=r.set("workspaceItems",[])),null!==e.selectedWorkspace&&(r=r.set("selectedWorkspace",null)),e.workspaceParameters.length&&(r=r.set("workspaceParameters",[])),null!==e.workspaceItem&&(r=r.set("workspaceItem",null)),null!==e.orderResult&&(r=r.set("orderResult",null)),v(e.loading,t)||(r=r.set("loading",t)),r=A(r,{general:null,import:null,export:null}),r}case p.ZW.SET_ERROR:{const r=t;return A(e,{[r.scope]:r.error})}case p.ZW.SET_ERRORS:return A(e,t.errors);case p.ZW.CLEAR_ERROR:{const r=t;return"all"===r.scope?A(e,{general:null,import:null,export:null}):A(e,{[r.scope]:null})}case p.ZW.RESET_TO_DRAWING:{const t={workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1};let r=e;return null===e.geometryJson&&0===e.drawnArea||(r=r.set("geometryJson",null).set("drawnArea",0)),null!==e.selectedWorkspace&&(r=r.set("selectedWorkspace",null)),e.workspaceParameters.length&&(r=r.set("workspaceParameters",[])),null!==e.workspaceItem&&(r=r.set("workspaceItem",null)),null!==e.orderResult&&(r=r.set("orderResult",null)),v(e.loading,t)||(r=r.set("loading",t)),r=A(r,{general:null,import:null,export:null}),r.viewMode!==p.nE.DRAWING&&(r=r.set("viewMode",p.nE.DRAWING)),r}case p.ZW.SET_LOADING_FLAG:{const r=t,s=e.loading[r.flag],n=Boolean(r.value);return s===n?e:e.set("loading",Object.assign(Object.assign({},e.loading),{[r.flag]:n}))}case p.ZW.APPLY_WORKSPACE_DATA:{const r=t,s=R(r.workspaceName);if(!s)return e;let n=e;return e.selectedWorkspace!==s&&(n=n.set("selectedWorkspace",s)),e.workspaceParameters!==r.workspaceParameters&&(n=n.set("workspaceParameters",r.workspaceParameters)),e.workspaceItem!==r.workspaceItem&&(n=n.set("workspaceItem",r.workspaceItem)),null!==e.orderResult&&(n=n.set("orderResult",null)),n=A(n,{import:null,export:null}),n}case p.ZW.COMPLETE_STARTUP:o=e.set("viewMode",p.nE.INITIAL);break;case p.ZW.REMOVE_WIDGET_STATE:return e}return o})(s,t);return n===s?e:((e,t,r)=>{const s=Object.assign({},e.byId||{});return s[t]=r,y({byId:s})})(e,r,n)};class M{constructor(){this.id="fme-export_store"}getActions(){return[...p.EV]}getInitLocalState(){return{byId:{}}}getReducer(){return L}getStoreKey(){return"fme-state"}}},6035:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var s=r(6500),n=r(4880),i=new class extends s.Q{#f=!0;#O;#T;constructor(){super(),this.#T=e=>{if(!n.S$&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#O||this.setEventListener(this.#T)}onUnsubscribe(){this.hasListeners()||(this.#O?.(),this.#O=void 0)}setEventListener(e){this.#T=e,this.#O?.(),this.#O=e(this.setOnline.bind(this))}setOnline(e){this.#f!==e&&(this.#f=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#f}}},6055:(e,t,r)=>{"use strict";var s,n,i,o,a,c,u,l,h;r.d(t,{MU:()=>o,QL:()=>u,Vw:()=>i,ZW:()=>h,hL:()=>n,nE:()=>s}),function(e){e.STARTUP_VALIDATION="startup-validation",e.INITIAL="initial",e.DRAWING="drawing",e.WORKSPACE_SELECTION="workspace-selection",e.EXPORT_FORM="export-form",e.EXPORT_OPTIONS="export-options",e.ORDER_RESULT="order-result"}(s||(s={})),function(e){e.POLYGON="polygon",e.RECTANGLE="rectangle"}(n||(n={})),function(e){e.TEXT="text",e.NUMBER="number",e.TEXTAREA="textarea",e.SELECT="select",e.MULTI_SELECT="multi-select",e.CHECKBOX="checkbox",e.PASSWORD="password",e.FILE="file",e.DATE_TIME="date-time",e.URL="url",e.SWITCH="switch",e.RADIO="radio",e.SLIDER="slider",e.NUMERIC_INPUT="numeric-input",e.TAG_INPUT="tag-input",e.COLOR="color",e.DATE="date",e.TIME="time",e.EMAIL="email",e.PHONE="phone",e.SEARCH="search",e.MESSAGE="message",e.TABLE="table",e.MONTH="month",e.WEEK="week",e.COORDSYS="coord-sys",e.ATTRIBUTE_NAME="attribute-name",e.ATTRIBUTE_LIST="attribute-list",e.DB_CONNECTION="db-connection",e.WEB_CONNECTION="web-connection",e.TEXT_OR_FILE="text-or-file",e.REPROJECTION_FILE="reprojection-file",e.SCRIPTED="scripted",e.GEOMETRY="geometry",e.HIDDEN="hidden"}(i||(i={})),function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error"}(o||(o={})),function(e){e.VALIDATION="validation",e.CONFIG="config",e.NETWORK="network",e.MODULE="module",e.GEOMETRY="geometry"}(a||(a={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(c||(c={})),function(e){e.text="text",e.number="number",e.checkbox="checkbox",e.dropdown="dropdown",e.listbox="listbox",e.tree="tree",e.password="password",e.datetime="datetime",e.message="message",e.group="group",e.file="file",e.color="color",e.range="range",e.TEXT="TEXT",e.INTEGER="INTEGER",e.FLOAT="FLOAT",e.BOOLEAN="BOOLEAN",e.CHECKBOX="CHECKBOX",e.CHOICE="CHOICE",e.LISTBOX="LISTBOX",e.LOOKUP_LISTBOX="LOOKUP_LISTBOX",e.LOOKUP_CHOICE="LOOKUP_CHOICE",e.TEXT_OR_FILE="TEXT_OR_FILE",e.TEXT_EDIT="TEXT_EDIT",e.PASSWORD="PASSWORD",e.FILENAME="FILENAME",e.FILENAME_MUSTEXIST="FILENAME_MUSTEXIST",e.DIRNAME="DIRNAME",e.DIRNAME_MUSTEXIST="DIRNAME_MUSTEXIST",e.DIRNAME_SRC="DIRNAME_SRC",e.COORDSYS="COORDSYS",e.STRING="STRING",e.URL="URL",e.LOOKUP_URL="LOOKUP_URL",e.LOOKUP_FILE="LOOKUP_FILE",e.DATE_TIME="DATE_TIME",e.DATETIME="DATETIME",e.DATE="DATE",e.TIME="TIME",e.MONTH="MONTH",e.WEEK="WEEK",e.COLOR="COLOR",e.COLOR_PICK="COLOR_PICK",e.RANGE_SLIDER="RANGE_SLIDER",e.GEOMETRY="GEOMETRY",e.MESSAGE="MESSAGE",e.ATTRIBUTE_NAME="ATTRIBUTE_NAME",e.ATTRIBUTE_LIST="ATTRIBUTE_LIST",e.DB_CONNECTION="DB_CONNECTION",e.WEB_CONNECTION="WEB_CONNECTION",e.REPROJECTION_FILE="REPROJECTION_FILE",e.SCRIPTED="SCRIPTED",e.NOVALUE="NOVALUE",e.GROUP="GROUP"}(u||(u={})),function(e){e.QUEUED="QUEUED",e.PULLED="PULLED",e.RUNNING="RUNNING",e.SUCCESS="SUCCESS",e.FME_FAILURE="FME_FAILURE",e.JOB_FAILURE="JOB_FAILURE",e.ABORTED="ABORTED"}(l||(l={})),function(e){e.SET_VIEW_MODE="fme/SET_VIEW_MODE",e.RESET_STATE="fme/RESET_STATE",e.SET_GEOMETRY="fme/SET_GEOMETRY",e.SET_DRAWING_TOOL="fme/SET_DRAWING_TOOL",e.COMPLETE_DRAWING="fme/COMPLETE_DRAWING",e.SET_ORDER_RESULT="fme/SET_ORDER_RESULT",e.SET_WORKSPACE_ITEMS="fme/SET_WORKSPACE_ITEMS",e.SET_WORKSPACE_PARAMETERS="fme/SET_WORKSPACE_PARAMETERS",e.SET_SELECTED_WORKSPACE="fme/SET_SELECTED_WORKSPACE",e.SET_WORKSPACE_ITEM="fme/SET_WORKSPACE_ITEM",e.SET_ERROR="fme/SET_ERROR",e.SET_ERRORS="fme/SET_ERRORS",e.CLEAR_WORKSPACE_STATE="fme/CLEAR_WORKSPACE_STATE",e.CLEAR_ERROR="fme/CLEAR_ERROR",e.RESET_TO_DRAWING="fme/RESET_TO_DRAWING",e.COMPLETE_STARTUP="fme/COMPLETE_STARTUP",e.REMOVE_WIDGET_STATE="fme/REMOVE_WIDGET_STATE",e.SET_LOADING_FLAG="fme/SET_LOADING_FLAG",e.APPLY_WORKSPACE_DATA="fme/APPLY_WORKSPACE_DATA"}(h||(h={}))},6158:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var s=r(6261),n=r(1692),i=r(8904),o=class extends n.k{#y;#m;#i;#R;constructor(e){super(),this.#y=e.client,this.mutationId=e.mutationId,this.#i=e.mutationCache,this.#m=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#m.includes(e)||(this.#m.push(e),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#m=this.#m.filter((t=>t!==e)),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#m.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#R?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#I({type:"continue"})},r={client:this.#y,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#R=(0,i.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#I({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#I({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});const s="pending"===this.state.status,n=!this.#R.canStart();try{if(s)t();else{this.#I({type:"pending",variables:e,isPaused:n}),await(this.#i.config.onMutate?.(e,this,r));const t=await(this.options.onMutate?.(e,r));t!==this.state.context&&this.#I({type:"pending",context:t,variables:e,isPaused:n})}const i=await this.#R.start();return await(this.#i.config.onSuccess?.(i,e,this.state.context,this,r)),await(this.options.onSuccess?.(i,e,this.state.context,r)),await(this.#i.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(i,null,e,this.state.context,r)),this.#I({type:"success",data:i}),i}catch(t){try{throw await(this.#i.config.onError?.(t,e,this.state.context,this,r)),await(this.options.onError?.(t,e,this.state.context,r)),await(this.#i.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(void 0,t,e,this.state.context,r)),t}finally{this.#I({type:"error",error:t})}}finally{this.#i.runNext(this)}}#I(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),s.jG.batch((()=>{this.#m.forEach((t=>{t.onMutationUpdate(e)})),this.#i.notify({mutation:this,type:"updated",action:e})}))}}},6261:(e,t,r)=>{"use strict";r.d(t,{jG:()=>n});var s=r(2775).Zq;var n=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=s;const o=s=>{t?e.push(s):i((()=>{r(s)}))};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{n((()=>{t.forEach((e=>{r(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}()},6500:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},6920:(e,t,r)=>{"use strict";r(3417),r(4986),r(3890)},7390:(e,t,r)=>{var s;!function(){"use strict";var n=function e(t){var r,s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),n={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function o(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(n.use_static=Boolean(t.use_static));var a="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,a)))}function u(e,t){return e===t||e!=e&&t!=t}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var h=["setPrototypeOf"],d=(h.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function E(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function p(e,t){return o(e,a,!0),e}function f(e,t){var r=e[t];o(e,t,(function(){return K(r.apply(e,arguments))}))}function O(e,t,r){var s=r&&r.deep;if(e in this&&(s&&this[e]!==t&&l(t)&&l(this[e])&&(t=K.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var n=S.call(this);return n[e]=K(t),m(n)}h.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),E.prototype=new Error,E.prototype.constructor=Error;var T=K([]);function y(e,t,r){var s=e[0];if(1===e.length)return O.call(this,s,t,r);var n,i=e.slice(1),o=this[s];if("object"==typeof o&&null!==o)n=K.setIn(o,i,t);else{var a=i[0];n=""!==a&&isFinite(a)?y.call(T,i,t):N.call(P,i,t)}if(s in this&&o===n)return this;var c=S.call(this);return c[s]=n,m(c)}function m(e){for(var t in d){if(d.hasOwnProperty(t))f(e,d[t])}n.use_static||(o(e,"flatMap",I),o(e,"asObject",_),o(e,"asMutable",S),o(e,"set",O),o(e,"setIn",y),o(e,"update",k),o(e,"updateIn",U),o(e,"getIn",j));for(var r=0,s=e.length;r<s;r++)e[r]=K(e[r]);return p(e)}function R(){return new Date(this.getTime())}function I(e){if(0===arguments.length)return this;var t,r=[],s=this.length;for(t=0;t<s;t++){var n=e(this[t],t,this);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return m(r)}function v(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=i(this);for(var s in this)this.hasOwnProperty(s)&&!1===e(this[s],s)&&(r[s]=this[s]);return Q(r)}function S(e){var t,r,s=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)s.push(A(this[t]));else for(t=0,r=this.length;t<r;t++)s.push(this[t]);return s}function _(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},s=this.length;for(t=0;t<s;t++){var n=e(this[t],t,this),i=n[0],o=n[1];r[i]=o}return Q(r)}function A(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,a)||e instanceof Date?e:K.asMutable(e,{deep:!0})}function g(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function w(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,s,n=Array.isArray(e),o=t&&t.deep,a=t&&t.mode||"merge",c=t&&t.merger;function h(e,s,n){var a,h=K(s[n]),d=c&&c(e[n],h,t),E=e[n];void 0===r&&void 0===d&&e.hasOwnProperty(n)&&u(h,E)||(u(E,a=void 0!==d?d:o&&l(E)&&l(h)?K.merge(E,h,t):h)&&e.hasOwnProperty(n)||(void 0===r&&(r=g(e,i(e))),r[n]=a))}if(n)for(var d=0,E=e.length;d<E;d++){var p=e[d];for(s in p)p.hasOwnProperty(s)&&h(void 0!==r?r:this,p,s)}else{for(s in e)Object.getOwnPropertyDescriptor(e,s)&&h(this,e,s);"replace"===a&&function(e,t){for(var s in e)t.hasOwnProperty(s)||(void 0===r&&(r=g(e,i(e))),delete r[s])}(this,e)}return void 0===r?this:Q(r)}function b(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return K.merge(this,e,{deep:r,mode:"replace"})}var L,M,C,P=K({});function N(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var s=e[0];if(1===e.length)return D.call(this,s,t,r);var n,o=e.slice(1),a=this[s];if(n=this.hasOwnProperty(s)&&"object"==typeof a&&null!==a?K.setIn(a,o,t):N.call(P,o,t),this.hasOwnProperty(s)&&a===n)return this;var c=g(this,i(this));return c[s]=n,Q(c)}function D(e,t,r){var s=r&&r.deep;if(this.hasOwnProperty(e)&&(s&&this[e]!==t&&l(t)&&l(this[e])&&(t=K.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var n=g(this,i(this));return n[e]=K(t),Q(n)}function k(e,t){var r=Array.prototype.slice.call(arguments,2),s=this[e];return K.set(this,e,t.apply(s,[s].concat(r)))}function W(e,t){for(var r=0,s=t.length;null!=e&&r<s;r++)e=e[t[r]];return r&&r==s?e:void 0}function U(e,t){var r=Array.prototype.slice.call(arguments,2),s=W(this,e);return K.setIn(this,e,t.apply(s,[s].concat(r)))}function j(e,t){var r=W(this,e);return void 0===r?t:r}function F(e){var t,r=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=A(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function G(){return{}}function Q(e){return n.use_static||(o(e,"merge",w),o(e,"replace",b),o(e,"without",v),o(e,"asMutable",F),o(e,"set",D),o(e,"setIn",N),o(e,"update",k),o(e,"updateIn",U),o(e,"getIn",j)),p(e)}function K(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===s)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(K);if(Array.isArray(e))return m(e.slice());if(e instanceof Date)return i=new Date(e.getTime()),n.use_static||o(i,"asMutable",R),p(i);var i,a=t&&t.prototype,u=(a&&a!==Object.prototype?function(){return Object.create(a)}:G)();for(var l in e)Object.getOwnPropertyDescriptor(e,l)&&(u[l]=K(e[l],void 0,r));return Q(u)}function V(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function q(e,t){return function(){var r=[].slice.call(arguments),s=r.shift();return Array.isArray(s)?t.apply(s,r):e.apply(s,r)}}return K.from=K,K.isImmutable=c,K.ImmutableError=E,K.merge=V(w),K.replace=V(b),K.without=V(v),K.asMutable=(L=F,M=S,C=R,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?M.apply(t,e):t instanceof Date?C.apply(t,e):L.apply(t,e)}),K.set=q(D,O),K.setIn=q(N,y),K.update=V(k),K.updateIn=V(U),K.getIn=V(j),K.flatMap=V(I),K.asObject=V(_),n.use_static||(K.static=e({use_static:!0})),Object.freeze(K),K}();void 0===(s=function(){return n}.call(t,r,t,e))||(e.exports=s)}()},8904:(e,t,r)=>{"use strict";r.d(t,{II:()=>l,cc:()=>u,v_:()=>c});var s=r(9658),n=r(6035),i=r(4658),o=r(4880);function a(e){return Math.min(1e3*2**e,3e4)}function c(e){return"online"!==(e??"online")||n.t.isOnline()}var u=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function l(e){let t,r=!1,l=0;const h=(0,i.T)(),d=()=>"pending"!==h.status,E=()=>s.m.isFocused()&&("always"===e.networkMode||n.t.isOnline())&&e.canRun(),p=()=>c(e.networkMode)&&e.canRun(),f=e=>{d()||(t?.(),h.resolve(e))},O=e=>{d()||(t?.(),h.reject(e))},T=()=>new Promise((r=>{t=e=>{(d()||E())&&r(e)},e.onPause?.()})).then((()=>{t=void 0,d()||e.onContinue?.()})),y=()=>{if(d())return;let t;const s=0===l?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(f).catch((t=>{if(d())return;const s=e.retry??(o.S$?0:3),n=e.retryDelay??a,i="function"==typeof n?n(l,t):n,c=!0===s||"number"==typeof s&&l<s||"function"==typeof s&&s(l,t);!r&&c?(l++,e.onFail?.(l,t),(0,o.yy)(i).then((()=>E()?void 0:T())).then((()=>{r?O(t):y()}))):O(t)}))};return{promise:h,status:()=>h.status,cancel:t=>{if(!d()){const r=new u(t);O(r),e.onCancel?.(r)}},continue:()=>(t?.(),h),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?y():T().then(y),h)}}},9063:(e,t,r)=>{"use strict";r.d(t,{Nn:()=>s.Nn});r(5880);var s=r(4986);r(1181),r(1618),r(6920),r(1138),r(3040),r(9244);const n=(e,t)=>{try{e&&"function"==typeof e.closePopup&&e.closePopup()}catch(e){}},i=(e,t)=>{if(!e)return null;const r=e,s="boolean"==typeof r.autoOpenEnabled?r.autoOpenEnabled:void 0;n(t);try{r.autoOpenEnabled=!1}catch(e){}let i=null;if("function"==typeof e.watch)try{i=e.watch("visible",(e=>{e&&n(t)}))}catch(e){}return{popup:e,view:t||null,handle:i,prevAutoOpen:s}},o=e=>{var t,r;if(e){try{null===(r=null===(t=e.handle)||void 0===t?void 0:t.remove)||void 0===r||r.call(t)}catch(e){}(e=>{const t=e.popup;try{const r="boolean"!=typeof e.prevAutoOpen||e.prevAutoOpen;t.autoOpenEnabled=r}catch(e){}})(e)}};new class{constructor(){this.record=null,this.owners=new Set}acquire(e,t,r){var s;if(!t)return void this.release(e);const n=null===(s=this.record)||void 0===s?void 0:s.popup;if(!n||n!==t){this.teardown(),this.owners.clear();const e=i(t,r);if(!e)return;this.record=e}this.owners.add(e)}release(e){this.owners.delete(e)&&0===this.owners.size&&this.teardown()}releaseAll(){(0!==this.owners.size||this.record)&&(this.owners.clear(),this.teardown())}teardown(){this.record&&(o(this.record),this.record=null)}};r(930),r(3890),r(2242)},9244:e=>{"use strict";e.exports=r},9658:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var s=r(6500),n=r(4880),i=new class extends s.Q{#v;#O;#T;constructor(){super(),this.#T=e=>{if(!n.S$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#O||this.setEventListener(this.#T)}onUnsubscribe(){this.hasListeners()||(this.#O?.(),this.#O=void 0)}setEventListener(e){this.#T=e,this.#O?.(),this.#O=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#v!==e&&(this.#v=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#v?this.#v:"hidden"!==globalThis.document?.visibilityState}}},9757:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var s=r(4880),n=r(6261),i=r(8904),o=r(1692),a=class extends o.k{#S;#_;#A;#y;#R;#o;#g;constructor(e){super(),this.#g=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#y=e.client,this.#A=this.#y.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#S=c(this.options),this.state=e.state??this.#S,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#R?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=c(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#S=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#A.remove(this)}setData(e,t){const r=(0,s.pl)(this.state.data,e,this.options);return this.#I({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#I({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#R?.promise;return this.#R?.cancel(e),t?t.then(s.lQ).catch(s.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#S)}isActive(){return this.observers.some((e=>!1!==(0,s.Eh)(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some((e=>"static"===(0,s.d2)(e.options.staleTime,this)))}isStale(){return this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,s.j3)(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#R?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#R?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#A.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#R&&(this.#g?this.#R.cancel({revert:!0}):this.#R.cancelRetry()),this.scheduleGc()),this.#A.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#I({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#R?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#R)return this.#R.continueRetry(),this.#R.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#g=!0,r.signal)})},o=()=>{const e=(0,s.ZM)(this.options,t),r=(()=>{const e={client:this.#y,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return this.#g=!1,this.options.persister?this.options.persister(e,r,this):e(r)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#y,state:this.state,fetchFn:o};return n(e),e})();this.options.behavior?.onFetch(a,this),this.#_=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#I({type:"fetch",meta:a.fetchOptions?.meta}),this.#R=(0,i.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof i.cc&&e.revert&&this.setState({...this.#_,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#I({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#I({type:"pause"})},onContinue:()=>{this.#I({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const e=await this.#R.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#A.config.onSuccess?.(e,this),this.#A.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof i.cc){if(e.silent)return this.#R.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#I({type:"error",error:e}),this.#A.config.onError?.(e,this),this.#A.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#I(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(r=t.data,s=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,i.v_)(s.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const n={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#_=e.manual?n:void 0,n;case"error":const o=e.error;return{...t,error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var r,s})(this.state),n.jG.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#A.notify({query:this,type:"updated",action:e})}))}};function c(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}return i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="",i(3740),i(5880)})())}}}));