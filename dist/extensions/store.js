System.register(["jimu-core","jimu-theme","jimu-arcgis"],(function(e,t){var r={},s={},n={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(n,"__esModule",{value:!0}),{setters:[function(e){r.WidgetState=e.WidgetState},function(e){Object.keys(e).forEach((function(t){s[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))}],execute:function(){e((()=>{var e={930:(e,t,r)=>{"use strict";r(9244),r(3417),r(2238),r(4986),r(6920)},1138:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>n});var s=r(3417);r(3890),r(4986),r(1181);const n=(e,t)=>{if(e)try{e.signal.aborted||e.abort(t)}catch{try{e.abort()}catch{}}},i=(e,t,r={})=>{const n=Date.now(),i=r.code??`${e.toUpperCase()}_ERROR`,o=r.scope??"general",a=r.recoverable??e!==s.By.MODULE;return{message:t,type:e,code:i,severity:r.severity??s.MU.ERROR,recoverable:a,timestampMs:n,userFriendlyMessage:r.userFriendlyMessage??"",suggestion:r.suggestion??"",details:r.details,kind:"serializable",errorId:`${o}_${i}`}},o={[s.By.NETWORK]:(e,t={})=>i(s.By.NETWORK,e,t),[s.By.VALIDATION]:(e,t={})=>i(s.By.VALIDATION,e,t),[s.By.CONFIG]:(e,t={})=>i(s.By.CONFIG,e,t),[s.By.GEOMETRY]:(e,t={})=>i(s.By.GEOMETRY,e,t),[s.By.MODULE]:(e,t={})=>i(s.By.MODULE,e,t)};s.By.NETWORK,s.By.VALIDATION,s.By.CONFIG,s.By.GEOMETRY,s.By.MODULE},1181:(e,t,r)=>{"use strict";r(9244),r(3417),r(3890),r(4986),r(7389)},1618:(e,t,r)=>{"use strict";r(3417),r(4986),r(1138),r(3314),r(7389)},1658:(e,t,r)=>{"use strict";var s=r(4880),n=r(9757),i=r(6261),o=r(6500),a=class extends o.Q{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const i=t.queryKey,o=t.queryHash??(0,s.F$)(i,t);let a=this.get(o);return a||(a=new n.X({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){i.jG.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,s.MK)(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>(0,s.MK)(e,t))):t}notify(e){i.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){i.jG.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){i.jG.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},c=r(6158),u=class extends o.Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#s=0}#t;#r;#s;build(e,t,r){const s=new c.s({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#t.add(e);const t=l(e);if("string"==typeof t){const r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=l(e);if("string"==typeof t){const r=this.#r.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=l(e);if("string"==typeof t){const r=this.#r.get(t),s=r?.find((e=>"pending"===e.state.status));return!s||s===e}return!0}runNext(e){const t=l(e);if("string"==typeof t){const r=this.#r.get(t)?.find((t=>t!==e&&t.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){i.jG.batch((()=>{this.#t.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#t.clear(),this.#r.clear()}))}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,s.nJ)(t,e)))}findAll(e={}){return this.getAll().filter((t=>(0,s.nJ)(e,t)))}notify(e){i.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return i.jG.batch((()=>Promise.all(e.map((e=>e.continue().catch(s.lQ))))))}};function l(e){return e.options.scope?.id}var E=r(9658),d=r(6035);function h(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const l=async()=>{let r=!1;const l=(0,s.ZM)(t.options,t.fetchOptions),E=async(e,n,i)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",(()=>{r=!0})),t.signal)}),e})(),a=await l(o),{maxPages:c}=t.options,u=i?s.ZZ:s.y9;return{pages:u(e.pages,a,c),pageParams:u(e.pageParams,n,c)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:a},r=(e?f:p)(n,t);c=await E(t,r,e)}else{const t=e??o.length;do{const e=0===u?a[0]??n.initialPageParam:p(n,c);if(u>0&&null==e)break;c=await E(c,e),u++}while(u<t)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function p(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function f(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var O=r(3096);new class{#n;#i;#o;#a;#c;#u;#l;#E;constructor(e={}){this.#n=e.queryCache||new a,this.#i=e.mutationCache||new u,this.#o=e.defaultOptions||{},this.#a=new Map,this.#c=new Map,this.#u=0}mount(){this.#u++,1===this.#u&&(this.#l=E.m.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#n.onFocus())})),this.#E=d.t.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#n.onOnline())})))}unmount(){this.#u--,0===this.#u&&(this.#l?.(),this.#l=void 0,this.#E?.(),this.#E=void 0)}isFetching(e){return this.#n.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#n.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,s.d2)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#n.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#n.get(n.queryHash),o=i?.state.data,a=(0,s.Zw)(t,o);if(void 0!==a)return this.#n.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return i.jG.batch((()=>this.#n.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state}removeQueries(e){const t=this.#n;i.jG.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=this.#n;return i.jG.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const r={revert:!0,...t},n=i.jG.batch((()=>this.#n.findAll(e).map((e=>e.cancel(r)))));return Promise.all(n).then(s.lQ).catch(s.lQ)}invalidateQueries(e,t={}){return i.jG.batch((()=>(this.#n.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=i.jG.batch((()=>this.#n.findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(s.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(n).then(s.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#n.build(this,t);return r.isStaleByTime((0,s.d2)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(s.lQ).catch(s.lQ)}fetchInfiniteQuery(e){return e.behavior=h(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(s.lQ).catch(s.lQ)}ensureInfiniteQueryData(e){return e.behavior=h(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return d.t.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#o}setDefaultOptions(e){this.#o=e}setQueryDefaults(e,t){this.#a.set((0,s.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach((t=>{(0,s.Cp)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)})),r}setMutationDefaults(e,t){this.#c.set((0,s.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#c.values()],r={};return t.forEach((t=>{(0,s.Cp)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#o.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,s.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===s.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#o.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}}({defaultOptions:{queries:{staleTime:O.ST.FIVE_MINUTES,gcTime:O.ST.TEN_MINUTES,retry:(e,t)=>{const r=t?.status||t?.response?.status;return r!==O.jL.UNAUTHORIZED&&r!==O.jL.FORBIDDEN&&(!(r&&r>=O.H4.CLIENT_ERROR_MIN&&r<O.H4.SERVER_ERROR_MIN)&&e<O.WC.MAX_RETRY_ATTEMPTS)},refetchOnWindowFocus:!1,refetchOnReconnect:!1}}})},1692:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var s=r(2775),n=r(4880),i=class{#d;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,n.gn)(this.gcTime)&&(this.#d=s.zs.setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(n.S$?1/0:3e5))}clearGcTimeout(){this.#d&&(s.zs.clearTimeout(this.#d),this.#d=void 0)}}},1787:(e,t,r)=>{"use strict";class s{constructor(){this.cache=new Map}async execute(e,t){const r=this.cache.get(e);if(r)return r;const s=t();return this.cache.set(e,s),s.finally((()=>{this.cache.delete(e)}))}}new s,new s;r(3096),r(3314),r(3890);r(3417),r(7389);r(1138);r(3040);r(5880),r(2242),r(1618);r(5009)},1888:e=>{"use strict";e.exports=s},2238:(e,t,r)=>{"use strict";var s=r(3096),n=(r(3417),r(5009),r(3314),r(1138));r(3040),r(3890);s.mR;const i=e=>{if(void 0!==e)return e;if("function"==typeof DOMException)return new DOMException("Aborted","AbortError");const t=new Error("Aborted");return t.name="AbortError",t},o=()=>{};new class{constructor(){this.controllers=new Map,this.listeners=new Map,this.pendingReasons=new Map}register(e,t){if(!e)return;this.controllers.set(e,t);const r=this.pendingReasons.get(e);void 0!==r&&((0,n.Wz)(t,r),this.pendingReasons.delete(e))}release(e,t){if(!e)return;const r=this.controllers.get(e);if(t&&r&&r!==t)return;this.controllers.delete(e),this.pendingReasons.delete(e);const s=this.listeners.get(e);if(s?.size){for(const e of s)try{e.signal.removeEventListener("abort",e.handler)}catch{}this.listeners.delete(e)}}abort(e,t){if(!e)return;const r=this.controllers.get(e);if(!r)return void this.pendingReasons.set(e,t??i());const s=t??i();(0,n.Wz)(r,s),this.release(e,r)}linkExternal(e,t){if(!e||!t)return o;if(t.aborted)return this.abort(e,t.reason),o;const r={signal:t,handler:()=>{const r=t.reason;this.abort(e,r)}};t.addEventListener("abort",r.handler);let s=this.listeners.get(e);return s||(s=new Set,this.listeners.set(e,s)),s.add(r),()=>{try{t.removeEventListener("abort",r.handler)}catch{}const s=this.listeners.get(e);s&&(s.delete(r),0===s.size&&this.listeners.delete(e))}}abortAll(e){const t=Array.from(this.controllers.entries());for(const[r,s]of t)this.abort(r,e),this.release(r,s)}};Object.create(null)},2242:(e,t,r)=>{"use strict";r(9244),r(3417),r(5880),r(1787),r(3314)},2686:e=>{"use strict";e.exports=n},2775:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>i,zs:()=>n});var s={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},n=new class{#h=s;#p=!1;setTimeoutProvider(e){this.#h=e}setTimeout(e,t){return this.#h.setTimeout(e,t)}clearTimeout(e){this.#h.clearTimeout(e)}setInterval(e,t){return this.#h.setInterval(e,t)}clearInterval(e){this.#h.clearInterval(e)}};function i(e){setTimeout(e,0)}},3040:(e,t,r)=>{"use strict";r(9244),r(3417),r(5132),r(3890),r(4986),r(6920),r(1181),r(1618),r(7389),r(930)},3096:(e,t,r)=>{"use strict";r.d(t,{EV:()=>i,EW:()=>O,H4:()=>d,P9:()=>R,ST:()=>f,WC:()=>h,j2:()=>T,jL:()=>E,mR:()=>p,nu:()=>l});var s=r(9244),n=r(6055);const i=Object.freeze([n.ZW.SET_VIEW_MODE,n.ZW.RESET_STATE,n.ZW.SET_GEOMETRY,n.ZW.SET_DRAWING_TOOL,n.ZW.COMPLETE_DRAWING,n.ZW.SET_ORDER_RESULT,n.ZW.SET_WORKSPACE_ITEMS,n.ZW.SET_WORKSPACE_PARAMETERS,n.ZW.SET_SELECTED_WORKSPACE,n.ZW.SET_WORKSPACE_ITEM,n.ZW.SET_ERROR,n.ZW.SET_ERRORS,n.ZW.CLEAR_WORKSPACE_STATE,n.ZW.CLEAR_ERROR,n.ZW.RESET_TO_DRAWING,n.ZW.COMPLETE_STARTUP,n.ZW.REMOVE_WIDGET_STATE,n.ZW.SET_LOADING_FLAG,n.ZW.APPLY_WORKSPACE_DATA]),o=(n.nE.STARTUP_VALIDATION,n.nE.STARTUP_VALIDATION,n.nE.EXPORT_FORM,n.nE.WORKSPACE_SELECTION,n.nE.WORKSPACE_SELECTION,n.nE.INITIAL,n.nE.EXPORT_OPTIONS,n.nE.INITIAL,n.nE.ORDER_RESULT,n.nE.INITIAL,n.nE.DRAWING,n.nE.INITIAL,n.nE.INITIAL,n.nE.INITIAL,Object.freeze({modules:!1,submission:!1,workspaces:!1,parameters:!1,geometryValidation:!1}),Object.freeze(["esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/geometry/geometryEngine","esri/geometry/geometryEngineAsync","esri/geometry/support/webMercatorUtils","esri/geometry/projection","esri/geometry/SpatialReference","esri/geometry/support/normalizeUtils","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic"]),Object.freeze(["esriRequest","esriConfig","projection","webMercatorUtils","SpatialReference"]),Object.freeze({esriRequest:()=>Promise.resolve({data:null}),esriConfig:{request:{maxUrlLength:4e3,interceptors:[]}},projection:{},webMercatorUtils:{},SpatialReference:()=>({})}),Object.freeze({title:"",listMode:"hide",elevationInfo:{mode:"on-the-ground"}}),Object.freeze([{value:n.hL.POLYGON,label:"optPolygon",icon:"polygon",tooltip:"tipDrawPolygon",hideLabel:!0},{value:n.hL.RECTANGLE,label:"optRectangle",icon:"rectangle",tooltip:"tipDrawRectangle",hideLabel:!0}]),Object.freeze({WGS84:4326,WEB_MERCATOR:3857}),Object.freeze({M2_PER_KM2:1e6,AREA_DECIMALS:2,METERS_PER_KILOMETER:1e3,SQUARE_FEET_PER_SQUARE_MILE:27878400,VERTICES_PER_MS_ESTIMATE:100})),a=(Object.freeze([{factor:.3048,label:"ft\xb2",keywords:["foot","feet"],largeUnit:{threshold:o.SQUARE_FEET_PER_SQUARE_MILE,factor:o.SQUARE_FEET_PER_SQUARE_MILE,label:"mi\xb2"}},{factor:.3048006096,label:"ft\xb2",keywords:[]},{factor:1609.344,label:"mi\xb2",keywords:["mile"]},{factor:o.METERS_PER_KILOMETER,label:"km\xb2",keywords:["kilometer"]},{factor:.9144,label:"yd\xb2",keywords:["yard"]},{factor:.0254,label:"in\xb2",keywords:["inch"]},{factor:.01,label:"cm\xb2",keywords:["centimeter"]},{factor:.001,label:"mm\xb2",keywords:["millimeter"]},{factor:1852,label:"nm\xb2",keywords:["nautical"]},{factor:1,label:"m\xb2",keywords:["meter"]}]),Object.freeze({BASE_PATH:"/fmeapiv4",MAX_URL_LENGTH:4e3,WEBHOOK_EXCLUDE_KEYS:[],WEBHOOK_LOG_WHITELIST:Object.freeze(["opt_responseformat","opt_showresult","opt_servicemode","tm_ttc","tm_ttl","tm_tag"]),JOB_RESULT_POLL_INTERVAL_MS:2e3,JOB_RESULT_MAX_WAIT_MS:3e5,JOB_RESULT_LONG_POLL_INTERVAL_SEC:10,TEMP_RESOURCE_CONNECTION:"Temp"})),c=(Object.freeze(["sync","async"]),Object.freeze(["tm_ttc","tm_ttl","tm_tag"])),u=(Object.freeze(["tm_ttc","tm_ttl"]),Object.freeze({text:"TEXT",string:"STRING",text_edit:"TEXT_EDIT",textedit:"TEXT_EDIT",textarea:"TEXT_EDIT",password:"PASSWORD",url:"URL",integer:"INTEGER",int:"INTEGER",float:"FLOAT",number:"FLOAT",decimal:"FLOAT",boolean:"BOOLEAN",bool:"BOOLEAN",checkbox:"CHECKBOX",choice:"CHOICE",dropdown:"CHOICE",select:"CHOICE",listbox:"LISTBOX",lookup_choice:"LOOKUP_CHOICE",lookup_listbox:"LOOKUP_LISTBOX",tree:"SCRIPTED",range:"RANGE_SLIDER",filename:"FILENAME",file:"FILENAME",filename_mustexist:"FILENAME_MUSTEXIST",dirname:"DIRNAME",directory:"DIRNAME",dirname_mustexist:"DIRNAME_MUSTEXIST",dirname_src:"DIRNAME_SRC",lookup_file:"LOOKUP_FILE",date:"DATE",time:"TIME",datetime:"DATETIME",date_time:"DATE_TIME",month:"MONTH",week:"WEEK",color:"COLOR",colour:"COLOR",color_pick:"COLOR_PICK",colorpick:"COLOR_PICK",coordsys:"COORDSYS",coordinate_system:"COORDSYS",geometry:"GEOMETRY",message:"MESSAGE",range_slider:"RANGE_SLIDER",slider:"RANGE_SLIDER",text_or_file:"TEXT_OR_FILE",attribute_name:"ATTRIBUTE_NAME",attribute_list:"ATTRIBUTE_LIST",db_connection:"DB_CONNECTION",web_connection:"WEB_CONNECTION",reprojection_file:"REPROJECTION_FILE",scripted:"SCRIPTED",group:"GROUP"}),Object.freeze(["opt_servicemode","opt_responseformat","opt_showresult","opt_requesteremail"])),l=(Object.freeze([...a.WEBHOOK_EXCLUDE_KEYS]),new Set([...c,...u]),"_"),E=(Object.freeze([]),Object.freeze({DEFAULT_CHUNK_SIZE:5,MIN_CHUNK_SIZE:1,MAX_CHUNK_SIZE:15}),Object.freeze(new Set(["MAXX","MINX","MAXY","MINY","AreaOfInterest","AREA","ExtentGeoJson","tm_ttc","tm_ttl","tm_tag"])),Object.freeze(new Set([n.QL.NOVALUE,n.QL.GROUP,n.QL.group])),Object.freeze(new Set([n.QL.DB_CONNECTION,n.QL.WEB_CONNECTION,n.QL.ATTRIBUTE_NAME,n.QL.ATTRIBUTE_LIST,n.QL.COORDSYS,n.QL.REPROJECTION_FILE])),Object.freeze(new Set([n.QL.LISTBOX,n.QL.LOOKUP_LISTBOX,n.QL.ATTRIBUTE_LIST,n.QL.listbox])),Object.freeze({[n.QL.text]:n.Vw.TEXT,[n.QL.number]:n.Vw.NUMBER,[n.QL.checkbox]:n.Vw.CHECKBOX,[n.QL.dropdown]:n.Vw.RADIO,[n.QL.listbox]:n.Vw.MULTI_SELECT,[n.QL.tree]:n.Vw.SELECT,[n.QL.password]:n.Vw.PASSWORD,[n.QL.datetime]:n.Vw.DATE_TIME,[n.QL.message]:n.Vw.MESSAGE,[n.QL.group]:n.Vw.HIDDEN,[n.QL.file]:n.Vw.FILE,[n.QL.color]:n.Vw.COLOR,[n.QL.range]:n.Vw.SLIDER,[n.QL.FLOAT]:n.Vw.NUMERIC_INPUT,[n.QL.INTEGER]:n.Vw.NUMBER,[n.QL.TEXT_EDIT]:n.Vw.TEXTAREA,[n.QL.PASSWORD]:n.Vw.PASSWORD,[n.QL.BOOLEAN]:n.Vw.SWITCH,[n.QL.CHECKBOX]:n.Vw.SWITCH,[n.QL.CHOICE]:n.Vw.RADIO,[n.QL.LOOKUP_CHOICE]:n.Vw.RADIO,[n.QL.LISTBOX]:n.Vw.MULTI_SELECT,[n.QL.LOOKUP_LISTBOX]:n.Vw.MULTI_SELECT,[n.QL.FILENAME]:n.Vw.FILE,[n.QL.FILENAME_MUSTEXIST]:n.Vw.FILE,[n.QL.DIRNAME]:n.Vw.FILE,[n.QL.DIRNAME_MUSTEXIST]:n.Vw.FILE,[n.QL.DIRNAME_SRC]:n.Vw.FILE,[n.QL.DATE_TIME]:n.Vw.DATE_TIME,[n.QL.DATETIME]:n.Vw.DATE_TIME,[n.QL.URL]:n.Vw.URL,[n.QL.LOOKUP_URL]:n.Vw.URL,[n.QL.LOOKUP_FILE]:n.Vw.FILE,[n.QL.DATE]:n.Vw.DATE,[n.QL.TIME]:n.Vw.TIME,[n.QL.MONTH]:n.Vw.MONTH,[n.QL.WEEK]:n.Vw.WEEK,[n.QL.COLOR]:n.Vw.COLOR,[n.QL.COLOR_PICK]:n.Vw.COLOR,[n.QL.RANGE_SLIDER]:n.Vw.SLIDER,[n.QL.MESSAGE]:n.Vw.MESSAGE,[n.QL.TEXT_OR_FILE]:n.Vw.TEXT_OR_FILE,[n.QL.REPROJECTION_FILE]:n.Vw.REPROJECTION_FILE,[n.QL.COORDSYS]:n.Vw.COORDSYS,[n.QL.ATTRIBUTE_NAME]:n.Vw.ATTRIBUTE_NAME,[n.QL.ATTRIBUTE_LIST]:n.Vw.ATTRIBUTE_LIST,[n.QL.DB_CONNECTION]:n.Vw.DB_CONNECTION,[n.QL.WEB_CONNECTION]:n.Vw.WEB_CONNECTION,[n.QL.SCRIPTED]:n.Vw.SCRIPTED}),Object.freeze({FLOAT:"number",INTEGER:"number",BOOLEAN:"boolean",STRING:"text",TEXT:"text"}),Object.freeze(["no slider","noslider","without slider"]),Object.freeze(["FILENAME","FILENAME_MUSTEXIST","DIRNAME","DIRNAME_MUSTEXIST","DIRNAME_SRC","LOOKUP_FILE","REPROJECTION_FILE"]),Object.freeze({DEFAULT_MAX_SIZE_MB:150,ONE_MB_IN_BYTES:1048576,GEOMETRY_PREVIEW_MAX_LENGTH:1500,MAX_FILENAME_LENGTH:128,MAX_NAMESPACE_LENGTH:64,DEFAULT_ALLOWED_EXTENSIONS:Object.freeze([".zip",".kmz",".json",".geojson",".gml"]),DEFAULT_ALLOWED_MIME_TYPES:Object.freeze(new Set(["application/zip","application/x-zip-compressed","application/vnd.google-earth.kmz","application/json","application/geo+json","application/gml+xml","text/plain",""].map((e=>e.toLowerCase())))),FILE_DISPLAY_KEYS:Object.freeze(["text","path","location","value","dataset","defaultValue","fileName","filename","file_path","file","uri","url","name"])}),new Set(["SELECT","COORDSYS","ATTRIBUTE_NAME","DB_CONNECTION","WEB_CONNECTION","REPROJECTION_FILE"]),new Set(["MULTI_SELECT","ATTRIBUTE_LIST"]),Object.freeze({TEXT:"text",FILE:"file"}),Object.freeze(["text","email","tel","search","password","number"]),Object.freeze({email:"phEmail",phone:"phPhone",search:"phSearch"}),Object.freeze({MAX_TEXT_LENGTH:5e3,IPV4_OCTET_MAX:255,IPV4_OCTET_MIN:0,MAX_GEOMETRY_VERTICES:5e3,SLIDER_DEFAULT_MAX:100,RGB_MAX:255,RGB_MIN:0}),Object.freeze({VALIDATION:{DEFAULT_TTL_VALUE:"",DEFAULT_TTC_VALUE:""},LIMITS:{MAX_M2_CAP:1e10,MAX_REQUEST_TIMEOUT_MS:6e5},DIRECTIVES:{DESCRIPTION_MAX:512,TAG_MAX:128},COLORS:{BACKGROUND_DARK:"#181818"},TEXT:{LARGE_AREA_MESSAGE_MAX:200}}),Object.freeze(["fmeServerUrl","fmeServerToken","repository"]),Object.freeze(new Set(["AbortError","ABORT_ERR","ERR_ABORTED"])),Object.freeze({OK:200,ACCEPTED:202,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,BAD_REQUEST:400,TIMEOUT:408,GATEWAY_TIMEOUT:504,TOO_MANY_REQUESTS:429,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,NETWORK_ERROR:0,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599})),d=Object.freeze({SUCCESS_MIN:200,SUCCESS_MAX:399,CLIENT_ERROR_MIN:400,CLIENT_ERROR_MAX:499,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599,MIN_VALID:100,MAX_VALID:599}),h=Object.freeze({MAX_HISTORY_SIZE:100,API_QUERY_LIMIT:500,RANDOM_ID_LENGTH:8,MAX_RETRY_ATTEMPTS:3,MAX_CONCURRENT_PREFETCH:6}),p=Object.freeze({enabled:!0,logLevel:"debug",bodyPreviewLimit:1024,warnSlowMs:1e3}),f=(Object.freeze(["failed to fetch","networkerror","net::","dns","enotfound","econnrefused","timeout","name or service not known","err_name_not_resolved","unable to load","/sharing/proxy","proxy"]),Object.freeze(["unable to load","/sharing/proxy","proxy"]),Object.freeze(["localhost",".localhost",".local",".internal",".intranet",".home",".lan",".localdomain"]),Object.freeze([{start:[10,0,0,0],end:[10,255,255,255]},{start:[100,64,0,0],end:[100,127,255,255]},{start:[127,0,0,0],end:[127,255,255,255]},{start:[169,254,0,0],end:[169,254,255,255]},{start:[172,16,0,0],end:[172,31,255,255]},{start:[192,168,0,0],end:[192,168,255,255]},{start:[0,0,0,0],end:[0,255,255,255]}]),Object.freeze(["token","auth","secret","key","password"]),Object.freeze({SECOND:1e3,MINUTE:6e4,FIVE_MINUTES:3e5,TEN_MINUTES:6e5,MAX_RESPONSE_TIME:3e5,SLOW_REQUEST_THRESHOLD:1e3,DEBOUNCE_VALIDATION_MS:300,AUTO_DOWNLOAD_DELAY_MS:150,POPUP_CLOSE_DELAY_MS:100,BLOB_URL_CLEANUP_DELAY_MS:12e4,STARTUP_TIMEOUT_MS:15e3,MIN_LOADING_DELAY_MS:1e3})),O=Object.freeze({OPACITY_SCALE_FACTOR:100,OUTLINE_WIDTH_SLIDER_MIN:0,OUTLINE_WIDTH_SLIDER_MAX:10,OUTLINE_WIDTH_MIN:.1,OUTLINE_WIDTH_MAX:5,OUTLINE_WIDTH_INCREMENT:.5,OUTLINE_WIDTH_PRECISION:10,AREA_INPUT_STEP:1e3,PERCENT_SLIDER_MAX:100,ICON_SIZE_SMALL:16,ICON_SIZE_MEDIUM:18,ICON_SIZE_LARGE:24,LOADING_SPINNER_SIZE:32}),T=Object.freeze({DELAY_ENTER_MS:500,DELAY_NEXT_MS:300,DELAY_LEAVE_MS:300,DELAY_TOUCH_MS:700}),R=Object.freeze({DELAY_MS:1e3,DETAIL_DELAY_MS:2e3,CYCLE_INTERVAL_MS:4e3}),y=(Object.freeze({TO_ACTIVE:{fromStates:[s.WidgetState.Closed,s.WidgetState.Hidden],toStates:[s.WidgetState.Opened,s.WidgetState.Active]},TO_INACTIVE:{fromStates:[s.WidgetState.Opened,s.WidgetState.Active],toStates:[s.WidgetState.Closed,s.WidgetState.Hidden]},TO_CLOSED:{fromStates:[s.WidgetState.Opened,s.WidgetState.Active],toStates:[s.WidgetState.Closed]},FROM_CLOSED:{fromStates:[s.WidgetState.Closed],toStates:[s.WidgetState.Opened,s.WidgetState.Active]}}),Object.freeze({error:"error.svg",map:"map.svg",polygon:"polygon.svg",rectangle:"rectangle.svg",warning:"warning.svg","person-lock":"person-lock.svg",folder:"folder.svg",data:"data.svg","shared-no":"shared-no.svg","feature-service":"feature-service.svg","link-tilted":"link-tilted.svg",time:"time.svg",setting:"setting.svg",email:"email.svg",info:"info.svg",success:"success.svg"}),Object.freeze({warning:"warning",error:"error",info:"info",success:"success"}),Object.freeze({GEOMETRY_SERIALIZATION_FAILED:"polygon",MAP_MODULES_LOAD_FAILED:"map",FORM_INVALID:"warning"}),Object.freeze([{token:"GEOMETRY",icon:"polygon"},{token:"AREA",icon:"polygon"},{token:"MAP",icon:"map"},{token:"MODULE",icon:"map"},{token:"FORM",icon:"warning"},{token:"TOKEN",icon:"person-lock"},{token:"AUTH",icon:"person-lock"},{token:"REPOSITORY",icon:"folder"},{token:"REPO",icon:"folder"},{token:"DATA",icon:"data"},{token:"NETWORK",icon:"shared-no"},{token:"OFFLINE",icon:"shared-no"},{token:"CONNECTION",icon:"shared-no"},{token:"REQUEST",icon:"shared-no"},{token:"SERVER",icon:"feature-service"},{token:"GATEWAY",icon:"feature-service"},{token:"URL",icon:"link-tilted"},{token:"TIMEOUT",icon:"time"},{token:"CONFIG",icon:"setting"},{token:"EMAIL",icon:"email"}]),Object.freeze({CANCELLED_PROMISE:"CancelledPromiseError",ABORT:"AbortError"}),Object.freeze([{pattern:/timeout/i,key:"requestTimedOut"},{pattern:/cors/i,key:"corsBlocked"},{pattern:/url.*too/i,key:"urlTooLongMessage"},{pattern:/remote_dataset_workspace_required/i,key:"REMOTE_DATASET_WORKSPACE_REQUIRED"}]));Object.freeze({codeToKey:{INVALID_RESPONSE_FORMAT:"errorTokenIssue",WEBHOOK_AUTH_ERROR:"errorTokenIssue",WEBHOOK_TIMEOUT:"requestTimedOut",REPOSITORIES_ERROR:"errorRepositoryAccess",REPOSITORY_ITEMS_ERROR:"errorRepositoryAccess",JOB_SUBMISSION_ERROR:"errorJobSubmission",INVALID_CONFIG:"errorSetupRequired",CONFIG_INCOMPLETE:"errorSetupRequired",configMissing:"errorSetupRequired",HTTPS_REQUIRED:"require_https",INVALID_REQUEST_URL:"invalid_url",GEOMETRY_MISSING:"geometryMissingCode",GEOMETRY_TYPE_INVALID:"geometryTypeInvalidCode",GEOMETRY_SERIALIZATION_FAILED:"geometrySerializationFailedCode",URL_TOO_LONG:"urlTooLongMessage",WEBHOOK_URL_TOO_LONG:"urlTooLongMessage",PARAMETER_VALIDATION_ERROR:"errorParameterValidation",WORKSPACE_PARAMETERS_ERROR:"errorWorkspaceParameters"},statusToKey:{401:"errorTokenIssue",408:"requestTimedOut",429:"rateLimitExceeded",431:"headersTooLargeMessage"},messagePatterns:y}),Object.freeze(["status","statusCode","httpStatus"]),Object.freeze({ERROR:3,WARNING:2,INFO:1}),Object.freeze({general:0,export:1,import:2}),Object.freeze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Object.freeze(["message","error","detail","description","reason","text"]),Object.freeze({success:"color: #28a745; font-weight: bold",info:"color: #007bff; font-weight: bold",warn:"color: #ffc107; font-weight: bold",error:"color: #dc3545; font-weight: bold",action:"color: #0078d4; font-weight: bold"}),Object.freeze({MIN_YEAR:2020,MAX_YEAR:2100,MAX_MINOR_VERSION:100}),Object.freeze({DJB2_INITIAL:5381}),Object.freeze({MAX_WINDOW_HIERARCHY_ITERATIONS:100})},3128:(e,t,r)=>{"use strict";r(9244),r(1888);var s=r(3096);s.EW.ICON_SIZE_SMALL,s.EW.ICON_SIZE_MEDIUM,s.EW.ICON_SIZE_LARGE,s.j2.DELAY_ENTER_MS,s.j2.DELAY_NEXT_MS,s.j2.DELAY_LEAVE_MS,s.j2.DELAY_TOUCH_MS,s.EW.LOADING_SPINNER_SIZE,s.EW.LOADING_SPINNER_SIZE,s.P9.DELAY_MS,s.P9.DETAIL_DELAY_MS,s.P9.CYCLE_INTERVAL_MS},3314:(e,t,r)=>{"use strict";r.d(t,{NnH:()=>s.Nn});r(5880);var s=r(4986),n=(r(1181),r(1618),r(6920),r(1138),r(3040),r(9244));const i=e=>null!=e&&"object"==typeof e;new Map;const o=(e,t)=>{try{if(e&&"function"==typeof e.closePopup)return void e.closePopup();t&&i(t)&&"function"==typeof t.close&&t.close()}catch{}},a=(e,t)=>{if(!e||!i(e))return null;const r=e,s="boolean"==typeof r.autoOpenEnabled?r.autoOpenEnabled:void 0;o(t,e);try{r.autoOpenEnabled=!1}catch{}let n=null;if("function"==typeof r.watch)try{n=r.watch("visible",(r=>{r&&o(t,e)}))}catch{}return{popup:e,view:t||null,handle:n,prevAutoOpen:s}},c=e=>{if(e){try{e.handle?.remove?.()}catch{}(e=>{const t=e.popup;if(!i(t))return;const r=t;try{const t="boolean"!=typeof e.prevAutoOpen||e.prevAutoOpen;r.autoOpenEnabled=t}catch{}})(e)}};new class{constructor(){this.record=null,this.owners=new Set}acquire(e,t,r){if(!t)return void this.release(e);const s=this.record?.popup;if(!s||s!==t){this.teardown(),this.owners.clear();const e=a(t,r);if(!e)return;this.record=e}this.owners.add(e)}release(e){this.owners.delete(e)&&0===this.owners.size&&this.teardown()}releaseAll(){(0!==this.owners.size||this.record)&&(this.owners.clear(),this.teardown())}teardown(){this.record&&(c(this.record),this.record=null)}};r(930);n.WidgetState.Closed,n.WidgetState.Hidden,n.WidgetState.Opened,n.WidgetState.Active,n.WidgetState.Opened,n.WidgetState.Active,n.WidgetState.Closed,n.WidgetState.Hidden,n.WidgetState.Opened,n.WidgetState.Active,n.WidgetState.Closed,n.WidgetState.Closed,n.WidgetState.Opened,n.WidgetState.Active;r(3890),r(2242)},3417:(e,t,r)=>{"use strict";r.d(t,{By:()=>s.By,EV:()=>n.EV,MU:()=>s.MU,ZW:()=>s.ZW,hL:()=>s.hL,nE:()=>s.nE,nu:()=>n.nu});var s=r(6055),n=r(3096);r(5132),r(3128)},3740:(e,t,r)=>{r.p=window.jimuConfig.baseUrl},3890:(e,t,r)=>{"use strict";r(3417),r(3314)},4658:(e,t,r)=>{"use strict";function s(){let e,t;const r=new Promise(((r,s)=>{e=r,t=s}));function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>s})},4880:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>f,EN:()=>p,Eh:()=>l,F$:()=>h,MK:()=>E,S$:()=>n,ZM:()=>L,ZZ:()=>A,Zw:()=>o,d2:()=>u,gn:()=>a,hT:()=>g,j3:()=>c,lQ:()=>i,nJ:()=>d,pl:()=>m,y9:()=>S,yy:()=>I});var s=r(2775),n="undefined"==typeof window||"Deno"in globalThis;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function l(e,t){return"function"==typeof e?e(t):e}function E(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=e;if(o)if(s){if(t.queryHash!==h(o,t.options))return!1}else if(!f(t.queryKey,o))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!n||n===t.state.fetchStatus)&&!(i&&!i(t)))}function d(e,t){const{exact:r,status:s,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(i))return!1}else if(!f(t.options.mutationKey,i))return!1}return(!s||t.state.status===s)&&!(n&&!n(t))}function h(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,((e,t)=>y(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function f(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((r=>f(e[r],t[r]))))}var O=Object.prototype.hasOwnProperty;function T(e,t){if(e===t)return e;const r=R(e)&&R(t);if(!(r||y(e)&&y(t)))return t;const s=(r?e:Object.keys(e)).length,n=r?t:Object.keys(t),i=n.length,o=r?new Array(i):{};let a=0;for(let c=0;c<i;c++){const i=r?c:n[c],u=e[i],l=t[i];if(u===l){o[i]=u,(r?c<s:O.call(e,i))&&a++;continue}if(null===u||null===l||"object"!=typeof u||"object"!=typeof l){o[i]=l;continue}const E=T(u,l);o[i]=E,E===u&&a++}return s===i&&a===s?e:o}function R(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function y(e){if(!_(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!_(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function _(e){return"[object Object]"===Object.prototype.toString.call(e)}function I(e){return new Promise((t=>{s.zs.setTimeout(t,e)}))}function m(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?T(e,t):t}function S(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function A(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var g=Symbol();function L(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==g?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}},4986:(e,t,r)=>{"use strict";r.d(t,{Nn:()=>n});r(3096);const s=(e,t)=>{if("string"==typeof e){const r=e.trim();return r||t?.allowEmpty?r:t?.nullable?null:void 0}return t?.allowNumeric&&"number"==typeof e&&Number.isFinite(e)?String(e):t?.nullable?null:void 0},n=e=>s(e,{allowNumeric:!1})},5009:(e,t,r)=>{"use strict";r(9244),r(3417),r(5880),r(2238),r(1658),r(1181),r(930)},5132:(e,t,r)=>{"use strict";r(6055);Error},5880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{areLoadingStatesEqual:()=>I,createFmeSelectors:()=>L,default:()=>M,fmeActions:()=>f,initialFmeState:()=>O,selectFmeSlice:()=>g});var s=r(7390),n=r.n(s);function i(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var o=e=>Array.isArray(e)?e:[e];function a(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const r=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var c="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function u(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:s}=t;let n,i=0;function o(){let t=r;const{length:o}=arguments;for(let e=0,r=o;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const s=e.get(r);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=s}else{let e=t.p;null===e&&(t.p=e=new Map);const s=e.get(r);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=s}}const a=t;let u;if(1===t.s)u=t.v;else if(u=e.apply(null,arguments),i++,s){const e=n?.deref?.()??n;null!=e&&s(e,u)&&(u=e,0!==i&&i--);n="object"==typeof u&&null!==u||"function"==typeof u?new c(u):u}return a.s=1,a.v=u,u}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function l(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,s=(...e)=>{let t,s=0,n=0,c={},l=e.pop();"object"==typeof l&&(c=l,l=e.pop()),i(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const E={...r,...c},{memoize:d,memoizeOptions:h=[],argsMemoize:p=u,argsMemoizeOptions:f=[],devModeChecks:O={}}=E,T=o(h),R=o(f),y=a(e),_=d((function(){return s++,l.apply(null,arguments)}),...T);const I=p((function(){n++;const e=function(e,t){const r=[],{length:s}=e;for(let n=0;n<s;n++)r.push(e[n].apply(null,t));return r}(y,arguments);return t=_.apply(null,e),t}),...R);return Object.assign(I,{resultFunc:l,memoizedResultFunc:_,dependencies:y,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>t,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(s,{withTypes:()=>s}),s}var E=l(u),d=Object.assign(((e,t=E)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map((t=>e[t])),((...e)=>e.reduce(((e,t,s)=>(e[r[s]]=t,e)),{})))}),{withTypes:()=>d}),h=r(3417),p=r(3314);const f={setViewMode:(e,t)=>({type:h.ZW.SET_VIEW_MODE,viewMode:e,widgetId:t}),resetState:e=>({type:h.ZW.RESET_STATE,widgetId:e}),setGeometry:(e,t,r)=>({type:h.ZW.SET_GEOMETRY,geometryJson:_(e),drawnArea:t,widgetId:r}),setDrawingTool:(e,t)=>({type:h.ZW.SET_DRAWING_TOOL,drawingTool:e,widgetId:t}),completeDrawing:(e,t,r,s)=>({type:h.ZW.COMPLETE_DRAWING,geometryJson:_(e),drawnArea:t,nextViewMode:r,widgetId:s}),setOrderResult:(e,t)=>({type:h.ZW.SET_ORDER_RESULT,orderResult:e,widgetId:t}),setWorkspaceItems:(e,t,r)=>({type:h.ZW.SET_WORKSPACE_ITEMS,workspaceItems:e,repository:t,widgetId:r}),setWorkspaceParameters:(e,t,r,s)=>({type:h.ZW.SET_WORKSPACE_PARAMETERS,workspaceParameters:e,workspaceName:t,repository:r,widgetId:s}),setSelectedWorkspace:(e,t,r)=>({type:h.ZW.SET_SELECTED_WORKSPACE,workspaceName:e,repository:t,widgetId:r}),setWorkspaceItem:(e,t,r)=>({type:h.ZW.SET_WORKSPACE_ITEM,workspaceItem:e,repository:t,widgetId:r}),setError:(e,t,r)=>({type:h.ZW.SET_ERROR,scope:e,error:t,widgetId:r}),setErrors:(e,t)=>{const r={};for(const[t,s]of Object.entries(e))void 0!==s&&(r[t]=s);return{type:h.ZW.SET_ERRORS,errors:r,widgetId:t}},clearError:(e,t)=>({type:h.ZW.CLEAR_ERROR,scope:e,widgetId:t}),clearWorkspaceState:(e,t)=>({type:h.ZW.CLEAR_WORKSPACE_STATE,newRepository:e,widgetId:t}),resetToDrawing:e=>({type:h.ZW.RESET_TO_DRAWING,widgetId:e}),completeStartup:e=>({type:h.ZW.COMPLETE_STARTUP,widgetId:e}),setLoadingFlag:(e,t,r)=>({type:h.ZW.SET_LOADING_FLAG,flag:e,value:t,widgetId:r}),applyWorkspaceData:(e,t)=>({type:h.ZW.APPLY_WORKSPACE_DATA,workspaceName:e.workspaceName,workspaceParameters:e.parameters,workspaceItem:e.item,widgetId:t}),removeWidgetState:e=>({type:h.ZW.REMOVE_WIDGET_STATE,widgetId:e})},O={viewMode:h.nE.STARTUP_VALIDATION,drawingTool:h.hL.POLYGON,geometryJson:null,drawnArea:0,orderResult:null,workspaceItems:[],selectedWorkspace:null,workspaceParameters:[],workspaceItem:null,currentRepository:null,loading:{workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1},errors:{}},T=n().default??n(),R=()=>T(O),y=e=>(0,p.NnH)(e)??null,_=e=>{if(!e)return null;if("object"!=typeof e)return null;const t=Reflect.get(e,"toJSON");if("function"!=typeof t)return null;try{return t.call(e)}catch{return null}};function I(e,t){return e.workspaces===t.workspaces&&e.parameters===t.parameters&&e.modules===t.modules&&e.submission===t.submission&&e.geometryValidation===t.geometryValidation}const m={[h.MU.ERROR]:3,[h.MU.WARNING]:2,[h.MU.INFO]:1},S={general:0,export:1,import:2};function A(e,t){if(!t||0===Object.keys(t).length)return e;const r=e.errors??{},s={};for(const[e,n]of Object.entries(t)){if(!(e in S))continue;r[e]!==n&&(s[e]=n)}if(0===Object.keys(s).length)return e;const n=Object.entries({...r,...s}).reduce(((e,[t,r])=>(null!==r&&(e[t]=r),e)),{});return e.set("errors",n)}const g=(e,t)=>{const r=e,s=r?.["fme-state"]?.byId?.[t];return s??null},L=e=>{const t=t=>g(t,e),r=e=>t(e)?.geometryJson??null,s=e=>t(e)?.drawnArea??O.drawnArea,n=e=>t(e)?.selectedWorkspace??O.selectedWorkspace,i=e=>t(e)?.workspaceParameters??O.workspaceParameters,o=e=>t(e)?.workspaceItem??O.workspaceItem,a=e=>t(e)?.errors??O.errors,c=e=>t(e)?.loading??O.loading,u=E([r,s],((e,t)=>Boolean(e)&&t>0)),l=E([a],(e=>(e=>{let t=null,r=-1,s=Number.POSITIVE_INFINITY;for(const[n,i]of Object.entries(e)){if(!i)continue;if(!(i.severity in m))continue;if(!(n in S))continue;const e=m[i.severity],o=S[n];(e>r||e===r&&o<s)&&(t={scope:n,details:i},r=e,s=o)}return t})(e))),d=E([r,s,n,i,o,a],((e,t,r,s,n,i)=>{const o=Boolean(e)&&Number.isFinite(t)&&t>0,a=Boolean(y(r)),c=s.length>0||null!==n,u=i?.general,l=!!u&&(m[u.severity]??0)>=m[h.MU.ERROR];return o&&a&&c&&!l})),p=E([c],(e=>e.workspaces||e.parameters||e.modules||e.submission));return{selectSlice:t,selectViewMode:e=>t(e)?.viewMode??O.viewMode,selectDrawingTool:e=>t(e)?.drawingTool??O.drawingTool,selectGeometryJson:r,selectDrawnArea:s,selectWorkspaceItems:e=>t(e)?.workspaceItems??O.workspaceItems,selectWorkspaceParameters:i,selectWorkspaceItem:o,selectSelectedWorkspace:n,selectOrderResult:e=>t(e)?.orderResult??O.orderResult,selectErrors:a,selectErrorByScope:e=>r=>t(r)?.errors?.[e]??null,selectLoading:c,selectLoadingFlag:e=>r=>t(r)?.loading?.[e]??O.loading[e],selectHasValidAoi:u,selectPrimaryError:l,selectCanExport:d,selectIsBusy:p}},b=T({byId:{}}),w=(e=b,t)=>{if(!(e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.type&&!!h.EV.includes(t.type)&&"string"==typeof t.widgetId})(t))return e;if(t?.type===h.ZW.REMOVE_WIDGET_STATE&&t?.widgetId){const r=e,s={...r?.byId||{}};return t.widgetId in s?(delete s[t.widgetId],T({byId:s})):e}const r=t?.widgetId;if(!r)return e;const s=((e,t)=>{const r=e,s=r.byId?.[t];let n=s??R();const i=Reflect.get(n,"loading");i&&"object"==typeof i||(n=n.set("loading",{workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1}));const o=Reflect.get(n,"errors");return o&&"object"==typeof o||(n=n.set("errors",{})),n})(e,r),n=((e,t)=>{let r=e;switch(t.type){case h.ZW.SET_VIEW_MODE:{const s=t;if(e.viewMode===s.viewMode)return e;r=e.set("viewMode",s.viewMode);break}case h.ZW.RESET_STATE:r=R();break;case h.ZW.SET_GEOMETRY:{const s=t,n=s.drawnArea??0;if(e.geometryJson===s.geometryJson&&e.drawnArea===n)return e;r=e.set("geometryJson",s.geometryJson).set("drawnArea",n);break}case h.ZW.COMPLETE_DRAWING:{const s=t,n=s.drawnArea??0,i=s.nextViewMode??e.viewMode;r=e,(e.geometryJson!==s.geometryJson||e.drawnArea!==n)&&(r=r.set("geometryJson",s.geometryJson).set("drawnArea",n)),i!==e.viewMode&&(r=r.set("viewMode",i));break}case h.ZW.SET_DRAWING_TOOL:{const s=t;if(e.drawingTool===s.drawingTool)return e;r=e.set("drawingTool",s.drawingTool);break}case h.ZW.SET_ORDER_RESULT:{const r=t;return e.orderResult===r.orderResult?e:e.set("orderResult",r.orderResult)}case h.ZW.SET_WORKSPACE_ITEMS:{const r=t,s=(0,p.NnH)(r.repository)??null;let n=e;return e.currentRepository!==s&&(null!==e.selectedWorkspace&&(n=n.set("selectedWorkspace",null)),e.workspaceParameters.length&&(n=n.set("workspaceParameters",[])),null!==e.workspaceItem&&(n=n.set("workspaceItem",null)),null!==e.orderResult&&(n=n.set("orderResult",null))),e.currentRepository!==s&&(n=n.set("currentRepository",s)),e.workspaceItems!==r.workspaceItems&&(n=n.set("workspaceItems",r.workspaceItems)),n}case h.ZW.SET_WORKSPACE_ITEM:{const r=t;return((0,p.NnH)(r.repository)??null)!==e.currentRepository||e.workspaceItem===r.workspaceItem?e:e.set("workspaceItem",r.workspaceItem)}case h.ZW.SET_WORKSPACE_PARAMETERS:{const r=t;if(((0,p.NnH)(r.repository)??null)!==e.currentRepository)return e;const s=y(r.workspaceName),n=y(e.selectedWorkspace);if(!s)return e.workspaceParameters===r.workspaceParameters?e:e.set("workspaceParameters",r.workspaceParameters);if(!n)return e.set("selectedWorkspace",s).set("workspaceParameters",r.workspaceParameters).set("orderResult",null);if(s!==n)return e;if(e.workspaceParameters===r.workspaceParameters)return e;let i=e.set("workspaceParameters",r.workspaceParameters);return null!==e.orderResult&&(i=i.set("orderResult",null)),i}case h.ZW.SET_SELECTED_WORKSPACE:{const r=t;if(((0,p.NnH)(r.repository)??null)!==e.currentRepository)return e;const s=y(r.workspaceName);if(y(e.selectedWorkspace)===s)return e;let n=e.set("selectedWorkspace",s);return e.workspaceParameters.length&&(n=n.set("workspaceParameters",[])),null!==e.workspaceItem&&(n=n.set("workspaceItem",null)),null!==e.orderResult&&(n=n.set("orderResult",null)),n=A(n,{import:null,export:null}),n}case h.ZW.CLEAR_WORKSPACE_STATE:{const r=t,s=(0,p.NnH)(r.newRepository)??null,n={workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1};let i=e;return e.currentRepository!==s&&(i=i.set("currentRepository",s)),e.workspaceItems.length&&(i=i.set("workspaceItems",[])),null!==e.selectedWorkspace&&(i=i.set("selectedWorkspace",null)),e.workspaceParameters.length&&(i=i.set("workspaceParameters",[])),null!==e.workspaceItem&&(i=i.set("workspaceItem",null)),null!==e.orderResult&&(i=i.set("orderResult",null)),I(e.loading,n)||(i=i.set("loading",n)),i=A(i,{general:null,import:null,export:null}),i}case h.ZW.SET_ERROR:{const r=t;return A(e,{[r.scope]:r.error})}case h.ZW.SET_ERRORS:return A(e,t.errors);case h.ZW.CLEAR_ERROR:{const r=t;return"all"===r.scope?A(e,{general:null,import:null,export:null}):A(e,{[r.scope]:null})}case h.ZW.RESET_TO_DRAWING:{const t={workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1};let r=e;return null===e.geometryJson&&0===e.drawnArea||(r=r.set("geometryJson",null).set("drawnArea",0)),null!==e.selectedWorkspace&&(r=r.set("selectedWorkspace",null)),e.workspaceParameters.length&&(r=r.set("workspaceParameters",[])),null!==e.workspaceItem&&(r=r.set("workspaceItem",null)),null!==e.orderResult&&(r=r.set("orderResult",null)),I(e.loading,t)||(r=r.set("loading",t)),r=A(r,{general:null,import:null,export:null}),r.viewMode!==h.nE.DRAWING&&(r=r.set("viewMode",h.nE.DRAWING)),r}case h.ZW.SET_LOADING_FLAG:{const r=t,s=e.loading[r.flag],n=Boolean(r.value);return s===n?e:e.set("loading",{...e.loading,[r.flag]:n})}case h.ZW.APPLY_WORKSPACE_DATA:{const r=t,s=y(r.workspaceName);if(!s)return e;let n=e;return e.selectedWorkspace!==s&&(n=n.set("selectedWorkspace",s)),e.workspaceParameters!==r.workspaceParameters&&(n=n.set("workspaceParameters",r.workspaceParameters)),e.workspaceItem!==r.workspaceItem&&(n=n.set("workspaceItem",r.workspaceItem)),null!==e.orderResult&&(n=n.set("orderResult",null)),n=A(n,{import:null,export:null}),n}case h.ZW.COMPLETE_STARTUP:r=e.set("viewMode",h.nE.INITIAL);break;case h.ZW.REMOVE_WIDGET_STATE:return e}return r})(s,t);return n===s?e:((e,t,r)=>{const s={...e.byId||{}};return s[t]=r,T({byId:s})})(e,r,n)};class M{constructor(){this.id="fme-export_store"}getActions(){return[...h.EV]}getInitLocalState(){return{byId:{}}}getReducer(){return w}getStoreKey(){return"fme-state"}}},6035:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var s=r(6500),n=r(4880),i=new class extends s.Q{#f=!0;#O;#T;constructor(){super(),this.#T=e=>{if(!n.S$&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#O||this.setEventListener(this.#T)}onUnsubscribe(){this.hasListeners()||(this.#O?.(),this.#O=void 0)}setEventListener(e){this.#T=e,this.#O?.(),this.#O=e(this.setOnline.bind(this))}setOnline(e){this.#f!==e&&(this.#f=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#f}}},6055:(e,t,r)=>{"use strict";var s,n,i,o,a,c,u,l,E,d;r.d(t,{By:()=>a,MU:()=>o,QL:()=>l,Vw:()=>i,ZW:()=>d,hL:()=>n,nE:()=>s}),function(e){e.STARTUP_VALIDATION="startup-validation",e.INITIAL="initial",e.DRAWING="drawing",e.WORKSPACE_SELECTION="workspace-selection",e.EXPORT_FORM="export-form",e.EXPORT_OPTIONS="export-options",e.ORDER_RESULT="order-result"}(s||(s={})),function(e){e.POLYGON="polygon",e.RECTANGLE="rectangle"}(n||(n={})),function(e){e.TEXT="text",e.NUMBER="number",e.TEXTAREA="textarea",e.SELECT="select",e.MULTI_SELECT="multi-select",e.CHECKBOX="checkbox",e.PASSWORD="password",e.FILE="file",e.DATE_TIME="date-time",e.URL="url",e.SWITCH="switch",e.RADIO="radio",e.SLIDER="slider",e.NUMERIC_INPUT="numeric-input",e.TAG_INPUT="tag-input",e.COLOR="color",e.DATE="date",e.TIME="time",e.EMAIL="email",e.PHONE="phone",e.SEARCH="search",e.MESSAGE="message",e.TABLE="table",e.MONTH="month",e.WEEK="week",e.COORDSYS="coord-sys",e.ATTRIBUTE_NAME="attribute-name",e.ATTRIBUTE_LIST="attribute-list",e.DB_CONNECTION="db-connection",e.WEB_CONNECTION="web-connection",e.TEXT_OR_FILE="text-or-file",e.REPROJECTION_FILE="reprojection-file",e.SCRIPTED="scripted",e.GEOMETRY="geometry",e.HIDDEN="hidden"}(i||(i={})),function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error"}(o||(o={})),function(e){e.VALIDATION="validation",e.CONFIG="config",e.NETWORK="network",e.MODULE="module",e.GEOMETRY="geometry"}(a||(a={})),function(e){e.IDLE="idle",e.PENDING="pending",e.OK="ok",e.FAIL="fail",e.SKIP="skip"}(c||(c={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(u||(u={})),function(e){e.text="text",e.number="number",e.checkbox="checkbox",e.dropdown="dropdown",e.listbox="listbox",e.tree="tree",e.password="password",e.datetime="datetime",e.message="message",e.group="group",e.file="file",e.color="color",e.range="range",e.TEXT="TEXT",e.INTEGER="INTEGER",e.FLOAT="FLOAT",e.BOOLEAN="BOOLEAN",e.CHECKBOX="CHECKBOX",e.CHOICE="CHOICE",e.LISTBOX="LISTBOX",e.LOOKUP_LISTBOX="LOOKUP_LISTBOX",e.LOOKUP_CHOICE="LOOKUP_CHOICE",e.TEXT_OR_FILE="TEXT_OR_FILE",e.TEXT_EDIT="TEXT_EDIT",e.PASSWORD="PASSWORD",e.FILENAME="FILENAME",e.FILENAME_MUSTEXIST="FILENAME_MUSTEXIST",e.DIRNAME="DIRNAME",e.DIRNAME_MUSTEXIST="DIRNAME_MUSTEXIST",e.DIRNAME_SRC="DIRNAME_SRC",e.COORDSYS="COORDSYS",e.STRING="STRING",e.URL="URL",e.LOOKUP_URL="LOOKUP_URL",e.LOOKUP_FILE="LOOKUP_FILE",e.DATE_TIME="DATE_TIME",e.DATETIME="DATETIME",e.DATE="DATE",e.TIME="TIME",e.MONTH="MONTH",e.WEEK="WEEK",e.COLOR="COLOR",e.COLOR_PICK="COLOR_PICK",e.RANGE_SLIDER="RANGE_SLIDER",e.GEOMETRY="GEOMETRY",e.MESSAGE="MESSAGE",e.ATTRIBUTE_NAME="ATTRIBUTE_NAME",e.ATTRIBUTE_LIST="ATTRIBUTE_LIST",e.DB_CONNECTION="DB_CONNECTION",e.WEB_CONNECTION="WEB_CONNECTION",e.REPROJECTION_FILE="REPROJECTION_FILE",e.SCRIPTED="SCRIPTED",e.NOVALUE="NOVALUE",e.GROUP="GROUP"}(l||(l={})),function(e){e.QUEUED="QUEUED",e.PULLED="PULLED",e.RUNNING="RUNNING",e.SUCCESS="SUCCESS",e.FME_FAILURE="FME_FAILURE",e.JOB_FAILURE="JOB_FAILURE",e.ABORTED="ABORTED"}(E||(E={})),function(e){e.SET_VIEW_MODE="fme/SET_VIEW_MODE",e.RESET_STATE="fme/RESET_STATE",e.SET_GEOMETRY="fme/SET_GEOMETRY",e.SET_DRAWING_TOOL="fme/SET_DRAWING_TOOL",e.COMPLETE_DRAWING="fme/COMPLETE_DRAWING",e.SET_ORDER_RESULT="fme/SET_ORDER_RESULT",e.SET_WORKSPACE_ITEMS="fme/SET_WORKSPACE_ITEMS",e.SET_WORKSPACE_PARAMETERS="fme/SET_WORKSPACE_PARAMETERS",e.SET_SELECTED_WORKSPACE="fme/SET_SELECTED_WORKSPACE",e.SET_WORKSPACE_ITEM="fme/SET_WORKSPACE_ITEM",e.SET_ERROR="fme/SET_ERROR",e.SET_ERRORS="fme/SET_ERRORS",e.CLEAR_WORKSPACE_STATE="fme/CLEAR_WORKSPACE_STATE",e.CLEAR_ERROR="fme/CLEAR_ERROR",e.RESET_TO_DRAWING="fme/RESET_TO_DRAWING",e.COMPLETE_STARTUP="fme/COMPLETE_STARTUP",e.REMOVE_WIDGET_STATE="fme/REMOVE_WIDGET_STATE",e.SET_LOADING_FLAG="fme/SET_LOADING_FLAG",e.APPLY_WORKSPACE_DATA="fme/APPLY_WORKSPACE_DATA"}(d||(d={}))},6158:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var s=r(6261),n=r(1692),i=r(8904),o=class extends n.k{#R;#y;#i;#_;constructor(e){super(),this.#R=e.client,this.mutationId=e.mutationId,this.#i=e.mutationCache,this.#y=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#y.includes(e)||(this.#y.push(e),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#y=this.#y.filter((t=>t!==e)),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#y.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#_?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#I({type:"continue"})},r={client:this.#R,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#_=(0,i.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#I({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#I({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});const s="pending"===this.state.status,n=!this.#_.canStart();try{if(s)t();else{this.#I({type:"pending",variables:e,isPaused:n}),await(this.#i.config.onMutate?.(e,this,r));const t=await(this.options.onMutate?.(e,r));t!==this.state.context&&this.#I({type:"pending",context:t,variables:e,isPaused:n})}const i=await this.#_.start();return await(this.#i.config.onSuccess?.(i,e,this.state.context,this,r)),await(this.options.onSuccess?.(i,e,this.state.context,r)),await(this.#i.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(i,null,e,this.state.context,r)),this.#I({type:"success",data:i}),i}catch(t){try{throw await(this.#i.config.onError?.(t,e,this.state.context,this,r)),await(this.options.onError?.(t,e,this.state.context,r)),await(this.#i.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(void 0,t,e,this.state.context,r)),t}finally{this.#I({type:"error",error:t})}}finally{this.#i.runNext(this)}}#I(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),s.jG.batch((()=>{this.#y.forEach((t=>{t.onMutationUpdate(e)})),this.#i.notify({mutation:this,type:"updated",action:e})}))}}},6261:(e,t,r)=>{"use strict";r.d(t,{jG:()=>n});var s=r(2775).Zq;var n=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=s;const o=s=>{t?e.push(s):i((()=>{r(s)}))};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{n((()=>{t.forEach((e=>{r(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}()},6500:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},6920:(e,t,r)=>{"use strict";r(3417),r(3890),r(4986)},7389:(e,t,r)=>{"use strict";r(9244),r(3417),r(5880),r(2238),r(1658),r(1181),r(930)},7390:(e,t,r)=>{var s;!function(){"use strict";var n=function e(t){var r,s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),n={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function o(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(n.use_static=Boolean(t.use_static));var a="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,a)))}function u(e,t){return e===t||e!=e&&t!=t}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var E=["setPrototypeOf"],d=(E.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function h(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function p(e,t){return o(e,a,!0),e}function f(e,t){var r=e[t];o(e,t,(function(){return Q(r.apply(e,arguments))}))}function O(e,t,r){var s=r&&r.deep;if(e in this&&(s&&this[e]!==t&&l(t)&&l(this[e])&&(t=Q.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var n=S.call(this);return n[e]=Q(t),y(n)}E.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),h.prototype=new Error,h.prototype.constructor=Error;var T=Q([]);function R(e,t,r){var s=e[0];if(1===e.length)return O.call(this,s,t,r);var n,i=e.slice(1),o=this[s];if("object"==typeof o&&null!==o)n=Q.setIn(o,i,t);else{var a=i[0];n=""!==a&&isFinite(a)?R.call(T,i,t):P.call(N,i,t)}if(s in this&&o===n)return this;var c=S.call(this);return c[s]=n,y(c)}function y(e){for(var t in d){if(d.hasOwnProperty(t))f(e,d[t])}n.use_static||(o(e,"flatMap",I),o(e,"asObject",A),o(e,"asMutable",S),o(e,"set",O),o(e,"setIn",R),o(e,"update",W),o(e,"updateIn",k),o(e,"getIn",j));for(var r=0,s=e.length;r<s;r++)e[r]=Q(e[r]);return p(e)}function _(){return new Date(this.getTime())}function I(e){if(0===arguments.length)return this;var t,r=[],s=this.length;for(t=0;t<s;t++){var n=e(this[t],t,this);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return y(r)}function m(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=i(this);for(var s in this)this.hasOwnProperty(s)&&!1===e(this[s],s)&&(r[s]=this[s]);return K(r)}function S(e){var t,r,s=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)s.push(g(this[t]));else for(t=0,r=this.length;t<r;t++)s.push(this[t]);return s}function A(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},s=this.length;for(t=0;t<s;t++){var n=e(this[t],t,this),i=n[0],o=n[1];r[i]=o}return K(r)}function g(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,a)||e instanceof Date?e:Q.asMutable(e,{deep:!0})}function L(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function b(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,s,n=Array.isArray(e),o=t&&t.deep,a=t&&t.mode||"merge",c=t&&t.merger;function E(e,s,n){var a,E=Q(s[n]),d=c&&c(e[n],E,t),h=e[n];void 0===r&&void 0===d&&e.hasOwnProperty(n)&&u(E,h)||(u(h,a=void 0!==d?d:o&&l(h)&&l(E)?Q.merge(h,E,t):E)&&e.hasOwnProperty(n)||(void 0===r&&(r=L(e,i(e))),r[n]=a))}if(n)for(var d=0,h=e.length;d<h;d++){var p=e[d];for(s in p)p.hasOwnProperty(s)&&E(void 0!==r?r:this,p,s)}else{for(s in e)Object.getOwnPropertyDescriptor(e,s)&&E(this,e,s);"replace"===a&&function(e,t){for(var s in e)t.hasOwnProperty(s)||(void 0===r&&(r=L(e,i(e))),delete r[s])}(this,e)}return void 0===r?this:K(r)}function w(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return Q.merge(this,e,{deep:r,mode:"replace"})}var M,v,C,N=Q({});function P(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var s=e[0];if(1===e.length)return D.call(this,s,t,r);var n,o=e.slice(1),a=this[s];if(n=this.hasOwnProperty(s)&&"object"==typeof a&&null!==a?Q.setIn(a,o,t):P.call(N,o,t),this.hasOwnProperty(s)&&a===n)return this;var c=L(this,i(this));return c[s]=n,K(c)}function D(e,t,r){var s=r&&r.deep;if(this.hasOwnProperty(e)&&(s&&this[e]!==t&&l(t)&&l(this[e])&&(t=Q.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var n=L(this,i(this));return n[e]=Q(t),K(n)}function W(e,t){var r=Array.prototype.slice.call(arguments,2),s=this[e];return Q.set(this,e,t.apply(s,[s].concat(r)))}function U(e,t){for(var r=0,s=t.length;null!=e&&r<s;r++)e=e[t[r]];return r&&r==s?e:void 0}function k(e,t){var r=Array.prototype.slice.call(arguments,2),s=U(this,e);return Q.setIn(this,e,t.apply(s,[s].concat(r)))}function j(e,t){var r=U(this,e);return void 0===r?t:r}function F(e){var t,r=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=g(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function G(){return{}}function K(e){return n.use_static||(o(e,"merge",b),o(e,"replace",w),o(e,"without",m),o(e,"asMutable",F),o(e,"set",D),o(e,"setIn",P),o(e,"update",W),o(e,"updateIn",k),o(e,"getIn",j)),p(e)}function Q(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===s)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(Q);if(Array.isArray(e))return y(e.slice());if(e instanceof Date)return i=new Date(e.getTime()),n.use_static||o(i,"asMutable",_),p(i);var i,a=t&&t.prototype,u=(a&&a!==Object.prototype?function(){return Object.create(a)}:G)();for(var l in e)Object.getOwnPropertyDescriptor(e,l)&&(u[l]=Q(e[l],void 0,r));return K(u)}function V(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function B(e,t){return function(){var r=[].slice.call(arguments),s=r.shift();return Array.isArray(s)?t.apply(s,r):e.apply(s,r)}}return Q.from=Q,Q.isImmutable=c,Q.ImmutableError=h,Q.merge=V(b),Q.replace=V(w),Q.without=V(m),Q.asMutable=(M=F,v=S,C=_,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?v.apply(t,e):t instanceof Date?C.apply(t,e):M.apply(t,e)}),Q.set=B(D,O),Q.setIn=B(P,R),Q.update=V(W),Q.updateIn=V(k),Q.getIn=V(j),Q.flatMap=V(I),Q.asObject=V(A),n.use_static||(Q.static=e({use_static:!0})),Object.freeze(Q),Q}();void 0===(s=function(){return n}.call(t,r,t,e))||(e.exports=s)}()},8904:(e,t,r)=>{"use strict";r.d(t,{II:()=>l,cc:()=>u,v_:()=>c});var s=r(9658),n=r(6035),i=r(4658),o=r(4880);function a(e){return Math.min(1e3*2**e,3e4)}function c(e){return"online"!==(e??"online")||n.t.isOnline()}var u=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function l(e){let t,r=!1,l=0;const E=(0,i.T)(),d=()=>"pending"!==E.status,h=()=>s.m.isFocused()&&("always"===e.networkMode||n.t.isOnline())&&e.canRun(),p=()=>c(e.networkMode)&&e.canRun(),f=e=>{d()||(t?.(),E.resolve(e))},O=e=>{d()||(t?.(),E.reject(e))},T=()=>new Promise((r=>{t=e=>{(d()||h())&&r(e)},e.onPause?.()})).then((()=>{t=void 0,d()||e.onContinue?.()})),R=()=>{if(d())return;let t;const s=0===l?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(f).catch((t=>{if(d())return;const s=e.retry??(o.S$?0:3),n=e.retryDelay??a,i="function"==typeof n?n(l,t):n,c=!0===s||"number"==typeof s&&l<s||"function"==typeof s&&s(l,t);!r&&c?(l++,e.onFail?.(l,t),(0,o.yy)(i).then((()=>h()?void 0:T())).then((()=>{r?O(t):R()}))):O(t)}))};return{promise:E,status:()=>E.status,cancel:t=>{if(!d()){const r=new u(t);O(r),e.onCancel?.(r)}},continue:()=>(t?.(),E),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?R():T().then(R),E)}}},9244:e=>{"use strict";e.exports=r},9658:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var s=r(6500),n=r(4880),i=new class extends s.Q{#m;#O;#T;constructor(){super(),this.#T=e=>{if(!n.S$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#O||this.setEventListener(this.#T)}onUnsubscribe(){this.hasListeners()||(this.#O?.(),this.#O=void 0)}setEventListener(e){this.#T=e,this.#O?.(),this.#O=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#m!==e&&(this.#m=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#m?this.#m:"hidden"!==globalThis.document?.visibilityState}}},9757:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var s=r(4880),n=r(6261),i=r(8904),o=r(1692),a=class extends o.k{#S;#A;#g;#R;#_;#o;#L;constructor(e){super(),this.#L=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#R=e.client,this.#g=this.#R.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#S=c(this.options),this.state=e.state??this.#S,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#_?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=c(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#S=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#g.remove(this)}setData(e,t){const r=(0,s.pl)(this.state.data,e,this.options);return this.#I({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#I({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#_?.promise;return this.#_?.cancel(e),t?t.then(s.lQ).catch(s.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#S)}isActive(){return this.observers.some((e=>!1!==(0,s.Eh)(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some((e=>"static"===(0,s.d2)(e.options.staleTime,this)))}isStale(){return this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,s.j3)(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#_?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#_?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#_&&(this.#L?this.#_.cancel({revert:!0}):this.#_.cancelRetry()),this.scheduleGc()),this.#g.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#I({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#_?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#_)return this.#_.continueRetry(),this.#_.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#L=!0,r.signal)})},o=()=>{const e=(0,s.ZM)(this.options,t),r=(()=>{const e={client:this.#R,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return this.#L=!1,this.options.persister?this.options.persister(e,r,this):e(r)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#R,state:this.state,fetchFn:o};return n(e),e})();this.options.behavior?.onFetch(a,this),this.#A=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#I({type:"fetch",meta:a.fetchOptions?.meta}),this.#_=(0,i.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof i.cc&&e.revert&&this.setState({...this.#A,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#I({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#I({type:"pause"})},onContinue:()=>{this.#I({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const e=await this.#_.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#g.config.onSuccess?.(e,this),this.#g.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof i.cc){if(e.silent)return this.#_.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#I({type:"error",error:e}),this.#g.config.onError?.(e,this),this.#g.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#I(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(r=t.data,s=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,i.v_)(s.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const n={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#A=e.manual?n:void 0,n;case"error":const o=e.error;return{...t,error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var r,s})(this.state),n.jG.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#g.notify({query:this,type:"updated",action:e})}))}};function c(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}return i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="",i(3740),i(5880)})())}}}));