/*! For license information please see setting.js.LICENSE.txt */
System.register(["jimu-core","jimu-theme","jimu-core/react","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/basic/color-picker","jimu-ui/basic/date-picker","jimu-arcgis"],(function(e,t){var r={},n={},s={},o={},i={},a={},l={},c={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(c,"__esModule",{value:!0}),{setters:[function(e){r.React=e.React,r.css=e.css,r.hooks=e.hooks,r.jsx=e.jsx},function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){s[t]=e[t]}))},function(e){o.MapWidgetSelector=e.MapWidgetSelector,o.SettingRow=e.SettingRow,o.SettingSection=e.SettingSection},function(e){i.Alert=e.Alert,i.Button=e.Button,i.Loading=e.Loading,i.LoadingType=e.LoadingType,i.NumericInput=e.NumericInput,i.Option=e.Option,i.SVG=e.SVG,i.Select=e.Select,i.Switch=e.Switch,i.TextInput=e.TextInput,i.Tooltip=e.Tooltip},function(e){a.ColorPicker=e.ColorPicker},function(){},function(e){Object.keys(e).forEach((function(t){c[t]=e[t]}))}],execute:function(){e((()=>{var e={71:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.3 15.6A7.3 7.3 0 1 0 8.3 1a7.3 7.3 0 0 0 0 14.6M8.3 2A6.3 6.3 0 1 1 2 8.3 6.307 6.307 0 0 1 8.3 2m3.5 6.8h-4v-5h1v4h3z" clip-rule="evenodd"></path></svg>'},657:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m4-3a4 4 0 0 1-4 4 6.5 6.5 0 0 0-6.5 6.5h-1a7.5 7.5 0 0 1 5.286-7.168A4 4 0 1 1 12 5m1 5.5v1h-2v-1a1 1 0 1 1 2 0m-3 0v1H9v4h6v-4h-1v-1a2 2 0 1 0-4 0m0 2v2h4v-2z" clip-rule="evenodd"></path></svg>'},884:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M14 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3.986l.001-.024L0 4a2 2 0 0 1 2-2zm1 2.934L8.277 9.416a.5.5 0 0 1-.554 0L1 4.935V12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM14 3H2a1 1 0 0 0-.97.752L8 8.398l6.97-4.646A1 1 0 0 0 14 3"></path></svg>'},1020:(e,t,r)=>{"use strict";var n=r(8972),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c},1337:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 0a4 4 0 0 1 4 4v3a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2V4a4 4 0 0 1 4-4M5 7h1V4a2 2 0 1 1 4 0v3h1V4a3 3 0 0 0-6 0zm4 0V4a1 1 0 0 0-2 0v3zm3 1H4a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1M7 9h1v1h1v1H8v1h1v1H8v1H7z" clip-rule="evenodd"></path></svg>'},1468:(e,t,r)=>{"use strict";r.d(t,{d4:()=>g,wA:()=>f});var n=r(8972),s=r(8418);Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var o=Symbol.for("react-redux-context"),i="undefined"!=typeof globalThis?globalThis:{};function a(){if(!n.createContext)return{};const e=i[o]??=new Map;let t=e.get(n.createContext);return t||(t=n.createContext(null),e.set(n.createContext,t)),t}var l=a();function c(e=l){return function(){return n.useContext(e)}}var u=c();function d(e=l){const t=e===l?u:c(e),r=()=>{const{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var h=d();function p(e=l){const t=e===l?h:d(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var f=p(),v=(e,t)=>e===t;function m(e=l){const t=e===l?u:c(e),r=(e,r={})=>{const{equalityFn:o=v}="function"==typeof r?{equalityFn:r}:r;const i=t(),{store:a,subscription:l,getServerState:c}=i,u=(n.useRef(!0),n.useCallback({[e.name]:t=>e(t)}[e.name],[e])),d=(0,s.useSyncExternalStoreWithSelector)(l.addNestedSub,a.getState,c||a.getState,u,o);return n.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var g=m()},1692:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(2775),s=r(4880),o=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,s.gn)(this.gcTime)&&(this.#e=n.zs.setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(s.S$?1/0:3e5))}clearGcTimeout(){this.#e&&(n.zs.clearTimeout(this.#e),this.#e=void 0)}}},1888:e=>{"use strict";e.exports=n},1920:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},2238:(e,t,r)=>{"use strict";r.d(t,{ER:()=>X});var n=r(9778),s=r(3890),o=r(3271),i=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const a=Object.assign({},{enabled:!0,logLevel:"debug",bodyPreviewLimit:1024,warnSlowMs:1e3});function l(e){return i(this,void 0,void 0,(function*(){var t,r,n,i,l,d,p;if(!a.enabled)return e.execute();const f=e.method.toUpperCase(),m=e.correlationId||c(),g=Date.now();try{const s=yield e.execute(),o=Date.now()-g,a=Number.isFinite(o)&&o>=0?o:0,c=null===(r=null===(t=e.responseInterpreter)||void 0===t?void 0:t.status)||void 0===r?void 0:r.call(t,s),y=null!==(l=null===(i=null===(n=e.responseInterpreter)||void 0===n?void 0:n.ok)||void 0===i?void 0:i.call(n,s))&&void 0!==l?l:function(e){return"number"!=typeof e?void 0:e>=200&&e<400}(c),b=null===(p=null===(d=e.responseInterpreter)||void 0===d?void 0:d.size)||void 0===p?void 0:p.call(d,s);return v("success",{timestamp:g,method:f,url:u(e.url,e.query),path:h(e.url),status:c,ok:y,durationMs:a,correlationId:m,caller:e.caller,transport:e.transport,retryAttempt:e.retryAttempt,responseSize:b,isAbort:!1},e.body),s}catch(t){const r=Date.now()-g,n=Number.isFinite(r)&&r>=0?r:0,i=(0,s.Ko)(t),a=(0,o.zf)(t);throw v("error",{timestamp:g,method:f,url:u(e.url,e.query),path:h(e.url),status:i,ok:!1,durationMs:n,correlationId:m,caller:e.caller,transport:e.transport,retryAttempt:e.retryAttempt,isAbort:a},e.body,t),t instanceof Error?t:new Error((0,o.PE)(t))}}))}function c(e="net"){const t=Date.now().toString(36);let r=Math.random().toString(36).slice(2,10);for(;r.length<8;)r+=Math.random().toString(36).slice(2);return`${e}_${t}_${r.slice(0,8)}`}function u(e,t){const r=d(e),n=function(e,t){const r=new URLSearchParams((null==e?void 0:e.search)||"");if(!t)return r;if("string"==typeof t){return new URLSearchParams(t).forEach(((e,t)=>{r.set(t,e)})),r}if(t instanceof URLSearchParams)return t.forEach(((e,t)=>{r.set(t,e)})),r;return Object.entries(t).forEach((([e,t])=>{if(null!=t)if(Array.isArray(t))r.delete(e),t.forEach((t=>{r.append(e,String(t))}));else{const n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?String(t):JSON.stringify(t);r.set(e,n)}})),r}(r,t),s=function(e){const t=new URLSearchParams;return e.forEach(((e,r)=>{!function(e){return e.includes("token")||e.includes("auth")||e.includes("secret")||e.includes("key")||e.includes("password")}(r.toLowerCase())?t.set(r,p(e)):t.set(r,"[TOKEN]")})),t}(n),o=function(e){const t=[];return e.forEach(((e,r)=>t.push([r,e]))),t.sort((([e],[t])=>e>t?1:e<t?-1:0)),t.map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}(s);if(!r){const t=p(e.split("?")[0]||"");return o?`${t}?${o}`:t}const i=`${r.origin}${r.pathname}`;return o?`${i}?${o}`:i}function d(e){if(!e)return null;try{const t=(0,o.yC)(e);return t||new URL(e,"http://localhost")}catch(e){return null}}function h(e){const t=d(e);return(null==t?void 0:t.pathname)||e.split("?")[0]||e}function p(e){let t=e;return t=t.replace(/authorization="?[^"]+"?/gi,'authorization="[TOKEN]"'),t=t.replace(/(token|fmetoken)=([^&\s]+)/gi,"$1=[TOKEN]"),t}function f(e,t){return e.length<=t?e:`${e.slice(0,t-1)}\u2026`}function v(e,t,r,n){if("silent"===a.logLevel)return;const s=r?function(e){var t;if(null==e)return"";if("string"==typeof e)return f(p(e),a.bodyPreviewLimit);if("object"==typeof e){if("undefined"!=typeof FormData&&e instanceof FormData)return"[FormData]";if("undefined"!=typeof Blob&&e instanceof Blob)return`[Blob:${e.size}]`;if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)return`[Binary:${e instanceof ArrayBuffer?e.byteLength:(null===(t=e.buffer)||void 0===t?void 0:t.byteLength)||0}]`}try{return f(p(JSON.stringify(e)),a.bodyPreviewLimit)}catch(e){return"[Object]"}}(r):void 0,i=n?(0,o.PE)(n):void 0;try{if("debug"===a.logLevel){const r="success"===e?"\u2713":"\u2717",n={phase:e,method:t.method,url:t.url,status:t.status,durationMs:t.durationMs,correlationId:t.correlationId,caller:t.caller,transport:t.transport};void 0!==t.responseSize&&(n.responseSize=t.responseSize),void 0!==t.retryAttempt&&(n.retry=t.retryAttempt),t.isAbort&&(n.aborted=!0),s&&(n.body=s),i&&(n.error=i),console.log(`[FME][net] ${r}`,n)}else if("warn"===a.logLevel){const r=`[FME][net] ${e} ${t.method} ${t.path} ${t.status||"?"} ${t.durationMs}ms`;console.log(r,Object.assign({correlationId:t.correlationId},t.caller&&{caller:t.caller}))}t.durationMs>=a.warnSlowMs&&console.log("[FME][net] slow",{method:t.method,path:t.path,durationMs:t.durationMs,correlationId:t.correlationId})}catch(e){}}const m=e=>{if(void 0!==e)return e;if("function"==typeof DOMException)return new DOMException("Aborted","AbortError");const t=new Error("Aborted");return t.name="AbortError",t},g=()=>{};new class{constructor(){this.controllers=new Map,this.listeners=new Map,this.pendingReasons=new Map}register(e,t){if(!e)return;this.controllers.set(e,t);const r=this.pendingReasons.get(e);if(void 0!==r)try{t.signal.aborted||t.abort(r)}catch(e){try{t.abort()}catch(e){}}finally{this.pendingReasons.delete(e)}}release(e,t){if(!e)return;const r=this.controllers.get(e);if(t&&r&&r!==t)return;this.controllers.delete(e),this.pendingReasons.delete(e);const n=this.listeners.get(e);(null==n?void 0:n.size)&&(n.forEach((e=>{try{e.signal.removeEventListener("abort",e.handler)}catch(e){}})),this.listeners.delete(e))}abort(e,t){if(!e)return;const r=this.controllers.get(e);if(!r)return void this.pendingReasons.set(e,null!=t?t:m());const n=null!=t?t:m();try{r.signal.aborted||r.abort(n)}catch(e){try{r.abort()}catch(e){}}finally{this.release(e,r)}}linkExternal(e,t){if(!e||!t)return g;if(t.aborted)return this.abort(e,t.reason),g;const r={signal:t,handler:()=>{const r=t.reason;this.abort(e,r)}};t.addEventListener("abort",r.handler);let n=this.listeners.get(e);return n||(n=new Set,this.listeners.set(e,n)),n.add(r),()=>{try{t.removeEventListener("abort",r.handler)}catch(e){}const n=this.listeners.get(e);n&&(n.delete(r),0===n.size&&this.listeners.delete(e))}}abortAll(e){const t=Array.from(this.controllers.entries());for(const[r,n]of t)this.abort(r,e),this.release(r,n)}};const y=(e,t)=>new n.VQ(e,e,t,(e=>!e||e<100||e>=500||408===e||429===e)(t)),b=e=>{const t=null==e?void 0:e.httpStatus,r=null==e?void 0:e.status;return"number"==typeof t?t:"number"==typeof r?r:void 0},E=e=>{const t=b(e);if("number"==typeof t)return t>=200&&t<400},O=e=>{try{const t=null==e?void 0:e.data;if(!t)return;if("string"==typeof t)return t.length;return JSON.stringify(t).length}catch(e){return}},R=e=>{var t;return null!==(t=null==e?void 0:e.default)&&void 0!==t?t:e};let T,S,w,k,A,I=null;const _=Object.create(null),C={esriRequest:()=>Promise.resolve({data:null}),esriConfig:{request:{maxUrlLength:4e3,interceptors:[]}},projection:{},webMercatorUtils:{},SpatialReference:function(){return{}}},x=e=>C[e];function j(){return i(this,void 0,void 0,(function*(){if(Boolean(T&&S&&w&&k&&A))return;if(I)return I;const e=(()=>i(this,void 0,void 0,(function*(){if((()=>{const e="undefined"!=typeof globalThis?globalThis:void 0;return Boolean(e&&n._$.some((t=>Boolean(null==e?void 0:e[t]))))})()){(e=>{var t;const r={esriRequest:e=>T=e,esriConfig:e=>S=e,projection:e=>w=e,webMercatorUtils:e=>k=e,SpatialReference:e=>A=e};for(const s of n._$){const n=null!==(t=null==e?void 0:e[s])&&void 0!==t?t:x(s);r[s](n)}})(globalThis)}else try{yield i(void 0,void 0,void 0,(function*(){const[e,t,r,n,s]=yield(0,o.ps)(["esri/request","esri/config","esri/geometry/projection","esri/geometry/support/webMercatorUtils","esri/geometry/SpatialReference"]);T=R(e),S=R(t),w=R(r),k=R(n),A=R(s);const i=D(w);(null==i?void 0:i.load)&&(yield i.load())}))}catch(e){throw new Error("ARCGIS_MODULE_ERROR")}})))();I=e;try{yield e}catch(e){throw T=void 0,S=void 0,w=void 0,k=void 0,A=void 0,I=null,B=null,e instanceof Error?e:new Error(String(e))}}))}function M(){return i(this,void 0,void 0,(function*(){return yield j(),N(S)}))}const L=e=>Boolean(e&&"object"==typeof e),P=e=>"function"==typeof e?e:null,N=e=>L(e)&&e.request?e:null,D=e=>L(e)?e:null,U=(e,t,r)=>{const n=new Error(e);return n.code=e,null!=t&&(n.status=t),void 0!==r&&(n.cause=r),n},F=e=>i(void 0,void 0,void 0,(function*(){var t;let r;try{r=yield M()}catch(e){return}!function(e,t){if(null==e?void 0:e.length)for(let r=e.length-1;r>=0;r--){const n=e[r];if(!(null==n?void 0:n._fmeInterceptor))continue;const s=n.urls;(s instanceof RegExp?s.source===t.source&&s.flags===t.flags:t.test("string"==typeof s?s:String(null!=s?s:"")))&&e.splice(r,1)}}(null===(t=null==r?void 0:r.request)||void 0===t?void 0:t.interceptors,e)})),q=(e,t)=>({urls:t,before(t){(null==t?void 0:t.requestOptions)||(t.requestOptions={});const r=t.requestOptions;r.headers=r.headers||{},r.query=r.query||{};const n=(e=>_[e])(e);n&&(r.query.fmetoken||(r.query.fmetoken=n),r.headers.Authorization=`fmetoken token=${n}`)},_fmeInterceptor:!0});function W(e,t){return i(this,void 0,void 0,(function*(){var r;if(!e)return;const n=(0,o.$j)(e);if(!n)return;const s=n.toLowerCase(),i=(0,o.dB)(n);if(!t){const e=(e=>Object.prototype.hasOwnProperty.call(_,e))(s);return(e=>{delete _[e]})(s),void(e&&(yield F(i)))}let a;((e,t)=>{_[e]=t})(s,t);try{a=yield M()}catch(e){throw e instanceof Error?e:new Error(String(e))}(null===(r=null==a?void 0:a.request)||void 0===r?void 0:r.interceptors)&&((0,o.m4)(a.request.interceptors,i)||a.request.interceptors.push(q(s,i)))}))}let B=null;const H=e=>{const t="string"==typeof e?Number(e):e;return Number.isFinite(t)&&t>=0?Math.floor(t):void 0},z=e=>"string"==typeof e?e.trim():"",K=(e,t={})=>{for(const r of n.T5){const n=H(t[r]);void 0!==n&&e.set(r,String(n))}const r=((e,t)=>{const r=z(e);return r?r.slice(0,t):void 0})(t.tm_tag,128);r&&e.set("tm_tag",r)},G=(e,t,r,i={},a)=>{const l=(0,o.c$)(e,"fmedatadownload",t,r),c=(0,s.dC)(l,{strict:!0,requireHttps:!0,disallowRestForWebhook:!0});if(!c.ok){const e=(0,s.$N)("reason"in c?c.reason:void 0);throw U("WEBHOOK_AUTH_ERROR",0,e)}const u=(0,o.XV)(i,[...n.GR],!0);return a&&u.set("token",a),K(u,i),{baseUrl:l,params:u,fullUrl:`${l}?${u.toString()}`}},Q=(e,t)=>{const r=(e=>{const t=H(null==e?void 0:e.tm_ttc),r=H(null==e?void 0:e.tm_ttl),n=z(null==e?void 0:e.tm_tag),s={};return void 0!==t&&(s.ttc=t),void 0!==r&&(s.ttl=r),n&&(s.tag=n),s})(t),n=(e=>{if("schedule"!==(null==e?void 0:e.opt_servicemode))return null;const t=z(null==e?void 0:e.start),r=z(null==e?void 0:e.name),n=z(null==e?void 0:e.category),s=z(null==e?void 0:e.trigger)||"runonce",o=z(null==e?void 0:e.description);if(!t||!r||!n)return null;const i={name:"schedule",begin:t,scheduleName:r,scheduleCategory:n,scheduleTrigger:s};return o&&(i.scheduleDescription=o),{directives:[i]}})(t),s={publishedParameters:e};return Object.keys(r).length>0&&(s.TMDirectives=r),n&&(s.NMDirectives=n),s};class V{constructor(e){this.basePath=n.vA.BASE_PATH,this.disposed=!1,this.config=e,this.setupPromise=Promise.resolve(),this.queueSetup(e)}queueSetup(e){this.setupPromise=(this.setupPromise||Promise.resolve()).catch((()=>{})).then((()=>i(this,void 0,void 0,(function*(){yield function(){return i(this,void 0,void 0,(function*(){const e=yield M();e&&(e.request.maxUrlLength=Math.max(Number(e.request.maxUrlLength)||0,n.vA.MAX_URL_LENGTH))}))}(),yield W(e.serverUrl,e.token)})))).catch((e=>{throw e instanceof Error?e:new Error(String(e))}))}queueTeardown(e){this.setupPromise=(this.setupPromise||Promise.resolve()).catch((()=>{})).then((()=>W(e,""))).catch((()=>{}))}dispose(){this.disposed||(this.disposed=!0,this.queueTeardown(this.config.serverUrl))}uploadToTemp(e,t){return i(this,void 0,void 0,(function*(){var r;const s=this.resolveRepository(null==t?void 0:t.repository),i=((null==t?void 0:t.workspace)||"").trim();if(!i)throw y("DATA_UPLOAD_ERROR");const a=null==e?void 0:e.name,l=("string"==typeof a&&a.trim()?a.trim():`upload_${Date.now()}`).replace(/[^A-Za-z0-9._-]/g,"_").slice(0,128)||`upload_${Date.now()}`,u=((null==t?void 0:t.subfolder)?t.subfolder.trim():"").replace(/[^A-Za-z0-9_-]/g,"-").slice(0,64)||c("upload"),d=(0,o.c$)(this.config.serverUrl,"fmedataupload",s,i,l),h={opt_fullpath:"true",opt_responseformat:"json",opt_namespace:u},p={Accept:"application/json","Content-Type":e instanceof File&&e.type?e.type:"application/octet-stream"},f=yield this.request(d,{method:n.ym.PUT,headers:p,body:e,query:h,signal:null==t?void 0:t.signal,cacheHint:!1,repositoryContext:s}),v=null===(r=f.data)||void 0===r?void 0:r.file,m="string"==typeof(null==v?void 0:v.path)&&v.path.trim()?v.path:null;if(!m)throw y("DATA_UPLOAD_ERROR",f.status);return{data:{path:m},status:f.status,statusText:f.statusText}}))}resolveRepository(e){return e||this.config.repository}buildServiceUrl(e,t,r){return(0,o.c$)(this.config.serverUrl,e,t,r)}formatJobParams(e={}){if(e.publishedParameters)return e;const t=Object.entries(e).filter((([e])=>!n.d.has(e))).map((([e,t])=>({name:e,value:t})));return Q(t,e)}repoEndpoint(e,...t){return(0,o.c$)(this.config.serverUrl,this.basePath.slice(1),"repositories",e,...t)}transformEndpoint(e,t,r){return(0,o.c$)(this.config.serverUrl,this.basePath.slice(1),"transformations",e,t,r)}withApiError(e,t,r){return i(this,void 0,void 0,(function*(){try{return yield e()}catch(e){const o=(0,s.Ko)(e),i=(0,s.$d)(e);throw new n.VQ(t,r,o||0,i)}}))}testConnection(e){return i(this,void 0,void 0,(function*(){return this.request("/info",{signal:e})}))}validateRepository(e,t){return i(this,void 0,void 0,(function*(){const r=this.resolveRepository(e),n=this.repoEndpoint(r);return this.request(n,{signal:t})}))}getRepositories(e){return i(this,void 0,void 0,(function*(){return this.withApiError((()=>i(this,void 0,void 0,(function*(){const t=(0,o.c$)(this.config.serverUrl,this.basePath.slice(1),"repositories"),r=yield this.request(t,{signal:e,cacheHint:!1,query:{limit:-1,offset:-1}}),n=null==r?void 0:r.data;return{data:(0,o.o4)(n).map((e=>({name:e}))),status:r.status,statusText:r.statusText}}))),"REPOSITORIES_ERROR","REPOSITORIES_ERROR")}))}getWorkspaceParameter(e,t,r,n){return i(this,void 0,void 0,(function*(){const s=this.resolveRepository(r),o=this.repoEndpoint(s,"items",e,"parameters",t);return this.request(o,{signal:n,cacheHint:!1,repositoryContext:s})}))}getWorkspaceParameters(e,t,r){return i(this,void 0,void 0,(function*(){const n=this.resolveRepository(t),s=this.repoEndpoint(n,"items",e,"parameters");return this.withApiError((()=>this.request(s,{signal:r,cacheHint:!1,repositoryContext:n})),"WORKSPACE_PARAMETERS_ERROR","WORKSPACE_PARAMETERS_ERROR")}))}getRepositoryItems(e,t,r,n,s){return i(this,void 0,void 0,(function*(){const o=this.resolveRepository(e),i=this.repoEndpoint(o,"items"),a={};return t&&(a.type=t),"number"==typeof r&&(a.limit=r),"number"==typeof n&&(a.offset=n),this.withApiError((()=>this.request(i,{signal:s,cacheHint:!1,repositoryContext:o,query:a})),"REPOSITORY_ITEMS_ERROR","REPOSITORY_ITEMS_ERROR")}))}getWorkspaceItem(e,t,r){return i(this,void 0,void 0,(function*(){const n=this.resolveRepository(t),s=this.repoEndpoint(n,"items",e);return this.withApiError((()=>this.request(s,{signal:r,cacheHint:!1,repositoryContext:n})),"WORKSPACE_ITEM_ERROR","WORKSPACE_ITEM_ERROR")}))}submitJob(e){return i(this,arguments,void 0,(function*(e,t={},r,s){const o=this.resolveRepository(r),i=this.transformEndpoint("submit",o,e),a=this.formatJobParams(t);return this.withApiError((()=>this.request(i,{method:n.ym.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(a),signal:s,cacheHint:!1})),"JOB_SUBMISSION_ERROR","JOB_SUBMISSION_ERROR")}))}runDataDownload(e){return i(this,arguments,void 0,(function*(e,t={},r,n){const s=this.resolveRepository(r);return yield this.runDownloadWebhook(e,t,s,n)}))}runWorkspace(e){return i(this,arguments,void 0,(function*(e,t={},r,n){return"schedule"===(null==t?void 0:t.opt_servicemode)?yield this.submitJob(e,t,r,n):yield this.runDataDownload(e,t,r,n)}))}runDownloadWebhook(e){return i(this,arguments,void 0,(function*(e,t={},r,i){try{const{baseUrl:s,params:a,fullUrl:u}=G(this.config.serverUrl,r,e,t,this.config.token),d=(()=>{var e;const t=(()=>{var e,t;if("undefined"==typeof window)return;const r=null===(t=null===(e=null===window||void 0===window?void 0:window.esriConfig)||void 0===e?void 0:e.request)||void 0===t?void 0:t.maxUrlLength,n="number"==typeof r?r:Number(r);return Number.isFinite(n)&&n>0?n:void 0})();if(void 0!==t)return t;if(null!==B)return B;const r=N(S),n=null===(e=null==r?void 0:r.request)||void 0===e?void 0:e.maxUrlLength,s="number"==typeof n?n:Number(n);return B=Number.isFinite(s)&&s>0?s:1900,B})();if(Number.isFinite(d)&&d>0&&u.length>d)throw U("URL_TOO_LONG",0);(0,o.qC)("WEBHOOK_CALL",s,a,n.vA.WEBHOOK_LOG_WHITELIST),yield j();const h=P(T);if(!h)throw y("ARCGIS_MODULE_ERROR");const p={Accept:"application/json","Cache-Control":"no-cache"},f=new AbortController;let v=null,m=!1;const g=()=>{f.abort()};try{i&&(i.aborted?f.abort():i.addEventListener("abort",g));const e="number"==typeof this.config.timeout&&this.config.timeout>0?this.config.timeout:void 0;e&&(v=setTimeout((()=>{m=!0;try{f.abort()}catch(e){}}),e));const t=yield l({method:"GET",url:u,transport:"fme-webhook",query:a,correlationId:c("webhook"),responseInterpreter:{status:b,ok:E,size:O},execute:()=>h(u,{method:"get",responseType:"json",headers:p,signal:f.signal,timeout:e})});return this.parseWebhookResponse(t)}catch(e){if((0,o.zf)(e)&&m)throw U("WEBHOOK_TIMEOUT",408,e);throw e instanceof Error?e:new Error(String(e))}finally{v&&clearTimeout(v);try{i&&i.removeEventListener("abort",g)}catch(e){}}}catch(e){if(e instanceof n.VQ)throw e;if(null==e?void 0:e.code)throw e instanceof Error?e:new Error(String(e));const t=(0,s.Ko)(e);throw y("DATA_DOWNLOAD_ERROR",t||0)}}))}parseWebhookResponse(e){return i(this,void 0,void 0,(function*(){var t;const r="number"==typeof(null==e?void 0:e.status)?e.status:"number"==typeof(null==e?void 0:e.httpStatus)?e.httpStatus:void 0,n="number"==typeof r?r:0;if(401===n||403===n)throw U("WEBHOOK_AUTH_ERROR",n);const s="function"==typeof(null===(t=null==e?void 0:e.headers)||void 0===t?void 0:t.get)?e.headers:void 0,i=(null==s?void 0:s.get("content-type"))||void 0;let a;if("function"==typeof(null==e?void 0:e.json))try{a=yield e.json()}catch(e){throw U("WEBHOOK_NON_JSON",n,e)}else if(void 0!==(null==e?void 0:e.data))a=e.data;else if(void 0!==(null==e?void 0:e.json))a=e.json;else if("string"==typeof(null==e?void 0:e.text))try{a=JSON.parse(e.text)}catch(e){throw U("WEBHOOK_NON_JSON",n,e)}if(!a||"object"!=typeof a)throw U("WEBHOOK_NON_JSON",n,e);if(i&&!(0,o.Fh)(i))throw U("WEBHOOK_NON_JSON",n,{contentType:i});return{data:a,status:n,statusText:null==e?void 0:e.statusText}}))}request(e){return i(this,arguments,void 0,(function*(e,t={}){var r,i,a;if(this.disposed)throw y("CLIENT_DISPOSED");try{yield this.setupPromise}catch(e){this.queueSetup(this.config);try{yield this.setupPromise}catch(e){throw y("ARCGIS_MODULE_ERROR")}}yield j();const u=(0,o.PH)(e,this.config.serverUrl,this.basePath),d=Object.assign({},t.headers||{}),h=Object.assign({},t.query||{});if(!t.method||t.method===n.ym.GET){const e=(0,o.qm)(this.config.serverUrl,this.config.token,t.repositoryContext);void 0===h.__scope&&(h.__scope=e)}const p={method:(null===(r=t.method)||void 0===r?void 0:r.toLowerCase())||"get",query:h,responseType:"json",headers:d,signal:t.signal};try{const e=null===(i=(0,o.$j)(this.config.serverUrl))||void 0===i?void 0:i.toLowerCase(),r=new URL(u,(null===(a=globalThis.location)||void 0===a?void 0:a.origin)||"http://d").host.toLowerCase();e&&r===e&&this.config.token&&(h.fmetoken||(h.fmetoken=this.config.token),p.headers=p.headers||{},p.headers.Authorization=`fmetoken token=${this.config.token}`);const n="number"==typeof t.timeout?t.timeout:"number"==typeof this.config.timeout?this.config.timeout:void 0;"number"==typeof n&&n>0&&(p.timeout=n),void 0!==t.cacheHint&&(p.cacheHint=t.cacheHint),void 0!==t.body&&(p.body=t.body);const s=P(T);if(!s)throw y("ARCGIS_MODULE_ERROR");const d=c("fme"),f=yield l({method:"string"==typeof p.method?p.method.toUpperCase():"GET",url:u,transport:"fme-flow-api",body:p.body,query:h,correlationId:d,responseInterpreter:{status:b,ok:E,size:O},execute:()=>s(u,p)});return{data:f.data,status:f.httpStatus||f.status||200,statusText:f.statusText}}catch(e){if("AbortError"===(null==e?void 0:e.name))return{data:void 0,status:0,statusText:"requestAborted"};if(e instanceof n.VQ)throw e;const t=(0,s.Ko)(e)||0,r=(0,s.$d)(e);let i="REQUEST_FAILED";(0,o.PE)(e).includes("Unexpected token")&&(i="INVALID_RESPONSE_FORMAT");const a=(0,s.Pi)(e,t);throw new n.VQ(a,i,t,r)}}))}}const $=e=>({serverUrl:e.fmeServerUrl||e.fme_server_url||"",token:e.fmeServerToken||e.fme_server_token||e.fmw_server_token||"",repository:e.repository||"",timeout:e.requestTimeout});function X(e){const t=$(e);try{(0,s.e6)(t)}catch(e){throw y("INVALID_CONFIG")}return new V(Object.assign(Object.assign({},t),{serverUrl:t.serverUrl.replace(/\/$/,"")}))}},2242:(e,t,r)=>{"use strict";r.d(t,{Hg:()=>p,Id:()=>m,M1:()=>f,Xc:()=>v,bQ:()=>y,d7:()=>d,j_:()=>g,q5:()=>h,uG:()=>b,uT:()=>E});var n=r(9244),s=r(3930),o=r(7097),i=r(1468),a=r(9778),l=(r(8424),r(3271)),c=r(4540),u=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const d=(e,t,r)=>{const s=Number.isFinite(t)&&t>=0?t:0,o=n.React.useRef(null),i=n.React.useRef(!1),a=n.React.useRef(null),l=n.hooks.useLatest(e),c=n.hooks.useLatest(r),u=n.hooks.useEventCallback((e=>{var t;if(i.current===e)return;i.current=e;const r=null===(t=c.current)||void 0===t?void 0:t.onPendingChange;if("function"==typeof r)try{r(e)}catch(e){}})),d=n.hooks.useEventCallback((()=>{o.current&&(clearTimeout(o.current),o.current=null),a.current=null,i.current&&u(!1)})),h=n.hooks.useEventCallback(((...e)=>{a.current=e,o.current&&clearTimeout(o.current),u(!0),o.current=setTimeout((()=>{o.current=null,a.current=null;try{l.current(...e)}finally{u(!1)}}),s)})),p=n.hooks.useEventCallback((()=>{if(!a.current)return;const e=a.current;d(),l.current(...e)})),f=n.React.useRef(null),v=n.hooks.useLatest(h),m=n.hooks.useLatest(d),g=n.hooks.useLatest(p);if(!f.current){const e=(...e)=>{v.current(...e)};e.cancel=()=>m.current(),e.flush=()=>g.current(),e.isPending=()=>i.current,f.current=e}n.hooks.useEffectOnce((()=>()=>{m.current()}));const y=f.current;if(!y)throw new Error("debounceUnavailable");return y},h=e=>(0,i.d4)((t=>{const r=null==t?void 0:t.appStateInBuilder;return e(null!=r?r:t)})),p=(e,t,r)=>n.hooks.useEventCallback(((n,s)=>{r({id:e,config:t.set?t.set(n,s):t})})),f=e=>{const t=n.hooks.useLatest(e);return n.hooks.useEventCallback(((e,r="")=>{var n;const s=null===(n=t.current)||void 0===n?void 0:n[e];return"string"==typeof s?s:r}))},v=e=>{const t=n.hooks.useLatest(e);return n.hooks.useEventCallback(((e,r=!1)=>{var n;const s=null===(n=t.current)||void 0===n?void 0:n[e];return"boolean"==typeof s?s:r}))},m=e=>{const t=n.hooks.useLatest(e);return n.hooks.useEventCallback(((e,r)=>{var n;const s=null===(n=t.current)||void 0===n?void 0:n[e];return"number"==typeof s&&Number.isFinite(s)?s:r}))};const g=(e,t,r)=>{const[s,o]=n.hooks.useControlled({controlled:e,default:t});return[s,n.hooks.useEventCallback((e=>{o(e),null==r||r(e)}))]},y=()=>{const e=n.React.useRef(null),t=n.hooks.useEventCallback((()=>{const t=e.current;if(t)try{t.abort()}catch(e){}e.current=null})),r=n.hooks.useEventCallback((()=>{t();const r=new AbortController;return e.current=r,r})),s=n.hooks.useEventCallback((t=>{t&&e.current===t&&(e.current=null)}));return{controllerRef:e,abortAndCreate:r,cancel:t,finalize:s}};function b(e,t,r){var n;return(0,s.I)({queryKey:["fme","repositories",e,(0,l.hs)(t)],queryFn:r=>u(this,[r],void 0,(function*({signal:r}){var n;const s=(0,l.Mb)(e,t,a.nu);if(!s)throw new Error("FME client not initialized");return null!==(n=(yield s.getRepositories(r)).data)&&void 0!==n?n:[]})),enabled:(null===(n=null==r?void 0:r.enabled)||void 0===n||n)&&Boolean(e&&t)})}function E(){const e=n.React.useRef(null),t=n.hooks.useEventCallback((()=>{const t=e.current;if(t&&!t.signal.aborted)try{t.abort()}catch(e){}e.current=null})),r=(0,o.n)({mutationFn:t=>u(this,void 0,void 0,(function*(){var r;return yield(0,c.JL)({serverUrl:t.serverUrl,token:t.token,repository:t.repository,signal:null===(r=e.current)||void 0===r?void 0:r.signal})}))}),s=n.hooks.useEventCallback((n=>u(this,void 0,void 0,(function*(){t();const s=new AbortController;e.current=s;try{return yield r.mutateAsync(n)}finally{e.current===s&&(e.current=null)}})))),i=n.hooks.useEventCallback((e=>{s(e)}));return n.hooks.useUnmount((()=>{t()})),Object.assign(Object.assign({},r),{mutate:i,mutateAsync:s})}},2606:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M1 1v14h14V1zm9.082 13c-.005-.037-.113-.274-.122-.309a1.5 1.5 0 0 0 .718-1.267 1.2 1.2 0 0 0-.053-.358c.152-.176.263-.383.326-.607q.046.003.093.003c.3.002.593-.091.836-.266q.06.066.126.124c.42.412.977.654 1.564.68H14v2h-3.918M14 11h-.43a1.46 1.46 0 0 1-.906-.433c-.264-.23-.258-.782-.617-.782-.482 0-.52.677-1.003.677-.219 0-.38-.177-.599-.177-.193 0-.445.102-.445.293v.502c0 .424-.506.508-.506.934 0 .171.184.236.184.41 0 .58-.893.502-.893 1.08 0 .191.215.305.215.486V14H6.375q.087-.243.09-.502c0-.547-1.043-.393-1.207-.72-.407-.813.693-1.022.693-1.673 0-.16-.082-.488-.334-.513-.351-.035-.443.154-.797.154a.406.406 0 0 1-.437-.36c0-.386.308-.566.308-.952 0-.25-.102-.393-.102-.643a.62.62 0 0 1 .59-.643c.323 0 .464.264.618.54a.64.64 0 0 0 .617.308c.49 0 .798-.61.798-.977a.47.47 0 0 1 .437-.488c.347 0 .476.36.824.36.57 0 .55-.756 1.053-1.03.618-.332.438-1.052.36-1.44-.032-.169.29-.5.464-.487.72.05.412-.54.412-.823q0-.073.022-.142c.111-.332.595-.438.595-.836 0-.281-.233-.41-.233-.693a.65.65 0 0 1 .22-.44H14zM2 14V2h8.278c-.013.077-.132.356-.132.44 0 .194.038.387.112.567a1.6 1.6 0 0 0-.422.643 1.4 1.4 0 0 0-.074.442 1.7 1.7 0 0 0-.536.43 1.32 1.32 0 0 0-.32 1.091q.046.205.066.414a2 2 0 0 0-.649.67 1.46 1.46 0 0 0-.674-.166 1.45 1.45 0 0 0-1.383 1.086 1.44 1.44 0 0 0-1.086-.469 1.62 1.62 0 0 0-1.591 1.643c0 .254.113.293.084.574s-.29.535-.29 1.022a1.37 1.37 0 0 0 .984 1.29 1.58 1.58 0 0 0-.003 1.549c.143.286.636.774.534.774z"></path></svg>'},2686:e=>{"use strict";e.exports=c},2775:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>o,zs:()=>s});var n={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},s=new class{#t=n;#r=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}};function o(e){setTimeout(e,0)}},3128:(e,t,r)=>{"use strict";r.d(t,{$W:()=>o,EC:()=>c,MN:()=>l});var n=r(9244),s=r(1888);const o={icon:{small:16,medium:18,large:24},tooltip:{delay:{enter:100,next:0,leave:0,touch:700},position:{top:"top",bottom:"bottom",left:"left",right:"right"},showArrow:!0},button:{defaults:{block:!0,tooltipPosition:"top"},offset:"10px",textPadding:"18px"},zIndex:{selectMenu:1005,overlay:1e3},loading:{width:215,height:215,delay:1e3,detailDelay:1600,cycleInterval:5200},required:"*"},i=e=>{var t;return{fontFamily:null==e?void 0:e.fontFamily,fontWeight:null===(t=null==e?void 0:e.fontWeight)||void 0===t?void 0:t.toString(),fontSize:null==e?void 0:e.fontSize,fontStyle:null==e?void 0:e.fontStyle,lineHeight:null==e?void 0:e.lineHeight,color:null==e?void 0:e.color}},a=(e,t={})=>(0,n.css)(Object.assign({display:"inline"===e?"inline-flex":"flex",flexFlow:"column"===e?"column nowrap":"inline"===e?"row wrap":void 0},t)),l=()=>(e=>{var t,r,s,l;const c=e.sys.spacing,u=e.sys.color,d=e.sys.typography,h=null==c?void 0:c(2),p="1 1 auto";return{row:a("row",{gap:h}),buttonGroup:a("column",{inlineSize:"100%",gap:h}),fullWidth:a("column",{inlineSize:"100%",flex:p,minInlineSize:0}),relative:(0,n.css)({position:"relative"}),rowAlignCenter:(0,n.css)({alignItems:"center"}),disabledPicker:a("row",{pointerEvents:"none"}),textareaResize:(0,n.css)({resize:"vertical"}),parent:a("column",{overflowY:"auto",blockSize:"100%",position:"relative",gap:h,padding:null==c?void 0:c(1),backgroundColor:null===(t=null==u?void 0:u.surface)||void 0===t?void 0:t.paper}),header:a("row",{alignItems:"center",justifyContent:"flex-end",gap:h,marginBlockEnd:null==c?void 0:c(2)}),headerAlert:(0,n.css)({marginInlineEnd:"auto",display:"flex",alignItems:"center"}),content:a("column",{flex:p,minBlockSize:0,gap:h}),centered:a("column",{placeContent:"center",alignItems:"center",textAlign:"center",flex:p,minBlockSize:0,gap:h}),loadingText:(0,n.css)({position:"absolute",inset:"50% auto auto 50%",transform:"translate(-50%, -50%)",textAlign:"center"}),overlay:(0,n.css)({position:"absolute",inset:"50% auto auto 50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:o.zIndex.overlay}),alert:(0,n.css)({width:"100% !important",backgroundColor:"transparent !important",border:"none !important"}),alertInline:(0,n.css)({opacity:.8}),alertContent:a("row",{alignItems:"flex-start",gap:h}),alertMessage:(0,n.css)(Object.assign({flex:p},i(null==d?void 0:d.label2))),alertIcon:(0,n.css)({display:"inline-flex",alignItems:"center",justifyContent:"center",flex:"0 0 auto"}),typo:{caption:(0,n.css)(Object.assign(Object.assign({},i(null==d?void 0:d.body1)),{marginBlockEnd:null==c?void 0:c(3)})),label:(0,n.css)(Object.assign(Object.assign({},i(null==d?void 0:d.label1)),{fontWeight:"400",marginBlockEnd:0})),title:(0,n.css)(Object.assign(Object.assign({},i(null==d?void 0:d.title1)),{margin:`${null==c?void 0:c(1)} 0`})),instruction:(0,n.css)(Object.assign(Object.assign({textAlign:"center"},i(null==d?void 0:d.body1)),{margin:`${null==c?void 0:c(3)} 0`})),link:(0,n.css)(Object.assign(Object.assign({},i(null==d?void 0:d.body1)),{color:null===(r=null==u?void 0:u.action.link)||void 0===r?void 0:r.default,textDecoration:"underline",wordBreak:"break-all","&:hover":{color:null===(s=null==u?void 0:u.action.link)||void 0===s?void 0:s.hover,textDecoration:"underline"}})),loadingMessage:(0,n.css)(Object.assign({},i(null==d?void 0:d.body2))),required:(0,n.css)({marginInlineStart:null==c?void 0:c(1)}),hint:(0,n.css)(Object.assign(Object.assign({},i(null==d?void 0:d.label2)),{marginBlockStart:null==c?void 0:c(1)}))},btn:{flex:(0,n.css)({flex:p}),group:a("column",{inlineSize:"100%",gap:h}),text:e=>(0,n.css)({flex:p,textAlign:e||"start",paddingInlineEnd:o.button.textPadding}),icon:(0,n.css)({position:"absolute",zIndex:1,insetBlockStart:"50%",insetInlineEnd:o.button.offset,transform:"translateY(-50%)"})},form:{layout:a("column",{flex:p,minBlockSize:0,gap:h}),header:(0,n.css)({flex:"0 0 auto"}),sliderField:a("row",{gap:null==c?void 0:c(1)}),sliderValue:(0,n.css)(Object.assign(Object.assign({},i(null==d?void 0:d.label2)),{textAlign:"center"})),content:a("column",{flex:p,gap:h}),body:a("column",{flex:p,gap:h,overflowY:"auto"}),footer:a("column",{flex:"0 0 auto",gap:h})},field:(0,n.css)({marginBlockEnd:null==c?void 0:c(3)}),checkLabel:a("row",{alignItems:"center",justifyContent:"space-between",inlineSize:"100%"}),selection:{container:a("column",{flex:p,gap:h,minBlockSize:0}),warning:(0,n.css)({marginBlockStart:"auto"}),message:(0,n.css)(Object.assign({marginBlockStart:"auto"},i(null==d?void 0:d.body2)))},tooltipWrap:{block:a("row",{inlineSize:"100%",minInlineSize:0}),inline:a("inline",{minInlineSize:0}),anchor:a("row",{flex:p,minInlineSize:0,"& > *":{flex:p,minInlineSize:0}})},stateView:{frame:a("column",{inlineSize:"100%",blockSize:"100%",minBlockSize:0}),error:a("column",{flex:p,inlineSize:"100%",blockSize:"100%",minBlockSize:0,gap:h,alignItems:"stretch"}),errorContent:a("column",{gap:h,flex:"1 1 auto",justifyContent:"center"}),errorIcon:(0,n.css)({marginBlockEnd:null!==(l=null==c?void 0:c(2))&&void 0!==l?l:0}),errorActions:(0,n.css)({inlineSize:"100%",marginBlockStart:"auto",alignSelf:"stretch"})}}})((0,s.useTheme)()),c=()=>(e=>{var t,r,s,o,a,l,c;const u=null===(t=null==e?void 0:e.sys)||void 0===t?void 0:t.spacing,d=null===(r=null==e?void 0:e.sys)||void 0===r?void 0:r.color,h=null===(s=null==e?void 0:e.sys)||void 0===s?void 0:s.typography;return{row:(0,n.css)({width:"100%"}),alertInline:(0,n.css)({opacity:.8}),labelWithButton:(0,n.css)({display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:null==u?void 0:u(1)}),labelText:(0,n.css)({marginInlineStart:null==u?void 0:u(1)}),fieldStatus:(0,n.css)({display:"flex",alignItems:"center",gap:null==u?void 0:u(1),opacity:.85}),fieldStatusText:(0,n.css)(Object.assign({},i(null==h?void 0:h.label2))),status:{container:(0,n.css)({width:"100%",display:"flex",flexDirection:"column"}),list:(0,n.css)(Object.assign(Object.assign({display:"grid"},i(null==h?void 0:h.label2)),{opacity:.8,padding:6})),row:(0,n.css)({display:"flex",justifyContent:"space-between",lineHeight:2}),labelGroup:(0,n.css)({display:"flex",alignItems:"center"}),color:{ok:(0,n.css)({color:null===(o=null==d?void 0:d.success)||void 0===o?void 0:o.main}),fail:(0,n.css)({color:null===(a=null==d?void 0:d.error)||void 0===a?void 0:a.main}),skip:(0,n.css)({color:null===(l=null==d?void 0:d.warning)||void 0===l?void 0:l.main}),pending:(0,n.css)({color:null===(c=null==d?void 0:d.info)||void 0===c?void 0:c.main})}}}})((0,s.useTheme)())},3271:(e,t,r)=>{"use strict";r.d(t,{$j:()=>K,B9:()=>g,E:()=>M,Fh:()=>H,LH:()=>x,Lz:()=>L,Mb:()=>f,Nh:()=>b,Nn:()=>c,PE:()=>G,PH:()=>D,RM:()=>y,XV:()=>U,Zs:()=>A,c$:()=>N,dB:()=>q,hs:()=>p,is:()=>_,kz:()=>j,lx:()=>Q,m4:()=>W,o4:()=>C,ps:()=>J,qC:()=>F,qm:()=>B,x8:()=>E,yC:()=>z,zf:()=>O});var n=r(9778),s=r(2238),o=r(9244),i=(r(3890),r(2242),function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))}),a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};const l=(e,t)=>{if("string"==typeof e){const r=e.trim();return r||(null==t?void 0:t.allowEmpty)?r:(null==t?void 0:t.nullable)?null:void 0}return(null==t?void 0:t.allowNumeric)&&"number"==typeof e&&Number.isFinite(e)?String(e):(null==t?void 0:t.nullable)?null:void 0},c=e=>l(e,{allowNumeric:!1}),u=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),d=e=>"number"==typeof e&&Number.isFinite(e),h=e=>"undefined"!=typeof File&&e instanceof File,p=e=>{const t=c(e);if(!t)return"token:none";let r=0;for(let e=0;e<t.length;e+=1)r=31*r+t.charCodeAt(e)>>>0;return`token:${r.toString(36)}`},f=(e,t,r,o)=>{const i=c(e),a=c(t);if(!i||!a)return null;const l=Object.assign({fmeServerUrl:i,fmeServerToken:a,repository:c(r)||n.nu},d(o)?{requestTimeout:o}:{});try{return(0,s.ER)(l)}catch(e){return null}},v=e=>{var t;return null!==(t=l(e,{allowNumeric:!0}))&&void 0!==t?t:""},m=e=>{if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return String(e);if(void 0===e)return"undefined";if(null===e)return"null";if("object"==typeof e)try{return JSON.stringify(e)}catch(t){return Object.prototype.toString.call(e)}return Object.prototype.toString.call(e)},g=e=>!("string"!=typeof e||!e)&&(!n.JE.test(e)&&n.Xw.test(e));Object.freeze({email:"placeholderEmail",phone:"placeholderPhone",search:"placeholderSearch"});Object.freeze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});const y=e=>e?(0,o.css)(e):void 0,b=(e,t,r)=>{e((e=>Object.assign(Object.assign({},e),{[t]:r})))},E=(e,t)=>{e((e=>{const r=Object.assign({},e);for(const e of t)r[e]=void 0;return r}))},O=e=>{var t;if(!e)return!1;if("object"==typeof e&&null!==e){const r=e,n=m(null!==(t=r.name)&&void 0!==t?t:r.code);if("AbortError"===n||"ABORT_ERR"===n||"ERR_ABORTED"===n)return!0;if(!n||"Error"===n){const e=m(r.message);return/\baborted?\b/i.test(e)||e.includes("signal is aborted")}return!1}return"string"==typeof e&&/\baborted?\b/i.test(e)},R=(e,t)=>{try{e&&"function"==typeof e.closePopup?e.closePopup():t&&"function"==typeof t.close&&t.close()}catch(e){}},T=(e,t)=>{if(!e)return null;const r=e,n="boolean"==typeof r.autoOpenEnabled?r.autoOpenEnabled:void 0;R(t,e);try{r.autoOpenEnabled=!1}catch(e){}let s=null;if("function"==typeof e.watch)try{s=e.watch("visible",(r=>{r&&R(t,e)}))}catch(e){}return{popup:e,view:t||null,handle:s,prevAutoOpen:n}},S=e=>{var t,r;if(e){try{null===(r=null===(t=e.handle)||void 0===t?void 0:t.remove)||void 0===r||r.call(t)}catch(e){}(e=>{const t=e.popup;try{const r="boolean"!=typeof e.prevAutoOpen||e.prevAutoOpen;t.autoOpenEnabled=r}catch(e){}})(e)}};new class{constructor(){this.record=null,this.owners=new Set}acquire(e,t,r){var n;if(!t)return void this.release(e);const s=null===(n=this.record)||void 0===n?void 0:n.popup;if(!s||s!==t){this.teardown(),this.owners.clear();const e=T(t,r);if(!e)return;this.record=e}this.owners.add(e)}release(e){this.owners.delete(e)&&0===this.owners.size&&this.teardown()}releaseAll(){(0!==this.owners.size||this.record)&&(this.owners.clear(),this.teardown())}teardown(){this.record&&(S(this.record),this.record=null)}};const w=e=>"string"!=typeof e&&"function"==typeof(null==e?void 0:e[Symbol.iterator]),k=(e,t)=>{if(!e||!w(e))return[];const r=[];let n=0;for(const s of e){const e=t(s,n++);null!=e&&r.push(e)}return r},A=e=>k(e,c),I=(e,t)=>k(e,(e=>{const r=u(e)?e:null;return r?c(r[t]):void 0})),_=e=>{if(!e||!w(e))return[];const t=new Set,r=[];for(const n of e)t.has(n)||(t.add(n),r.push(n));return r},C=e=>{if(Array.isArray(e))return _(I(e,"name"));const t=u(e)?e:null,r=null==t?void 0:t.items;return Array.isArray(r)?_(I(r,"name")):[]},x=(e,t="error")=>e?`${e}-${t}`:void 0,j=(e,t,r,n,s)=>r||("string"==typeof e&&e.length>0?e:t?"string"==typeof n&&n||s:void 0),M=(Object.freeze({GEOMETRY_SERIALIZATION_FAILED:"polygon",MAP_MODULES_LOAD_FAILED:"map",FORM_INVALID:"warning"}),Object.freeze([{token:"GEOMETRY",icon:"polygon"},{token:"AREA",icon:"polygon"},{token:"MAP",icon:"map"},{token:"MODULE",icon:"map"},{token:"FORM",icon:"warning"},{token:"TOKEN",icon:"person-lock"},{token:"AUTH",icon:"person-lock"},{token:"REPOSITORY",icon:"folder"},{token:"REPO",icon:"folder"},{token:"DATA",icon:"data"},{token:"NETWORK",icon:"shared-no"},{token:"OFFLINE",icon:"shared-no"},{token:"CONNECTION",icon:"shared-no"},{token:"REQUEST",icon:"shared-no"},{token:"SERVER",icon:"feature-service"},{token:"GATEWAY",icon:"feature-service"},{token:"URL",icon:"link-tilted"},{token:"TIMEOUT",icon:"time"},{token:"CONFIG",icon:"setting"},{token:"EMAIL",icon:"email"}]),(e,t)=>{var r;return(null!==(r=l(e,{allowNumeric:!0}))&&void 0!==r?r:"").replace(/[^A-Za-z0-9_\-]/g,"").trim()||t}),L=(new Set(["start","name","category","description","trigger"]),Object.freeze(["estimatedRuntimeSeconds","estimatedRunSeconds","estimatedDurationSeconds","avgRuntimeSeconds","averageRuntimeSeconds","expectedRuntimeSeconds","expectedRunTimeSeconds","estimated_runtime_seconds","estimated_run_seconds","estimated_duration_seconds"]),Object.freeze(["transformerCount","transformer_count","estimatedTransformerCount"]),Object.freeze(["fileSizeBytes","fileSize","estimatedDataSizeBytes","estimatedDataSize","estimatedFileSize"]),e=>{const t="string"==typeof e?e.trim():String(e);if(!t||!/^\d+$/.test(t))return;const r=Number(t);return!Number.isFinite(r)||r<0?void 0:Math.floor(r)});const P=(e,t)=>{const r=e.replace(/\/(?:fmeserver|fmerest)$/i,"").replace(/\/$/,""),n=t.filter((e=>"string"==typeof e&&e.length>0)).map((e=>e.split("/").filter((e=>Boolean(e)&&"."!==e&&".."!==e)).map((e=>encodeURIComponent(e))).join("/"))).join("/");return n?`${r}/${n}`:r},N=(e,...t)=>P(e,t),D=(e,t,r)=>{if(e.startsWith("http"))return e;const n=e=>e.startsWith("/")?e.slice(1):e;if(e.startsWith("/fme"))return N(t,n(e));const s=n(r||""),o=n(e);return o?N(t,s,o):N(t,s)},U=(e={},t=[],r=!1)=>{const n=new URLSearchParams;if("object"!=typeof e||null===e)return n;const s=new Set(t);for(const[t,r]of Object.entries(e)){if(null==r||s.has(t))continue;const e=$(r);null!=e&&(h(e)?n.append(t,V(e)):n.append(t,m(e)))}if(r){const t=t=>{const r=n.get(t);if(null!==r)return r;const s=null==e?void 0:e[t];return"string"==typeof s?s:""},r="xml"===t("opt_responseformat").trim().toLowerCase()?"xml":"json";n.set("opt_responseformat",r);const s="false"===t("opt_showresult").trim().toLowerCase()?"false":"true";n.set("opt_showresult",s);const o=t("opt_servicemode").trim().toLowerCase(),i="sync"===o?"sync":"schedule"===o?"schedule":"async";n.set("opt_servicemode",i)}return n},F=(e,t,r,n)=>{},q=e=>{const t=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(`^https?://${t}`,"i")},W=(e,t)=>{var r;return null!==(r=null==e?void 0:e.some((e=>{if(!e||!e._fmeInterceptor)return!1;const r=e.urls;if(r instanceof RegExp)return r.source===t.source&&r.flags===t.flags;const n="string"==typeof r?r:String(r||"");return t.test(n)})))&&void 0!==r&&r};function B(e,t,r){const n=`${e}::${t||""}::${r||""}`;let s=5381;for(let e=0;e<n.length;e++)s=(s<<5)+s^n.charCodeAt(e);return Math.abs(s>>>0).toString(36)}const H=e=>(null!=e?e:"").toLowerCase().includes("application/json"),z=e=>{const t=(e||"").trim();if(!t)return null;try{return new URL(t)}catch(e){return null}},K=e=>{const t=z(e);return t&&t.hostname||null},G=e=>{if(!e)return"Unknown error";if("string"==typeof e)return e;if("number"==typeof e)return e.toString();if(e instanceof Error)return e.message||"Error object";if("object"==typeof e&&null!==e){const t=e;for(const e of["message","error","details","description"]){const r=t[e];if("string"==typeof r&&r.trim())return r.trim()}}return"Unknown error occurred"},Q=e=>{if(!e)return null;const t="number"==typeof e.timestampMs?e.timestampMs:e.timestamp instanceof Date?e.timestamp.getTime():0,{retry:r,timestamp:n}=e,s=a(e,["retry","timestamp"]);return Object.assign(Object.assign({},s),{timestampMs:t,kind:"serializable"})},V=e=>c(null==e?void 0:e.name)||"unnamed-file",$=e=>{if(!e||"object"!=typeof e||Array.isArray(e))return e;if(!(e=>"object"==typeof e&&null!==e&&!Array.isArray(e)&&"mode"in e)(e))return e;const t=e;return"file"===t.mode?(e=>{var t;return h(e.file)?e.file:null!==(t=c(e.fileName))&&void 0!==t?t:v(e.fileName)})(t):"text"===t.mode?v(t.text):e},X=e=>{var t;return null!==(t=null==e?void 0:e.default)&&void 0!==t?t:e};function J(e){return i(this,void 0,void 0,(function*(){if(!Array.isArray(e)||!e.length)return[];const t="undefined"!=typeof globalThis?globalThis:void 0,n=null==t?void 0:t.__ESRI_TEST_STUB__;if("function"==typeof n)return n(e);try{const t=yield Promise.resolve().then(r.bind(r,2686)),n=null==t?void 0:t.loadArcGISJSAPIModules;if("function"!=typeof n)throw new Error("ARCGIS_MODULE_ERROR");return((yield n(e))||[]).map(X)}catch(e){throw new Error("ARCGIS_MODULE_ERROR")}}))}},3624:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},3744:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12"><path fill="#fff" d="M11.569 4.808 10.5 6.683v2.79a.67.67 0 0 1-.667.652h-.458V2.906a.285.285 0 0 0-.281-.281H4.5V.491a.105.105 0 0 1 .158-.093L6.566 1.5h3.267a.667.667 0 0 1 .667.668v1.657l.953.551a.31.31 0 0 1 .116.432M4.5 6.75h3V4.5h-3zm2.858 1.875H2.906a.285.285 0 0 1-.281-.281V1.5h-.457a.67.67 0 0 0-.668.668v2.707L.416 6.75a.32.32 0 0 0 .117.431l.967.54V9.45a.67.67 0 0 0 .668.675H5.4l1.943 1.125a.105.105 0 0 0 .143-.038.1.1 0 0 0 .014-.052V8.764a.143.143 0 0 0-.142-.139"></path></svg>'},3890:(e,t,r)=>{"use strict";r.d(t,{$N:()=>c,$d:()=>f,Ko:()=>p,Pi:()=>m,dC:()=>l,e6:()=>g,il:()=>y,k9:()=>d,qT:()=>a});var n=r(9778),s=r(3271);const o=e=>"number"==typeof e&&e>=100&&e<=599,i=e=>e.toLowerCase().includes(n.Gm),a=e=>{const t=(0,s.yC)(e||"");if(!t)return"";let r=t.pathname||"/";const o=r.toLowerCase().indexOf(n.Gm);o>=0&&(r=r.substring(0,o)||"/"),t.search="",t.hash="",t.username="",t.password="",t.pathname=r;const i="/"===r?"":r.replace(/\/$/,"");return`${t.origin}${i}`};function l(e,t){const r=(e||"").trim();if(!r)return{ok:!1,reason:"invalid_url"};try{const e=new URL(r),n=e.protocol.toLowerCase();if("http:"!==n&&"https:"!==n)return{ok:!1,reason:"invalid_url"};if((null==t?void 0:t.requireHttps)&&"https:"!==n)return{ok:!1,reason:"require_https"};if(e.username||e.password)return{ok:!1,reason:"invalid_url"};if(e.search||e.hash)return{ok:!1,reason:"no_query_or_hash"};if((null==t?void 0:t.disallowRestForWebhook)&&/\/fmerest(?:\/|$)/i.test(e.pathname))return{ok:!1,reason:"disallow_fmerest_for_webhook"};if(i(e.pathname))return{ok:!1,reason:"invalid_url"};if(e.hostname.endsWith("."))return{ok:!1,reason:"invalid_url"};if(null==t?void 0:t.strict){const t=e.hostname||"";if(!t.includes(".")||t.length<4)return{ok:!1,reason:"invalid_url"}}return{ok:!0}}catch(e){return{ok:!1,reason:"invalid_url"}}}const c=e=>e&&n.zo[e]||"invalid_url",u=e=>{for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<32||127===r)return!0}return!1},d=e=>{if(!e)return{ok:!1,key:"missingToken"};const t=e.length<n.Yw,r=/\s/.test(e),s=(e=>/\s/.test(e)||/[<>"'`]/.test(e)||u(e))(e);return t||s?r?{ok:!1,key:"tokenWithWhitespace"}:{ok:!1,key:"errorTokenIssue"}:{ok:!0}},h=(e,t)=>null===t?{ok:!0}:t.length>0&&!e?{ok:!1,key:"missingRepository"}:t.length>0&&e&&!t.includes(e)?{ok:!1,key:"invalidRepository"}:{ok:!0},p=e=>{if(!e||"object"!=typeof e)return;const t=e;for(const e of n.bD){const r=t[e];if(o(r))return r}const r=t.details;if(r&&"object"==typeof r){const e=r.httpStatus||r.status;if(o(e))return e}const i=(0,s.PE)(e);if("string"==typeof i){const e=/status:\s*(\d{3})/i.exec(i);if(e){const t=parseInt(e[1],10);if(o(t))return t}}},f=e=>{if(e&&"object"==typeof e){const t=e;if("boolean"==typeof t.isRetryable)return t.isRetryable}const t=p(e);return!t||t<100||(t>=500||(408===t||429===t))},v=e=>{if("number"==typeof e)return n.KG[e]?n.KG[e]:e>=500?"errorServerIssue":void 0},m=(e,t)=>{if(null==t&&(t=p(e)),e&&"object"==typeof e){const r=e.code;if("string"==typeof r){if("REQUEST_FAILED"===r)return v(t)||"errorServerIssue";const e=n.jF[r];if(e)return e}}const r=v(t);if(r)return r;const s=null==e?void 0:e.message;if("string"==typeof s){const e=(e=>{const t=e.toLowerCase();for(const{pattern:e,key:r}of n.a9)if(e.test(t))return r})(s);if(e)return e}return"errorUnknown"},g=e=>{if(!e.serverUrl||!e.token||!e.repository)throw new Error("Missing required configuration")};function y(e){const{url:t,token:r,repository:n,availableRepos:s}=e||{},o={},i=l(t);if(!i.ok){const e=i.reason;o.serverUrl=c(e)}const a=d(r);a.ok||(o.token=a.key||"errorTokenIssue");const u=h(n||"",void 0===s?[]:s);return u.ok||(o.repository=u.key||"invalidRepository"),{ok:0===Object.keys(o).length,errors:o}}},3930:(e,t,r)=>{"use strict";r.d(t,{I:()=>_});var n=r(9658),s=r(6261),o=r(9757),i=r(6500),a=r(4658),l=r(4880),c=r(2775),u=class extends i.Q{constructor(e,t){super(),this.options=t,this.#n=e,this.#s=null,this.#o=(0,a.T)(),this.bindMethods(),this.setOptions(t)}#n;#i=void 0;#a=void 0;#l=void 0;#c;#u;#o;#s;#d;#h;#p;#f;#v;#m;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#i.addObserver(this),d(this.#i,this.options)?this.#y():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h(this.#i,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h(this.#i,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#E(),this.#O(),this.#i.removeObserver(this)}setOptions(e){const t=this.options,r=this.#i;if(this.options=this.#n.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Eh)(this.options.enabled,this.#i))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#R(),this.#i.setOptions(this.options),t._defaulted&&!(0,l.f8)(this.options,t)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#i,observer:this});const n=this.hasListeners();n&&p(this.#i,r,this.options,t)&&this.#y(),this.updateResult(),!n||this.#i===r&&(0,l.Eh)(this.options.enabled,this.#i)===(0,l.Eh)(t.enabled,this.#i)&&(0,l.d2)(this.options.staleTime,this.#i)===(0,l.d2)(t.staleTime,this.#i)||this.#T();const s=this.#S();!n||this.#i===r&&(0,l.Eh)(this.options.enabled,this.#i)===(0,l.Eh)(t.enabled,this.#i)&&s===this.#m||this.#w(s)}getOptimisticResult(e){const t=this.#n.getQueryCache().build(this.#n,e),r=this.createResult(t,e);return function(e,t){if(!(0,l.f8)(e.getCurrentResult(),t))return!0;return!1}(this,r)&&(this.#l=r,this.#u=this.options,this.#c=this.#i.state),r}getCurrentResult(){return this.#l}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"!==r||this.options.experimental_prefetchInRender||"pending"!==this.#o.status||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,r))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#i}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#n.defaultQueryOptions(e),r=this.#n.getQueryCache().build(this.#n,t);return r.fetch().then((()=>this.createResult(r,t)))}fetch(e){return this.#y({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#l)))}#y(e){this.#R();let t=this.#i.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.lQ)),t}#T(){this.#E();const e=(0,l.d2)(this.options.staleTime,this.#i);if(l.S$||this.#l.isStale||!(0,l.gn)(e))return;const t=(0,l.j3)(this.#l.dataUpdatedAt,e)+1;this.#f=c.zs.setTimeout((()=>{this.#l.isStale||this.updateResult()}),t)}#S(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#i):this.options.refetchInterval)??!1}#w(e){this.#O(),this.#m=e,!l.S$&&!1!==(0,l.Eh)(this.options.enabled,this.#i)&&(0,l.gn)(this.#m)&&0!==this.#m&&(this.#v=c.zs.setInterval((()=>{(this.options.refetchIntervalInBackground||n.m.isFocused())&&this.#y()}),this.#m))}#b(){this.#T(),this.#w(this.#S())}#E(){this.#f&&(c.zs.clearTimeout(this.#f),this.#f=void 0)}#O(){this.#v&&(c.zs.clearInterval(this.#v),this.#v=void 0)}createResult(e,t){const r=this.#i,n=this.options,s=this.#l,i=this.#c,c=this.#u,u=e!==r?e.state:this.#a,{state:h}=e;let v,m={...h},g=!1;if(t._optimisticResults){const s=this.hasListeners(),i=!s&&d(e,t),a=s&&p(e,r,t,n);(i||a)&&(m={...m,...(0,o.k)(h.data,e.options)}),"isRestoring"===t._optimisticResults&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:E}=m;v=m.data;let O=!1;if(void 0!==t.placeholderData&&void 0===v&&"pending"===E){let e;s?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(e=s.data,O=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,void 0!==e&&(E="success",v=(0,l.pl)(s?.data,e,t),g=!0)}if(t.select&&void 0!==v&&!O)if(s&&v===i?.data&&t.select===this.#d)v=this.#h;else try{this.#d=t.select,v=t.select(v),v=(0,l.pl)(s?.data,v,t),this.#h=v,this.#s=null}catch(e){this.#s=e}this.#s&&(y=this.#s,v=this.#h,b=Date.now(),E="error");const R="fetching"===m.fetchStatus,T="pending"===E,S="error"===E,w=T&&R,k=void 0!==v,A={status:E,fetchStatus:m.fetchStatus,isPending:T,isSuccess:"success"===E,isError:S,isInitialLoading:w,isLoading:w,data:v,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:R,isRefetching:R&&!T,isLoadingError:S&&!k,isPaused:"paused"===m.fetchStatus,isPlaceholderData:g,isRefetchError:S&&k,isStale:f(e,t),refetch:this.refetch,promise:this.#o,isEnabled:!1!==(0,l.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===A.status?e.reject(A.error):void 0!==A.data&&e.resolve(A.data)},n=()=>{const e=this.#o=A.promise=(0,a.T)();t(e)},s=this.#o;switch(s.status){case"pending":e.queryHash===r.queryHash&&t(s);break;case"fulfilled":"error"!==A.status&&A.data===s.value||n();break;case"rejected":"error"===A.status&&A.error===s.reason||n()}}return A}updateResult(){const e=this.#l,t=this.createResult(this.#i,this.options);if(this.#c=this.#i.state,this.#u=this.options,void 0!==this.#c.data&&(this.#p=this.#i),(0,l.f8)(t,e))return;this.#l=t;this.#k({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#g.size)return!0;const n=new Set(r??this.#g);return this.options.throwOnError&&n.add("error"),Object.keys(this.#l).some((t=>{const r=t;return this.#l[r]!==e[r]&&n.has(r)}))})()})}#R(){const e=this.#n.getQueryCache().build(this.#n,this.options);if(e===this.#i)return;const t=this.#i;this.#i=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#k(e){s.jG.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#l)})),this.#n.getQueryCache().notify({query:this.#i,type:"observerResultsUpdated"})}))}};function d(e,t){return function(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&h(e,t,t.refetchOnMount)}function h(e,t,r){if(!1!==(0,l.Eh)(t.enabled,e)&&"static"!==(0,l.d2)(t.staleTime,e)){const n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&f(e,t)}return!1}function p(e,t,r,n){return(e!==t||!1===(0,l.Eh)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&e.isStaleByTime((0,l.d2)(t.staleTime,e))}var v=r(8972),m=r(7665);r(4848);function g(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var y=v.createContext(g()),b=()=>v.useContext(y),E=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},O=e=>{v.useEffect((()=>{e.clearReset()}),[e])},R=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&void 0===e.data||(0,l.GU)(r,[e.error,n])),T=v.createContext(!1),S=()=>v.useContext(T),w=(T.Provider,e=>{if(e.suspense){const t=1e3,r=e=>"static"===e?e:Math.max(e??t,t),n=e.staleTime;e.staleTime="function"==typeof n?(...e)=>r(n(...e)):r(n),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}}),k=(e,t)=>e.isLoading&&e.isFetching&&!t,A=(e,t)=>e?.suspense&&t.isPending,I=(e,t,r)=>t.fetchOptimistic(e).catch((()=>{r.clearReset()}));function _(e,t){return function(e,t,r){const n=S(),o=b(),i=(0,m.jE)(r),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=n?"isRestoring":"optimistic",w(a),E(a,o),O(o);const c=!i.getQueryCache().get(a.queryHash),[u]=v.useState((()=>new t(i,a))),d=u.getOptimisticResult(a),h=!n&&!1!==e.subscribed;if(v.useSyncExternalStore(v.useCallback((e=>{const t=h?u.subscribe(s.jG.batchCalls(e)):l.lQ;return u.updateResult(),t}),[u,h]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),v.useEffect((()=>{u.setOptions(a)}),[a,u]),A(a,d))throw I(a,u,o);if(R({result:d,errorResetBoundary:o,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!l.S$&&k(d,n)){const e=c?I(a,u,o):i.getQueryCache().get(a.queryHash)?.promise;e?.catch(l.lQ).finally((()=>{u.updateResult()}))}return a.notifyOnChangeProps?d:u.trackResult(d)}(e,u,t)}},4321:e=>{"use strict";e.exports=i},4337:e=>{"use strict";e.exports=a},4540:(e,t,r)=>{"use strict";r.d(t,{JL:()=>p});r(9778);var n=r(3271),s=r(3890),o=(r(2242),r(8424),function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))});class i{constructor(){this.cache=new Map}execute(e,t){return o(this,void 0,void 0,(function*(){const r=this.cache.get(e);if(r)return r;const n=t();return this.cache.set(e,n),n.finally((()=>{this.cache.delete(e)}))}))}}const a={healthCheck:new i,validateConnection:new i},l=Object.freeze(["Failed to fetch","NetworkError","net::","DNS","ENOTFOUND","ECONNREFUSED","timeout","Name or service not known","ERR_NAME_NOT_RESOLVED","Unable to load","/sharing/proxy","proxy"]),c=Object.freeze(["Unable to load","/sharing/proxy","proxy"]),u=e=>l.some((t=>e.toLowerCase().includes(t.toLowerCase()))),d=e=>c.some((t=>e.toLowerCase().includes(t.toLowerCase())));function h(e){var t;if(!e)return"";const r=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:e,n=/\b(\d+\.\d+(?:\.\d+)?|20\d{2}(?:\.\d+)?)\b/,s=["version","fmeVersion","fmeflowVersion","app.version","about.version","server.version","edition","build","productName","product","name"];for(const e of s){const t=e.includes(".")?e.split(".").reduce(((e,t)=>null==e?void 0:e[t]),r):null==r?void 0:r[e];if("string"==typeof t){const e=t.match(n);if(e)return e[1]}if("number"==typeof t&&Number.isFinite(t))return String(t)}try{const e=Object.values(r||{});for(const t of e)if("string"==typeof t){const e=t.match(n);if(e)return e[1]}}catch(e){}return""}function p(e){return o(this,void 0,void 0,(function*(){const{serverUrl:t,token:r,repository:i,signal:l}=e,c=`${t}|${r}|${i||"_"}`,p={serverUrl:"pending",token:"pending",repository:i?"pending":"skip",version:""};return yield a.validateConnection.execute(c,(()=>o(this,void 0,void 0,(function*(){try{const e=(0,n.Mb)(t,r,i);if(!e)return{success:!1,steps:p,error:{message:"connectionFailedMessage",type:"server",status:0}};let c;try{c=yield e.testConnection(l),p.serverUrl="ok",p.token="ok",p.version=h(c)}catch(e){if((0,n.zf)(e))return{success:!1,steps:p,error:{message:e.message||"aborted",type:"generic",status:0}};const i=(0,s.Ko)(e);if(401===i)return p.serverUrl="ok",p.token="fail",{success:!1,steps:p,error:{message:(0,s.Pi)(e,i),type:"token",status:i}};if(403!==i)return p.serverUrl="fail",p.token="skip",{success:!1,steps:p,error:{message:(0,s.Pi)(e,i),type:0===i?"network":"server",status:i}};{const c=(0,n.PE)(e);if(d(c))return p.serverUrl="fail",p.token="skip",{success:!1,steps:p,error:{message:(0,s.Pi)(e,i),type:"server",status:i}};try{const c=yield function(e,t,r){return o(this,void 0,void 0,(function*(){const i=`${e}|${t}`;return(0,s.dC)(e).ok?yield a.healthCheck.execute(i,(()=>o(this,void 0,void 0,(function*(){const o=Date.now();try{const s=(0,n.Mb)(e,t),i=yield s.testConnection(r),a=Date.now()-o,l=Number.isFinite(a)&&a>=0?a:0;return{reachable:!0,version:h(i),responseTime:l}}catch(t){const r=Date.now()-o,i=Number.isFinite(r)&&r>=0?r:0,a=(0,s.Ko)(t),l=(0,n.PE)(t);return 401===a||403===a?u(l)?{reachable:!1,responseTime:i,error:l,status:a}:(0,s.dC)(e,{strict:!0}).ok?{reachable:!0,responseTime:i,status:a}:{reachable:!1,responseTime:i,error:"invalidUrl",status:a}:{reachable:!1,responseTime:i,error:l,status:a}}})))):{reachable:!1,responseTime:0,error:"invalidUrl",status:0}}))}(t,r,l);return c.reachable?(p.serverUrl="ok",p.token="fail",{success:!1,steps:p,error:{message:(0,s.Pi)(e,i),type:"token",status:i}}):(p.serverUrl="fail",p.token="skip",{success:!1,steps:p,error:{message:(0,s.Pi)(e,i),type:"server",status:i}})}catch(t){return p.serverUrl="fail",p.token="skip",{success:!1,steps:p,error:{message:(0,s.Pi)(e,i),type:"server",status:i}}}}}const f=[];if(i)try{yield e.validateRepository(i,l),p.repository="ok"}catch(e){const t=(0,s.Ko)(e);if(401!==t&&403!==t)return p.repository="fail",{success:!1,steps:p,error:{message:(0,s.Pi)(e,t),type:"repository",status:t}};p.repository="skip",f.push("repositoryNotAccessible")}return{success:!0,version:"string"==typeof p.version?p.version:"",steps:p,warnings:f.length?f:void 0}}catch(e){if((0,n.zf)(e))return{success:!1,steps:p,error:{message:e.message||"aborted",type:"generic",status:0}};const t=(0,s.Ko)(e);return{success:!1,steps:p,error:{message:(0,s.Pi)(e,t),type:"generic",status:t}}}}))))}))}},4658:(e,t,r)=>{"use strict";function n(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>n})},4712:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M1.333 0h4c.737 0 1.334.597 1.334 1.333v1.334h8C15.403 2.667 16 3.264 16 4v10.667c0 .736-.597 1.333-1.333 1.333H1.333A1.333 1.333 0 0 1 0 14.667V1.333C0 .597.597 0 1.333 0m0 7.333v7.334h13.334V7.333zm0-1.333h13.334V4H5.334V1.335h-4z" clip-rule="evenodd"></path></svg>'},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},4880:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>v,EN:()=>f,Eh:()=>u,F$:()=>p,GU:()=>I,MK:()=>d,S$:()=>s,ZM:()=>A,ZZ:()=>w,Zw:()=>i,d2:()=>c,f8:()=>y,gn:()=>a,hT:()=>k,j3:()=>l,lQ:()=>o,nJ:()=>h,pl:()=>T,y9:()=>S,yy:()=>R});var n=r(2775),s="undefined"==typeof window||"Deno"in globalThis;function o(){}function i(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function l(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t){return"function"==typeof e?e(t):e}function u(e,t){return"function"==typeof e?e(t):e}function d(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i)if(n){if(t.queryHash!==p(i,t.options))return!1}else if(!v(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!s||s===t.state.fetchStatus)&&!(o&&!o(t)))}function h(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(f(t.options.mutationKey)!==f(o))return!1}else if(!v(t.options.mutationKey,o))return!1}return(!n||t.state.status===n)&&!(s&&!s(t))}function p(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,((e,t)=>E(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function v(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((r=>v(e[r],t[r]))))}var m=Object.prototype.hasOwnProperty;function g(e,t){if(e===t)return e;const r=b(e)&&b(t);if(!(r||E(e)&&E(t)))return t;const n=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,i=r?new Array(o):{};let a=0;for(let l=0;l<o;l++){const o=r?l:s[l],c=e[o],u=t[o];if(c===u){i[o]=c,(r?l<n:m.call(e,o))&&a++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){i[o]=u;continue}const d=g(c,u);i[o]=d,d===c&&a++}return n===o&&a===n?e:i}function y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function b(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function E(e){if(!O(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!O(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function O(e){return"[object Object]"===Object.prototype.toString.call(e)}function R(e){return new Promise((t=>{n.zs.setTimeout(t,e)}))}function T(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?g(e,t):t}function S(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function w(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var k=Symbol();function A(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==k?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function I(e,t){return"function"==typeof e?e(...t):!!e}},4965:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.986 1a6.99 6.99 0 0 1 5.723 2.969l-2.551-.938a.5.5 0 1 0-.345.938l4.228 1.555.163-.944.013-.005-.009-.019.6-3.471a.5.5 0 1 0-.985-.17l-.403 2.33A8 8 0 0 0 0 7.5c-.016.277.21.501.486.501a.53.53 0 0 0 .517-.5A7 7 0 0 1 7.986 1M8.015 15a6.99 6.99 0 0 1-5.724-2.969l2.551.938a.497.497 0 0 0 .642-.296.5.5 0 0 0-.297-.642L.96 10.476l-.163.944-.013.005.009.019-.6 3.471a.5.5 0 1 0 .985.17l.403-2.33A8 8 0 0 0 16 8.5a.477.477 0 0 0-.485-.501.53.53 0 0 0-.518.5A7 7 0 0 1 8.015 15"></path></svg>'},5160:(e,t,r)=>{"use strict";var n=r(8972);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,i=n.useRef,a=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,o=e,e=n(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,s(o,e))return t;var r=n(e);return void 0!==u&&u(t,r)?(o=e,t):(o=e,i=r)}var o,i,a=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,r,n,u]);var p=o(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=p}),[p]),c(p),p}},5502:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M1 4.429V15h14V1L6.833 7.857zM14 3v11H2V6.114l4.182 2.51a1.2 1.2 0 0 0 1.398-.118z" clip-rule="evenodd"></path></svg>'},5668:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path><path fill="#000" fill-rule="evenodd" d="m11.002 7.002-3 3-3-3v-4a2.893 2.893 0 0 1 3-3 2.893 2.893 0 0 1 3 3zm-3-6h-.038a1.893 1.893 0 0 0-1.963 1.962l.001.018v3.606l2 2 2-2V2.964A1.894 1.894 0 0 0 8.04 1z" clip-rule="evenodd"></path><path fill="#000" d="M4.072 1.908a10.4 10.4 0 0 1-1.939-.433L0 13.077c1.2.504 2.493.746 3.793.711A10.7 10.7 0 0 0 7 13.31v1.678H2v1h11v-1H8v-2a11.9 11.9 0 0 1 4.207-.8A6.62 6.62 0 0 1 16 13.277L13.867 1.674a8.2 8.2 0 0 0-2.236-.61 3.5 3.5 0 0 1 .336 1.066q.514.097 1.009.27l1.72 9.163a8.3 8.3 0 0 0-2.489-.376 12.8 12.8 0 0 0-4.526.852l-.604.204-.363.108a9.7 9.7 0 0 1-2.921.436 9.5 9.5 0 0 1-2.668-.363l1.81-9.697q.53.115 1.068.18v-.173a3.4 3.4 0 0 1 .069-.826"></path></svg>'},5938:e=>{"use strict";e.exports=l},6035:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});var n=r(6500),s=r(4880),o=new class extends n.Q{#A=!0;#I;#_;constructor(){super(),this.#_=e=>{if(!s.S$&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#I||this.setEventListener(this.#_)}onUnsubscribe(){this.hasListeners()||(this.#I?.(),this.#I=void 0)}setEventListener(e){this.#_=e,this.#I?.(),this.#I=e(this.setOnline.bind(this))}setOnline(e){this.#A!==e&&(this.#A=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#A}}},6158:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,s:()=>i});var n=r(6261),s=r(1692),o=r(8904),i=class extends s.k{#n;#C;#x;#j;constructor(e){super(),this.#n=e.client,this.mutationId=e.mutationId,this.#x=e.mutationCache,this.#C=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#C.includes(e)||(this.#C.push(e),this.clearGcTimeout(),this.#x.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#C=this.#C.filter((t=>t!==e)),this.scheduleGc(),this.#x.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#C.length||("pending"===this.state.status?this.scheduleGc():this.#x.remove(this))}continue(){return this.#j?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#M({type:"continue"})},r={client:this.#n,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#j=(0,o.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#M({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#M({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#x.canRun(this)});const n="pending"===this.state.status,s=!this.#j.canStart();try{if(n)t();else{this.#M({type:"pending",variables:e,isPaused:s}),await(this.#x.config.onMutate?.(e,this,r));const t=await(this.options.onMutate?.(e,r));t!==this.state.context&&this.#M({type:"pending",context:t,variables:e,isPaused:s})}const o=await this.#j.start();return await(this.#x.config.onSuccess?.(o,e,this.state.context,this,r)),await(this.options.onSuccess?.(o,e,this.state.context,r)),await(this.#x.config.onSettled?.(o,null,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(o,null,e,this.state.context,r)),this.#M({type:"success",data:o}),o}catch(t){try{throw await(this.#x.config.onError?.(t,e,this.state.context,this,r)),await(this.options.onError?.(t,e,this.state.context,r)),await(this.#x.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(void 0,t,e,this.state.context,r)),t}finally{this.#M({type:"error",error:t})}}finally{this.#x.runNext(this)}}#M(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.jG.batch((()=>{this.#C.forEach((t=>{t.onMutationUpdate(e)})),this.#x.notify({mutation:this,type:"updated",action:e})}))}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},6261:(e,t,r)=>{"use strict";r.d(t,{jG:()=>s});var n=r(2775).Zq;var s=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()},o=n;const i=n=>{t?e.push(n):o((()=>{r(n)}))};return{batch:n=>{let i;t++;try{i=n()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o((()=>{s((()=>{t.forEach((e=>{r(e)}))}))}))})()}return i},batchCalls:e=>(...t)=>{i((()=>{e(...t)}))},schedule:i,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{o=e}}}()},6278:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},6500:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},7097:(e,t,r)=>{"use strict";r.d(t,{n:()=>u});var n=r(8972),s=r(6158),o=r(6261),i=r(6500),a=r(4880),l=class extends i.Q{#n;#l=void 0;#L;#P;constructor(e,t){super(),this.#n=e,this.setOptions(t),this.bindMethods(),this.#N()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#n.defaultMutationOptions(e),(0,a.f8)(this.options,t)||this.#n.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#L,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.EN)(t.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():"pending"===this.#L?.state.status&&this.#L.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#L?.removeObserver(this)}onMutationUpdate(e){this.#N(),this.#k(e)}getCurrentResult(){return this.#l}reset(){this.#L?.removeObserver(this),this.#L=void 0,this.#N(),this.#k()}mutate(e,t){return this.#P=t,this.#L?.removeObserver(this),this.#L=this.#n.getMutationCache().build(this.#n,this.options),this.#L.addObserver(this),this.#L.execute(e)}#N(){const e=this.#L?.state??(0,s.$)();this.#l={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#k(e){o.jG.batch((()=>{if(this.#P&&this.hasListeners()){const t=this.#l.variables,r=this.#l.context,n={client:this.#n,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#P.onSuccess?.(e.data,t,r,n),this.#P.onSettled?.(e.data,null,t,r,n)):"error"===e?.type&&(this.#P.onError?.(e.error,t,r,n),this.#P.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach((e=>{e(this.#l)}))}))}},c=r(7665);function u(e,t){const r=(0,c.jE)(t),[s]=n.useState((()=>new l(r,e)));n.useEffect((()=>{s.setOptions(e)}),[s,e]);const i=n.useSyncExternalStore(n.useCallback((e=>s.subscribe(o.jG.batchCalls(e))),[s]),(()=>s.getCurrentResult()),(()=>s.getCurrentResult())),u=n.useCallback(((e,t)=>{s.mutate(e,t).catch(a.lQ)}),[s]);if(i.error&&(0,a.GU)(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:u,mutateAsync:i.mutate}}},7390:(e,t,r)=>{var n;!function(){"use strict";var s=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),s={use_static:!1};function o(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function i(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(s.use_static=Boolean(t.use_static));var a="__immutable_invariants_hold";function l(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,a)))}function c(e,t){return e===t||e!=e&&t!=t}function u(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var d=["setPrototypeOf"],h=(d.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function p(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function f(e,t){return i(e,a,!0),e}function v(e,t){var r=e[t];i(e,t,(function(){return B(r.apply(e,arguments))}))}function m(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&u(t)&&u(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var s=T.call(this);return s[e]=B(t),b(s)}d.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),p.prototype=new Error,p.prototype.constructor=Error;var g=B([]);function y(e,t,r){var n=e[0];if(1===e.length)return m.call(this,n,t,r);var s,o=e.slice(1),i=this[n];if("object"==typeof i&&null!==i)s=B.setIn(i,o,t);else{var a=o[0];s=""!==a&&isFinite(a)?y.call(g,o,t):M.call(j,o,t)}if(n in this&&i===s)return this;var l=T.call(this);return l[n]=s,b(l)}function b(e){for(var t in h){if(h.hasOwnProperty(t))v(e,h[t])}s.use_static||(i(e,"flatMap",O),i(e,"asObject",S),i(e,"asMutable",T),i(e,"set",m),i(e,"setIn",y),i(e,"update",P),i(e,"updateIn",D),i(e,"getIn",U));for(var r=0,n=e.length;r<n;r++)e[r]=B(e[r]);return f(e)}function E(){return new Date(this.getTime())}function O(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var s=e(this[t],t,this);Array.isArray(s)?r.push.apply(r,s):r.push(s)}return b(r)}function R(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=o(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return W(r)}function T(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(w(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function S(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var s=e(this[t],t,this),o=s[0],i=s[1];r[o]=i}return W(r)}function w(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,a)||e instanceof Date?e:B.asMutable(e,{deep:!0})}function k(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function A(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,s=Array.isArray(e),i=t&&t.deep,a=t&&t.mode||"merge",l=t&&t.merger;function d(e,n,s){var a,d=B(n[s]),h=l&&l(e[s],d,t),p=e[s];void 0===r&&void 0===h&&e.hasOwnProperty(s)&&c(d,p)||(c(p,a=void 0!==h?h:i&&u(p)&&u(d)?B.merge(p,d,t):d)&&e.hasOwnProperty(s)||(void 0===r&&(r=k(e,o(e))),r[s]=a))}if(s)for(var h=0,p=e.length;h<p;h++){var f=e[h];for(n in f)f.hasOwnProperty(n)&&d(void 0!==r?r:this,f,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&d(this,e,n);"replace"===a&&function(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=k(e,o(e))),delete r[n])}(this,e)}return void 0===r?this:W(r)}function I(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return B.merge(this,e,{deep:r,mode:"replace"})}var _,C,x,j=B({});function M(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return L.call(this,n,t,r);var s,i=e.slice(1),a=this[n];if(s=this.hasOwnProperty(n)&&"object"==typeof a&&null!==a?B.setIn(a,i,t):M.call(j,i,t),this.hasOwnProperty(n)&&a===s)return this;var l=k(this,o(this));return l[n]=s,W(l)}function L(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&u(t)&&u(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var s=k(this,o(this));return s[e]=B(t),W(s)}function P(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return B.set(this,e,t.apply(n,[n].concat(r)))}function N(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function D(e,t){var r=Array.prototype.slice.call(arguments,2),n=N(this,e);return B.setIn(this,e,t.apply(n,[n].concat(r)))}function U(e,t){var r=N(this,e);return void 0===r?t:r}function F(e){var t,r=o(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=w(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function q(){return{}}function W(e){return s.use_static||(i(e,"merge",A),i(e,"replace",I),i(e,"without",R),i(e,"asMutable",F),i(e,"set",L),i(e,"setIn",M),i(e,"update",P),i(e,"updateIn",D),i(e,"getIn",U)),f(e)}function B(e,t,r){if(l(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(B);if(Array.isArray(e))return b(e.slice());if(e instanceof Date)return o=new Date(e.getTime()),s.use_static||i(o,"asMutable",E),f(o);var o,a=t&&t.prototype,c=(a&&a!==Object.prototype?function(){return Object.create(a)}:q)();for(var u in e)Object.getOwnPropertyDescriptor(e,u)&&(c[u]=B(e[u],void 0,r));return W(c)}function H(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function z(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return B.from=B,B.isImmutable=l,B.ImmutableError=p,B.merge=H(A),B.replace=H(I),B.without=H(R),B.asMutable=(_=F,C=T,x=E,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?C.apply(t,e):t instanceof Date?x.apply(t,e):_.apply(t,e)}),B.set=z(L,m),B.setIn=z(M,y),B.update=H(P),B.updateIn=H(D),B.getIn=H(U),B.flatMap=H(O),B.asObject=H(S),s.use_static||(B.static=e({use_static:!0})),Object.freeze(B),B}();void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},7413:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 1 8 1a7 7 0 0 1 0 14" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M11.53 5.47a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06L7 8.94l3.47-3.47a.75.75 0 0 1 1.06 0" clip-rule="evenodd"></path></svg>'},7665:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>a,jE:()=>i});var n=r(8972),s=r(4848),o=n.createContext(void 0),i=e=>{const t=n.useContext(o);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(n.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),(0,s.jsx)(o.Provider,{value:e,children:t}))},7711:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m1.373 8 2.07-2.071.83.828L2.2 8.828a3.515 3.515 0 0 0 4.97 4.971l2.072-2.071.828.828L8 14.627A4.686 4.686 0 1 1 1.373 8M13.799 7.172l-2.071 2.07.828.83L14.627 8A4.686 4.686 0 1 0 8 1.373l-2.071 2.07.828.83L8.828 2.2a3.515 3.515 0 0 1 4.971 4.97"></path><path fill="#000" d="M5.515 9.657a.586.586 0 0 0 .828.828l4.142-4.142a.586.586 0 0 0-.828-.828z"></path></svg>'},8418:(e,t,r)=>{"use strict";e.exports=r(5160)},8424:(e,t,r)=>{"use strict";r.d(t,{createFmeSelectors:()=>v,fmeActions:()=>l});var n,s=r(7390),o=r.n(s),i=r(9778),a=r(3271);const l={setViewMode:(e,t)=>({type:i.ZW.SET_VIEW_MODE,viewMode:e,widgetId:t}),resetState:e=>({type:i.ZW.RESET_STATE,widgetId:e}),setGeometry:(e,t,r)=>({type:i.ZW.SET_GEOMETRY,geometryJson:h(e),drawnArea:t,widgetId:r}),setDrawingTool:(e,t)=>({type:i.ZW.SET_DRAWING_TOOL,drawingTool:e,widgetId:t}),completeDrawing:(e,t,r,n)=>({type:i.ZW.COMPLETE_DRAWING,geometryJson:h(e),drawnArea:t,nextViewMode:r,widgetId:n}),setOrderResult:(e,t)=>({type:i.ZW.SET_ORDER_RESULT,orderResult:e,widgetId:t}),setWorkspaceItems:(e,t)=>({type:i.ZW.SET_WORKSPACE_ITEMS,workspaceItems:e,widgetId:t}),setWorkspaceParameters:(e,t,r)=>({type:i.ZW.SET_WORKSPACE_PARAMETERS,workspaceParameters:e,workspaceName:t,widgetId:r}),setSelectedWorkspace:(e,t)=>({type:i.ZW.SET_SELECTED_WORKSPACE,workspaceName:e,widgetId:t}),setWorkspaceItem:(e,t)=>({type:i.ZW.SET_WORKSPACE_ITEM,workspaceItem:e,widgetId:t}),setError:(e,t,r)=>({type:i.ZW.SET_ERROR,scope:e,error:t?(0,a.lx)(t):null,widgetId:r}),setErrors:(e,t)=>{const r={};for(const[t,n]of Object.entries(e))void 0!==n&&(r[t]=n?(0,a.lx)(n):null);return{type:i.ZW.SET_ERRORS,errors:r,widgetId:t}},clearError:(e,t)=>({type:i.ZW.CLEAR_ERROR,scope:e,widgetId:t}),clearWorkspaceState:e=>({type:i.ZW.CLEAR_WORKSPACE_STATE,widgetId:e}),resetToDrawing:e=>({type:i.ZW.RESET_TO_DRAWING,widgetId:e}),completeStartup:e=>({type:i.ZW.COMPLETE_STARTUP,widgetId:e}),setLoadingFlag:(e,t,r)=>({type:i.ZW.SET_LOADING_FLAG,flag:e,value:t,widgetId:r}),applyWorkspaceData:(e,t)=>({type:i.ZW.APPLY_WORKSPACE_DATA,workspaceName:e.workspaceName,workspaceParameters:e.parameters,workspaceItem:e.item,widgetId:t}),removeWidgetState:e=>({type:i.ZW.REMOVE_WIDGET_STATE,widgetId:e})},c={viewMode:i.nE.STARTUP_VALIDATION,drawingTool:i.hL.POLYGON,geometryJson:null,drawnArea:0,orderResult:null,workspaceItems:[],selectedWorkspace:null,workspaceParameters:[],workspaceItem:null,loading:{workspaces:!1,parameters:!1,modules:!1,submission:!1},errors:{}},u=null!==(n=o())&&void 0!==n?n:s,d=e=>{if("string"!=typeof e)return null;return e.trim()||null},h=e=>{if(!e)return null;const t=null==e?void 0:e.toJSON;if("function"!=typeof t)return null;try{return t.call(e)}catch(e){return null}};const p={[i.MU.ERROR]:3,[i.MU.WARNING]:2,[i.MU.INFO]:1},f={general:0,export:1,import:2};const v=e=>{const t=t=>((e,t)=>{var r,n;const s=null===(n=null===(r=null==e?void 0:e["fme-state"])||void 0===r?void 0:r.byId)||void 0===n?void 0:n[t];return null!=s?s:null})(t,e);return{selectSlice:t,selectViewMode:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.viewMode)&&void 0!==n?n:c.viewMode},selectDrawingTool:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.drawingTool)&&void 0!==n?n:c.drawingTool},selectGeometryJson:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.geometryJson)&&void 0!==n?n:null},selectDrawnArea:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.drawnArea)&&void 0!==n?n:c.drawnArea},selectWorkspaceItems:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.workspaceItems)&&void 0!==n?n:c.workspaceItems},selectWorkspaceParameters:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.workspaceParameters)&&void 0!==n?n:c.workspaceParameters},selectWorkspaceItem:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.workspaceItem)&&void 0!==n?n:c.workspaceItem},selectSelectedWorkspace:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.selectedWorkspace)&&void 0!==n?n:c.selectedWorkspace},selectOrderResult:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.orderResult)&&void 0!==n?n:c.orderResult},selectErrors:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.errors)&&void 0!==n?n:c.errors},selectPrimaryError:e=>{var r,n;return(e=>{let t=null,r=-1,n=Number.POSITIVE_INFINITY;for(const[s,o]of Object.entries(e)){if(!o)continue;if(!(o.severity in p))continue;if(!(s in f))continue;const e=p[o.severity],i=f[s];(e>r||e===r&&i<n)&&(t={scope:s,details:o},r=e,n=i)}return t})(null!==(n=null===(r=t(e))||void 0===r?void 0:r.errors)&&void 0!==n?n:c.errors)},selectErrorByScope:e=>r=>{var n,s,o;return null!==(o=null===(s=null===(n=t(r))||void 0===n?void 0:n.errors)||void 0===s?void 0:s[e])&&void 0!==o?o:null},selectLoading:e=>{var r,n;return null!==(n=null===(r=t(e))||void 0===r?void 0:r.loading)&&void 0!==n?n:c.loading},selectLoadingFlag:e=>r=>{var n,s,o;return null!==(o=null===(s=null===(n=t(r))||void 0===n?void 0:n.loading)||void 0===s?void 0:s[e])&&void 0!==o?o:c.loading[e]},selectHasValidAoi:e=>{var r;const n=t(e);return!!n&&(Boolean(n.geometryJson)&&(null!==(r=n.drawnArea)&&void 0!==r?r:0)>0)},selectCanExport:e=>{var r,n,s,o;const a=t(e);if(!a)return!1;const l=Boolean(a.geometryJson)&&Number.isFinite(a.drawnArea)&&a.drawnArea>0,c=Boolean(d(a.selectedWorkspace)),u=(null!==(n=null===(r=a.workspaceParameters)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0||null!==a.workspaceItem,h=null===(s=a.errors)||void 0===s?void 0:s.general,f=!!h&&(null!==(o=p[h.severity])&&void 0!==o?o:0)>=p[i.MU.ERROR];return l&&c&&u&&!f},selectIsBusy:e=>{var r,n;const s=null!==(n=null===(r=t(e))||void 0===r?void 0:r.loading)&&void 0!==n?n:c.loading;return s.workspaces||s.parameters||s.modules||s.submission}}};u({byId:{}})},8904:(e,t,r)=>{"use strict";r.d(t,{II:()=>u,cc:()=>c,v_:()=>l});var n=r(9658),s=r(6035),o=r(4658),i=r(4880);function a(e){return Math.min(1e3*2**e,3e4)}function l(e){return"online"!==(e??"online")||s.t.isOnline()}var c=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u(e){let t,r=!1,u=0;const d=(0,o.T)(),h=()=>"pending"!==d.status,p=()=>n.m.isFocused()&&("always"===e.networkMode||s.t.isOnline())&&e.canRun(),f=()=>l(e.networkMode)&&e.canRun(),v=e=>{h()||(t?.(),d.resolve(e))},m=e=>{h()||(t?.(),d.reject(e))},g=()=>new Promise((r=>{t=e=>{(h()||p())&&r(e)},e.onPause?.()})).then((()=>{t=void 0,h()||e.onContinue?.()})),y=()=>{if(h())return;let t;const n=0===u?e.initialPromise:void 0;try{t=n??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(v).catch((t=>{if(h())return;const n=e.retry??(i.S$?0:3),s=e.retryDelay??a,o="function"==typeof s?s(u,t):s,l=!0===n||"number"==typeof n&&u<n||"function"==typeof n&&n(u,t);!r&&l?(u++,e.onFail?.(u,t),(0,i.yy)(o).then((()=>p()?void 0:g())).then((()=>{r?m(t):y()}))):m(t)}))};return{promise:d,status:()=>d.status,cancel:t=>{if(!h()){const r=new c(t);m(r),e.onCancel?.(r)}},continue:()=>(t?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:f,start:()=>(f()?y():g().then(y),d)}}},8972:e=>{"use strict";e.exports=s},9124:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M15 3.5v9c0 1.933-3.134 3.5-7 3.5s-7-1.567-7-3.5v-9C1 1.567 4.134 0 8 0s7 1.567 7 3.5M2 5.304V6.5C2 7.692 4.615 9 8 9s6-1.308 6-2.5V5.304C12.775 6.32 10.546 7 8 7s-4.775-.68-6-1.696M8 10c2.546 0 4.775-.68 6-1.696V9.5c0 1.192-2.615 2.5-6 2.5s-6-1.308-6-2.5V8.304C3.225 9.32 5.454 10 8 10m6 1.304C12.775 12.32 10.546 13 8 13s-4.775-.68-6-1.696V12.5C2 13.692 4.615 15 8 15s6-1.308 6-2.5zM14 3.5C14 4.692 11.385 6 8 6S2 4.692 2 3.5 4.615 1 8 1s6 1.308 6 2.5" clip-rule="evenodd"></path></svg>'},9244:e=>{"use strict";e.exports=r},9298:e=>{"use strict";e.exports=o},9658:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(6500),s=r(4880),o=new class extends n.Q{#D;#I;#_;constructor(){super(),this.#_=e=>{if(!s.S$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#I||this.setEventListener(this.#_)}onUnsubscribe(){this.hasListeners()||(this.#I?.(),this.#I=void 0)}setEventListener(e){this.#_=e,this.#I?.(),this.#I=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#D!==e&&(this.#D=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#D?this.#D:"hidden"!==globalThis.document?.visibilityState}}},9757:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,k:()=>l});var n=r(4880),s=r(6261),o=r(8904),i=r(1692),a=class extends i.k{#U;#F;#q;#n;#j;#W;#B;constructor(e){super(),this.#B=!1,this.#W=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#q=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#U=c(this.options),this.state=e.state??this.#U,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#j?.promise}setOptions(e){if(this.options={...this.#W,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=c(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#U=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#q.remove(this)}setData(e,t){const r=(0,n.pl)(this.state.data,e,this.options);return this.#M({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#M({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#j?.promise;return this.#j?.cancel(e),t?t.then(n.lQ).catch(n.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#U)}isActive(){return this.observers.some((e=>!1!==(0,n.Eh)(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some((e=>"static"===(0,n.d2)(e.options.staleTime,this)))}isStale(){return this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,n.j3)(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#j?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#j?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#q.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#j&&(this.#B?this.#j.cancel({revert:!0}):this.#j.cancelRetry()),this.scheduleGc()),this.#q.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#M({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#j?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#j)return this.#j.continueRetry(),this.#j.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#B=!0,r.signal)})},i=()=>{const e=(0,n.ZM)(this.options,t),r=(()=>{const e={client:this.#n,queryKey:this.queryKey,meta:this.meta};return s(e),e})();return this.#B=!1,this.options.persister?this.options.persister(e,r,this):e(r)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return s(e),e})();this.options.behavior?.onFetch(a,this),this.#F=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#M({type:"fetch",meta:a.fetchOptions?.meta}),this.#j=(0,o.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof o.cc&&e.revert&&this.setState({...this.#F,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#M({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#M({type:"pause"})},onContinue:()=>{this.#M({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const e=await this.#j.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#q.config.onSuccess?.(e,this),this.#q.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof o.cc){if(e.silent)return this.#j.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#M({type:"error",error:e}),this.#q.config.onError?.(e,this),this.#q.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#M(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":const r={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#F=e.manual?r:void 0,r;case"error":const n=e.error;return{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),s.jG.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#q.notify({query:this,type:"updated",action:e})}))}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,o.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function c(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}},9778:(e,t,r)=>{"use strict";var n,s,o,i,a,l,c,u,d;r.d(t,{Ve:()=>h,nu:()=>x,hL:()=>s,Xw:()=>v,jF:()=>k,_$:()=>j,MU:()=>i,vA:()=>p,Gm:()=>w,ZW:()=>d,VQ:()=>M,ym:()=>l,a9:()=>I,Yw:()=>S,JE:()=>m,d:()=>R,zo:()=>_,rd:()=>f,bD:()=>C,KG:()=>A,T5:()=>b,nE:()=>n,GR:()=>O,$W:()=>L.$W,EC:()=>L.EC,MN:()=>L.MN}),function(e){e.STARTUP_VALIDATION="startup-validation",e.INITIAL="initial",e.DRAWING="drawing",e.WORKSPACE_SELECTION="workspace-selection",e.EXPORT_FORM="export-form",e.EXPORT_OPTIONS="export-options",e.ORDER_RESULT="order-result"}(n||(n={})),function(e){e.POLYGON="polygon",e.RECTANGLE="rectangle"}(s||(s={})),function(e){e.TEXT="text",e.NUMBER="number",e.TEXTAREA="textarea",e.SELECT="select",e.MULTI_SELECT="multi-select",e.CHECKBOX="checkbox",e.PASSWORD="password",e.FILE="file",e.DATE_TIME="date-time",e.URL="url",e.SWITCH="switch",e.RADIO="radio",e.SLIDER="slider",e.NUMERIC_INPUT="numeric-input",e.TAG_INPUT="tag-input",e.COLOR="color",e.DATE="date",e.TIME="time",e.EMAIL="email",e.PHONE="phone",e.SEARCH="search",e.MESSAGE="message",e.TABLE="table",e.MONTH="month",e.WEEK="week",e.COORDSYS="coord-sys",e.ATTRIBUTE_NAME="attribute-name",e.ATTRIBUTE_LIST="attribute-list",e.DB_CONNECTION="db-connection",e.WEB_CONNECTION="web-connection",e.TEXT_OR_FILE="text-or-file",e.REPROJECTION_FILE="reprojection-file",e.SCRIPTED="scripted",e.GEOMETRY="geometry",e.HIDDEN="hidden"}(o||(o={})),function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error"}(i||(i={})),function(e){e.VALIDATION="validation",e.CONFIG="config",e.NETWORK="network",e.MODULE="module",e.GEOMETRY="geometry"}(a||(a={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(l||(l={})),function(e){e.TEXT="TEXT",e.INTEGER="INTEGER",e.FLOAT="FLOAT",e.BOOLEAN="BOOLEAN",e.CHECKBOX="CHECKBOX",e.CHOICE="CHOICE",e.LISTBOX="LISTBOX",e.LOOKUP_LISTBOX="LOOKUP_LISTBOX",e.LOOKUP_CHOICE="LOOKUP_CHOICE",e.TEXT_OR_FILE="TEXT_OR_FILE",e.TEXT_EDIT="TEXT_EDIT",e.PASSWORD="PASSWORD",e.FILENAME="FILENAME",e.FILENAME_MUSTEXIST="FILENAME_MUSTEXIST",e.DIRNAME="DIRNAME",e.DIRNAME_MUSTEXIST="DIRNAME_MUSTEXIST",e.DIRNAME_SRC="DIRNAME_SRC",e.COORDSYS="COORDSYS",e.STRING="STRING",e.URL="URL",e.LOOKUP_URL="LOOKUP_URL",e.LOOKUP_FILE="LOOKUP_FILE",e.DATE_TIME="DATE_TIME",e.DATETIME="DATETIME",e.DATE="DATE",e.TIME="TIME",e.MONTH="MONTH",e.WEEK="WEEK",e.COLOR="COLOR",e.COLOR_PICK="COLOR_PICK",e.RANGE_SLIDER="RANGE_SLIDER",e.GEOMETRY="GEOMETRY",e.MESSAGE="MESSAGE",e.ATTRIBUTE_NAME="ATTRIBUTE_NAME",e.ATTRIBUTE_LIST="ATTRIBUTE_LIST",e.DB_CONNECTION="DB_CONNECTION",e.WEB_CONNECTION="WEB_CONNECTION",e.REPROJECTION_FILE="REPROJECTION_FILE",e.SCRIPTED="SCRIPTED",e.NOVALUE="NOVALUE"}(c||(c={})),function(e){e.QUEUED="QUEUED",e.PULLED="PULLED",e.RUNNING="RUNNING",e.SUCCESS="SUCCESS",e.FME_FAILURE="FME_FAILURE",e.JOB_FAILURE="JOB_FAILURE",e.ABORTED="ABORTED"}(u||(u={})),function(e){e.SET_VIEW_MODE="fme/SET_VIEW_MODE",e.RESET_STATE="fme/RESET_STATE",e.SET_GEOMETRY="fme/SET_GEOMETRY",e.SET_DRAWING_TOOL="fme/SET_DRAWING_TOOL",e.COMPLETE_DRAWING="fme/COMPLETE_DRAWING",e.SET_ORDER_RESULT="fme/SET_ORDER_RESULT",e.SET_WORKSPACE_ITEMS="fme/SET_WORKSPACE_ITEMS",e.SET_WORKSPACE_PARAMETERS="fme/SET_WORKSPACE_PARAMETERS",e.SET_SELECTED_WORKSPACE="fme/SET_SELECTED_WORKSPACE",e.SET_WORKSPACE_ITEM="fme/SET_WORKSPACE_ITEM",e.SET_ERROR="fme/SET_ERROR",e.SET_ERRORS="fme/SET_ERRORS",e.CLEAR_WORKSPACE_STATE="fme/CLEAR_WORKSPACE_STATE",e.CLEAR_ERROR="fme/CLEAR_ERROR",e.RESET_TO_DRAWING="fme/RESET_TO_DRAWING",e.COMPLETE_STARTUP="fme/COMPLETE_STARTUP",e.REMOVE_WIDGET_STATE="fme/REMOVE_WIDGET_STATE",e.SET_LOADING_FLAG="fme/SET_LOADING_FLAG",e.APPLY_WORKSPACE_DATA="fme/APPLY_WORKSPACE_DATA"}(d||(d={}));Object.freeze([d.SET_VIEW_MODE,d.RESET_STATE,d.SET_GEOMETRY,d.SET_DRAWING_TOOL,d.COMPLETE_DRAWING,d.SET_ORDER_RESULT,d.SET_WORKSPACE_ITEMS,d.SET_WORKSPACE_PARAMETERS,d.SET_SELECTED_WORKSPACE,d.SET_WORKSPACE_ITEM,d.SET_ERROR,d.SET_ERRORS,d.CLEAR_WORKSPACE_STATE,d.CLEAR_ERROR,d.RESET_TO_DRAWING,d.COMPLETE_STARTUP,d.REMOVE_WIDGET_STATE,d.SET_LOADING_FLAG,d.APPLY_WORKSPACE_DATA]),Object.freeze({title:"",listMode:"hide",elevationInfo:{mode:"on-the-ground"}});const h="#0079C1",p=(Object.freeze(["FILENAME","FILENAME_MUSTEXIST","DIRNAME","DIRNAME_MUSTEXIST","DIRNAME_SRC","LOOKUP_FILE","REPROJECTION_FILE"]),Object.freeze({BASE_PATH:"/fmerest/v3",MAX_URL_LENGTH:4e3,WEBHOOK_EXCLUDE_KEYS:[],WEBHOOK_LOG_WHITELIST:Object.freeze(["opt_responseformat","opt_showresult","opt_servicemode"])})),f=Object.freeze({VALIDATION:{DEFAULT_TTL_VALUE:"",DEFAULT_TTC_VALUE:""},LIMITS:{MAX_M2_CAP:1e10,MAX_REQUEST_TIMEOUT_MS:6e5},DIRECTIVES:{DESCRIPTION_MAX:512,TAG_MAX:128},COLORS:{BACKGROUND_DARK:"#181818"},TEXT:{LARGE_AREA_MESSAGE_MAX:160}}),v=(n.STARTUP_VALIDATION,n.STARTUP_VALIDATION,n.EXPORT_FORM,n.WORKSPACE_SELECTION,n.WORKSPACE_SELECTION,n.INITIAL,n.EXPORT_OPTIONS,n.INITIAL,n.ORDER_RESULT,n.INITIAL,n.DRAWING,n.INITIAL,n.INITIAL,n.INITIAL,Object.freeze(["esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/geometry/geometryEngine","esri/geometry/geometryEngineAsync","esri/geometry/support/webMercatorUtils","esri/geometry/projection","esri/geometry/SpatialReference","esri/geometry/support/normalizeUtils","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic"]),Object.freeze({DEFAULT_CHUNK_SIZE:10,MIN_CHUNK_SIZE:1,MAX_CHUNK_SIZE:25}),Object.freeze({CANCELLED_PROMISE:"CancelledPromiseError",ABORT:"AbortError"}),/^[^\s@]{1,64}@[^\s@]{1,253}\.[^\s@]{2,63}$/),m=/no-?reply/i,g=(Object.freeze(["localhost",".localhost",".local",".internal",".intranet",".home",".lan",".localdomain"]),Object.freeze([{start:[10,0,0,0],end:[10,255,255,255]},{start:[100,64,0,0],end:[100,127,255,255]},{start:[127,0,0,0],end:[127,255,255,255]},{start:[169,254,0,0],end:[169,254,255,255]},{start:[172,16,0,0],end:[172,31,255,255]},{start:[192,168,0,0],end:[192,168,255,255]},{start:[0,0,0,0],end:[0,255,255,255]}]),Object.freeze(["start","name","category","description","trigger"])),y=Object.freeze(["tm_ttc","tm_ttl","tm_tag"]),b=Object.freeze(["tm_ttc","tm_ttl"]),E=Object.freeze(["opt_servicemode","opt_responseformat","opt_showresult","opt_requesteremail"]),O=Object.freeze([...p.WEBHOOK_EXCLUDE_KEYS,...y]),R=new Set([...y,...g,...E]),T=(Object.freeze(["sync","async","schedule"]),Object.freeze({M2_PER_KM2:1e6,AREA_DECIMALS:2,METERS_PER_KILOMETER:1e3,SQUARE_FEET_PER_SQUARE_MILE:27878400})),S=(Object.freeze([{factor:.3048,label:"ft\xb2",keywords:["foot","feet"],largeUnit:{threshold:T.SQUARE_FEET_PER_SQUARE_MILE,factor:T.SQUARE_FEET_PER_SQUARE_MILE,label:"mi\xb2"}},{factor:.3048006096,label:"ft\xb2",keywords:[]},{factor:1609.344,label:"mi\xb2",keywords:["mile"]},{factor:T.METERS_PER_KILOMETER,label:"km\xb2",keywords:["kilometer"]},{factor:.9144,label:"yd\xb2",keywords:["yard"]},{factor:.0254,label:"in\xb2",keywords:["inch"]},{factor:.01,label:"cm\xb2",keywords:["centimeter"]},{factor:.001,label:"mm\xb2",keywords:["millimeter"]},{factor:1852,label:"nm\xb2",keywords:["nautical"]},{factor:1,label:"m\xb2",keywords:["meter"]}]),Object.freeze({GEOMETRY_SERIALIZATION_FAILED:"polygon",MAP_MODULES_LOAD_FAILED:"map",FORM_INVALID:"warning"}),Object.freeze([{token:"GEOMETRY",icon:"polygon"},{token:"AREA",icon:"polygon"},{token:"MAP",icon:"map"},{token:"MODULE",icon:"map"},{token:"FORM",icon:"warning"},{token:"TOKEN",icon:"person-lock"},{token:"AUTH",icon:"person-lock"},{token:"REPOSITORY",icon:"folder"},{token:"REPO",icon:"folder"},{token:"DATA",icon:"data"},{token:"NETWORK",icon:"shared-no"},{token:"OFFLINE",icon:"shared-no"},{token:"CONNECTION",icon:"shared-no"},{token:"REQUEST",icon:"shared-no"},{token:"SERVER",icon:"feature-service"},{token:"GATEWAY",icon:"feature-service"},{token:"URL",icon:"link-tilted"},{token:"TIMEOUT",icon:"time"},{token:"CONFIG",icon:"setting"},{token:"EMAIL",icon:"email"}]),10),w="/fmerest",k=(Object.freeze({WGS84:4326,WEB_MERCATOR:3857}),Object.freeze({UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,BAD_REQUEST:400,TIMEOUT:408,GATEWAY_TIMEOUT:504,TOO_MANY_REQUESTS:429,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,NETWORK_ERROR:0,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599}),{ARCGIS_MODULE_ERROR:"errorNetworkIssue",NETWORK_ERROR:"errorNetworkIssue",INVALID_RESPONSE_FORMAT:"errorTokenIssue",WEBHOOK_AUTH_ERROR:"errorTokenIssue",WEBHOOK_BAD_RESPONSE:"errorServerIssue",WEBHOOK_NON_JSON:"errorServerIssue",WEBHOOK_TIMEOUT:"requestTimedOut",SERVER_URL_ERROR:"connectionFailedMessage",REPOSITORIES_ERROR:"errorServerIssue",REPOSITORY_ITEMS_ERROR:"errorServerIssue",WORKSPACE_ITEM_ERROR:"errorServerIssue",JOB_SUBMISSION_ERROR:"errorJobSubmission",DATA_DOWNLOAD_ERROR:"errorServerIssue",INVALID_CONFIG:"errorSetupRequired",GEOMETRY_MISSING:"geometryMissingCode",GEOMETRY_TYPE_INVALID:"geometryTypeInvalidCode",GEOMETRY_SERIALIZATION_FAILED:"geometrySerializationFailedCode",URL_TOO_LONG:"urlTooLongMessage"}),A={0:"errorNetworkIssue",401:"errorTokenIssue",403:"errorTokenIssue",404:"connectionFailedMessage",408:"requestTimedOut",429:"rateLimitExceeded",431:"headersTooLargeMessage"},I=Object.freeze([{pattern:/failed to fetch/i,key:"errorNetworkIssue"},{pattern:/timeout/i,key:"requestTimedOut"},{pattern:/cors/i,key:"corsBlocked"},{pattern:/url.*too/i,key:"urlTooLongMessage"},{pattern:/remote_dataset_workspace_required/i,key:"REMOTE_DATASET_WORKSPACE_REQUIRED"}]),_={require_https:"require_https",no_query_or_hash:"invalid_url",disallow_fmerest_for_webhook:"disallow_fmerest_for_webhook",invalid_url:"invalid_url"},C=(Object.freeze(["fmeServerUrl","fmeServerToken","repository"]),Object.freeze(["status","statusCode","httpStatus"])),x="_",j=(Object.freeze(new Set(["MAXX","MINX","MAXY","MINY","AreaOfInterest","AREA","ExtentGeoJson","tm_ttc","tm_ttl","tm_tag"])),Object.freeze(new Set([c.NOVALUE])),Object.freeze(new Set([c.DB_CONNECTION,c.WEB_CONNECTION,c.ATTRIBUTE_NAME,c.ATTRIBUTE_LIST,c.COORDSYS,c.REPROJECTION_FILE])),Object.freeze(new Set([c.LISTBOX,c.LOOKUP_LISTBOX,c.ATTRIBUTE_LIST])),Object.freeze({[c.FLOAT]:o.NUMERIC_INPUT,[c.INTEGER]:o.NUMBER,[c.TEXT_EDIT]:o.TEXTAREA,[c.PASSWORD]:o.PASSWORD,[c.BOOLEAN]:o.SWITCH,[c.CHECKBOX]:o.SWITCH,[c.CHOICE]:o.RADIO,[c.FILENAME]:o.FILE,[c.FILENAME_MUSTEXIST]:o.FILE,[c.DIRNAME]:o.FILE,[c.DIRNAME_MUSTEXIST]:o.FILE,[c.DIRNAME_SRC]:o.FILE,[c.DATE_TIME]:o.DATE_TIME,[c.DATETIME]:o.DATE_TIME,[c.URL]:o.URL,[c.LOOKUP_URL]:o.URL,[c.LOOKUP_FILE]:o.FILE,[c.DATE]:o.DATE,[c.TIME]:o.TIME,[c.MONTH]:o.MONTH,[c.WEEK]:o.WEEK,[c.COLOR]:o.COLOR,[c.COLOR_PICK]:o.COLOR,[c.RANGE_SLIDER]:o.SLIDER,[c.MESSAGE]:o.MESSAGE,[c.TEXT_OR_FILE]:o.TEXT_OR_FILE,[c.REPROJECTION_FILE]:o.REPROJECTION_FILE,[c.COORDSYS]:o.COORDSYS,[c.ATTRIBUTE_NAME]:o.ATTRIBUTE_NAME,[c.ATTRIBUTE_LIST]:o.ATTRIBUTE_LIST,[c.DB_CONNECTION]:o.DB_CONNECTION,[c.WEB_CONNECTION]:o.WEB_CONNECTION,[c.SCRIPTED]:o.SCRIPTED}),Object.freeze(["esriRequest","esriConfig","projection","webMercatorUtils","SpatialReference"]));class M extends Error{constructor(e,t,r,n,s=i.ERROR){super(e),this.name="FmeFlowApiError",this.code=t,this.httpStatus=r,this.status=r,this.retryable=Boolean(n),this.isRetryable=this.retryable,this.severity=s}}var L=r(3128)}},t={};function u(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,u),s.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var d={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(d),u.d(d,{__set_webpack_public_path__:()=>Fe,default:()=>Ue});var e=u(9244),t=u(7665),r=u(4880),n=u(9757),s=u(6261),o=u(6500),i=class extends o.Q{constructor(e={}){super(),this.config=e,this.#H=new Map}#H;build(e,t,s){const o=t.queryKey,i=t.queryHash??(0,r.F$)(o,t);let a=this.get(i);return a||(a=new n.X({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.#H.has(e.queryHash)||(this.#H.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#H.get(e.queryHash);t&&(e.destroy(),t===e&&this.#H.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){s.jG.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#H.get(e)}getAll(){return[...this.#H.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,r.MK)(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>(0,r.MK)(e,t))):t}notify(e){s.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){s.jG.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){s.jG.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},a=u(6158),l=class extends o.Q{constructor(e={}){super(),this.config=e,this.#z=new Set,this.#K=new Map,this.#G=0}#z;#K;#G;build(e,t,r){const n=new a.s({client:e,mutationCache:this,mutationId:++this.#G,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#z.add(e);const t=c(e);if("string"==typeof t){const r=this.#K.get(t);r?r.push(e):this.#K.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#z.delete(e)){const t=c(e);if("string"==typeof t){const r=this.#K.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#K.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=c(e);if("string"==typeof t){const r=this.#K.get(t),n=r?.find((e=>"pending"===e.state.status));return!n||n===e}return!0}runNext(e){const t=c(e);if("string"==typeof t){const r=this.#K.get(t)?.find((t=>t!==e&&t.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){s.jG.batch((()=>{this.#z.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#z.clear(),this.#K.clear()}))}getAll(){return Array.from(this.#z)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,r.nJ)(t,e)))}findAll(e={}){return this.getAll().filter((t=>(0,r.nJ)(e,t)))}notify(e){s.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return s.jG.batch((()=>Promise.all(e.map((e=>e.continue().catch(r.lQ))))))}};function c(e){return e.options.scope?.id}var h=u(9658),p=u(6035);function f(e){return{onFetch:(t,n)=>{const s=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let n=!1;const u=(0,r.ZM)(t.options,t.fetchOptions),d=async(e,s,o)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:s,direction:o?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)}),e})(),a=await u(i),{maxPages:l}=t.options,c=o?r.ZZ:r.y9;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,s,l)}};if(o&&i.length){const e="backward"===o,t={pages:i,pageParams:a},r=(e?m:v)(s,t);l=await d(t,r,e)}else{const t=e??i.length;do{const e=0===c?a[0]??s.initialPageParam:v(s,l);if(c>0&&null==e)break;l=await d(l,e),c++}while(c<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function v(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function m(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}const g=new class{#Q;#x;#W;#V;#$;#X;#J;#Y;constructor(e={}){this.#Q=e.queryCache||new i,this.#x=e.mutationCache||new l,this.#W=e.defaultOptions||{},this.#V=new Map,this.#$=new Map,this.#X=0}mount(){this.#X++,1===this.#X&&(this.#J=h.m.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#Q.onFocus())})),this.#Y=p.t.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#Q.onOnline())})))}unmount(){this.#X--,0===this.#X&&(this.#J?.(),this.#J=void 0,this.#Y?.(),this.#Y=void 0)}isFetching(e){return this.#Q.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#x.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#Q.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#Q.build(this,t),s=n.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime((0,r.d2)(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#Q.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),o=this.#Q.get(s.queryHash),i=o?.state.data,a=(0,r.Zw)(t,i);if(void 0!==a)return this.#Q.build(this,s).setData(a,{...n,manual:!0})}setQueriesData(e,t,r){return s.jG.batch((()=>this.#Q.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#Q.get(t.queryHash)?.state}removeQueries(e){const t=this.#Q;s.jG.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=this.#Q;return s.jG.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const n={revert:!0,...t},o=s.jG.batch((()=>this.#Q.findAll(e).map((e=>e.cancel(n)))));return Promise.all(o).then(r.lQ).catch(r.lQ)}invalidateQueries(e,t={}){return s.jG.batch((()=>(this.#Q.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},o=s.jG.batch((()=>this.#Q.findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(r.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(o).then(r.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#Q.build(this,t);return n.isStaleByTime((0,r.d2)(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(r.lQ).catch(r.lQ)}fetchInfiniteQuery(e){return e.behavior=f(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(r.lQ).catch(r.lQ)}ensureInfiniteQueryData(e){return e.behavior=f(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.t.isOnline()?this.#x.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#Q}getMutationCache(){return this.#x}getDefaultOptions(){return this.#W}setDefaultOptions(e){this.#W=e}setQueryDefaults(e,t){this.#V.set((0,r.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#V.values()],n={};return t.forEach((t=>{(0,r.Cp)(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#$.set((0,r.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#$.values()],n={};return t.forEach((t=>{(0,r.Cp)(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#W.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,r.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===r.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#W.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#Q.clear(),this.#x.clear()}}({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,t)=>{var r;const n=(null==t?void 0:t.status)||(null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.status);return 401!==n&&403!==n&&(!(n&&n>=400&&n<500)&&e<3)},refetchOnWindowFocus:!1,refetchOnReconnect:!1}}});var y=u(3271),b=u(2242),E=u(1468),O=u(9298),R=u(4321),T=u(4337),S=(u(5938),u(9778));const w={back:"Tillbaka",submit:"Best\xe4ll",cancel:"Avbryt",actionRetry:"F\xf6rs\xf6k igen",validatingStartup:"Verifierar inst\xe4llningar\u2026",orderConfirmation:"Best\xe4llningen \xe4r bekr\xe4ftad",orderComplete:"Exporten \xe4r klar",orderSentError:"Best\xe4llningen misslyckades",orderCancelled:"Best\xe4llningen avbr\xf6ts",orderCancelledTitle:"Best\xe4llning avbruten",orderCancelledMessage:"Best\xe4llningen avbr\xf6ts innan den slutf\xf6rdes.",orderCancelledTimeoutMessage:"Best\xe4llningen avbr\xf6ts p\xe5 grund av tidsgr\xe4ns. Arbetsytan tog f\xf6r l\xe5ng tid att k\xf6ra.",jobId:"Jobb-ID",workspace:"Arbetsyta",notificationEmail:"E\u2011post",downloadFilename:"Filnamn",deliveryMode:"Leveranss\xe4tt",deliveryModeSync:"Direkt nedladdning",deliveryModeAsync:"E\u2011postmeddelande",deliveryModeSchedule:"Schemalagt jobb",flowStatus:"FME-status",flowMessage:"FME-meddelande",jobCancelled:"Jobbet avbr\xf6ts",jobCancelledTimeout:"Jobbet avbr\xf6ts p\xe5 grund av tidsgr\xe4ns",jobFailed:"Jobbet misslyckades",contactSupportEmail:"Kontakta supporten via {email}.",emailNotificationSent:"E\u2011postmeddelande skickas n\xe4r jobbet \xe4r klart.",clickToDownload:"Ladda ner",reuseGeography:"Ny best\xe4llning",actionNewOrder:"Skapa ny best\xe4llning",actionEnd:"Avsluta",errorCode:"Felkod",orderResultMissing:"Inget tillg\xe4ngligt",submittingOrder:"Skickar best\xe4llning\u2026",submittingOrderSync:"Bearbetar export\u2026",submittingOrderSyncDetail:"Detta kan ta n\xe5gra minuter\u2026",submissionPhasePreparing:"F\xf6rbereder\u2026",submissionPhasePreparingDetail:"Validerar parametrar\u2026",submissionPhaseUploading:"Laddar upp\u2026",submissionPhaseUploadingDetail:"\xd6verf\xf6r filer\u2026",submissionPhaseFinalizing:"Slutf\xf6r\u2026",submissionPhaseFinalizingDetail:"Konfigurerar jobb\u2026",submissionPhaseSubmitting:"Skickar best\xe4llning\u2026",submissionPhaseSubmittingDetail:"Bearbetar best\xe4llning\u2026",submissionPhaseProcessing:"Bearbetar\u2026",submissionPhaseProcessingDetail:"Transformerar data\u2026",submissionPhaseDownloading:"H\xe4mtar\u2026",submissionPhaseDownloadingDetail:"F\xf6rbereder nedladdning\u2026",statusPreparingMapTools:"Initierar kartverktyg\u2026",statusPreparingMapToolsDetail:"Laddar ritfunktioner\u2026",loadingWorkspaces:"L\xe4ser arbetsytor\u2026",loadingWorkspacesDetail:"H\xe4mtar fr\xe5n repository\u2026",loadingWorkspaceDetails:"L\xe4ser arbetsytedata\u2026",loadingWorkspaceDetailsDetail:"H\xe4mtar parametrar\u2026",loadingGeometryValidation:"Validerar omr\xe5de\u2026",loadingGeometryValidationDetail:"Kontrollerar geometri\u2026",pleaseWait:"V\xe4nligen v\xe4nta\u2026",forcedAsyncDefault:"Exporten k\xf6rs asynkront f\xf6r att s\xe4kerst\xe4lla stabil prestanda.",forcedAsyncRuntime:"Exporten k\xf6rs asynkront eftersom arbetsytan uppskattas ta {seconds} s (gr\xe4ns {threshold} s).",forcedAsyncTransformers:"Exporten k\xf6rs asynkront eftersom arbetsytan anv\xe4nder {count} transformatorer (gr\xe4ns {threshold}).",forcedAsyncFileSize:"Exporten k\xf6rs asynkront eftersom resultatet uppskattas till {sizeMb} MB (gr\xe4ns {thresholdMb} MB).",forcedAsyncArea:"Exporten k\xf6rs asynkront eftersom omr\xe5det \xe4r {area} (gr\xe4ns {threshold}).",processingInProgress:"Bearbetning p\xe5g\xe5r\u2026",drawingModeTooltip:"V\xe4lj ritl\xe4ge f\xf6r att definiera omr\xe5det",drawingModePolygon:"Polygon",drawingModeRectangle:"Rektangel",drawingModePolygonTooltip:"Rita en polygon f\xf6r att definiera omr\xe5det",drawingModeRectangleTooltip:"Rita en rektangel f\xf6r att definiera omr\xe5det",tooltipBackToOptions:"\xc5terg\xe5 till exportalternativ",tooltipSubmitOrder:"Skicka best\xe4llningen f\xf6r bearbetning",tooltipCancel:"Avbryt nuvarande \xe5tg\xe4rd och b\xf6rja om",tooltipReuseGeography:"Skapa ny best\xe4llning med samma geografi",tooltipNewOrder:"Starta en ny best\xe4llning med samma geografi",fmeFlowTransformationFailed:"FME Flow-transformationen misslyckades. Kontrollera loggfilen ovan f\xf6r detaljer.",failedToLoadWorkspaces:"Det gick inte att ladda arbetsytor",failedToLoadWorkspaceDetails:"Det gick inte att ladda information om arbetsytan",errorUnknown:"Ett ok\xe4nt fel intr\xe4ffade",largeAreaWarning:"Det angivna omr\xe5det ({current}) \xe4r stort och kan g\xf6ra att exporten tar l\xe4ngre tid \xe4n vanligt.",largeAreaWarningWithThreshold:"Det angivna omr\xe5det {current} \xe4r stort och kan g\xf6ra att exporten tar l\xe4ngre tid \xe4n vanligt. Rekommenderad yta \xe4r under {threshold}.",noWorkspacesFound:"Inga arbetsytor hittades i detta repository",requiredField:"Detta f\xe4lt \xe4r obligatoriskt.",formValidationSingleError:"V\xe4nligen fyll i det obligatoriska f\xe4ltet.",formValidationMultipleErrors:"V\xe4nligen fyll i alla obligatoriska f\xe4lt.",missingExportConfiguration:"Saknar exportkonfiguration",placeholderSelect:"{field}\u2026",placeholderEnter:"{field}\u2026",placeholderTags:"Ange taggar separerade med kommatecken",placeholderEmail:"Ange e\u2011postadress",placeholderPhone:"Ange telefonnummer",placeholderSearch:"S\xf6k\u2026",geometryFieldMissing:"Ingen geometri vald. Rita ett omr\xe5de i kartan.",geometryFieldReady:"Geometri f\xe5ngad ({rings} ringar, {vertices} h\xf6rn).",geometryFieldParseError:"Fel: Kunde inte tolka geometri-JSON.",geometryFieldPreviewLabel:"F\xf6rhandsgranskning (Esri JSON)",placeholderSelectGeneric:"V\xe4lj ett alternativ",ariaButtonLabel:"Knapp",ariaLoadingDetails:"Laddningsdetaljer",ariaErrorActions:"Fel\xe5tg\xe4rder",ariaEmptyActions:"Tomt l\xe4ge \xe5tg\xe4rder",ariaSuccessActions:"Lyckade \xe5tg\xe4rder",ariaRequired:"Obligatoriskt",configureWorkspaceParameters:"Konfigurera arbetsytans parametrar",scheduleStartLabel:"Starttid",scheduleStartHelper:"Format: \xc5\xc5\xc5\xc5-MM-DD TT:MM:SS (FME Servers lokala tid)",scheduleStartPlaceholder:"2025-01-15 14:30:00",scheduleNameLabel:"Jobbnamn",scheduleNameHelper:"Namn f\xf6r det schemalagda jobbet (max 128 tecken)",scheduleNamePlaceholder:"Dataexport Sverige Q1",scheduleCategoryLabel:"Kategori",scheduleCategoryHelper:"Organisera jobbet i en kategori",scheduleCategoryPlaceholder:"Dataexport",scheduleDescriptionLabel:"Beskrivning (valfritt)",scheduleDescriptionPlaceholder:"Beskrivning av det schemalagda jobbet",scheduleInfoTitle:"Schema: K\xf6r en g\xe5ng (Runonce)",scheduleTimezoneHelper:"Starttiden m\xe5ste anges i FME Servers lokala tidszon, inte din lokala tid.",scheduleConfirmTitle:"Bekr\xe4fta schemalagt jobb",scheduleConfirmMessage:"Vill du schemal\xe4gga det h\xe4r jobbet?",scheduleSummaryTitle:"Schemainformation",scheduleJobName:"Jobbnamn",scheduleJobCategory:"Kategori",scheduleStartTime:"Starttid",scheduleJobDescription:"Beskrivning",scheduleTrigger:"Utl\xf6sare",blobType:"Filtyp",blobSize:"Filstorlek",SCHEDULE_START_REQUIRED:"Starttid kr\xe4vs f\xf6r schemalagda jobb",SCHEDULE_START_INVALID_FORMAT:"Ogiltigt datumformat. Anv\xe4nd: \xc5\xc5\xc5\xc5-MM-DD TT:MM:SS",SCHEDULE_START_INVALID_DATE:"Ogiltigt datum eller tid",SCHEDULE_START_PARSE_ERROR:"Kunde inte tolka starttiden",SCHEDULE_START_IN_PAST:"Starttiden ligger i det f\xf6rflutna",SCHEDULE_NAME_REQUIRED:"Jobbnamn kr\xe4vs",SCHEDULE_NAME_TOO_LONG:"Jobbnamnet \xe4r f\xf6r l\xe5ngt (max 128 tecken)",SCHEDULE_NAME_INVALID_CHARS:"Jobbnamnet inneh\xe5ller ogiltiga tecken",SCHEDULE_CATEGORY_REQUIRED:"Kategori kr\xe4vs",SCHEDULE_CATEGORY_TOO_LONG:"Kategorin \xe4r f\xf6r l\xe5ng (max 128 tecken)",REMOTE_DATASET_WORKSPACE_REQUIRED:"V\xe4lj en arbetsyta innan du laddar upp dataset.",remoteDatasetUploadLabel:"Ladda upp dataset (TEMP)",remoteDatasetUploadHelper:"V\xe4lj fil som anv\xe4nds som indata f\xf6r jobbet.",remoteDatasetUrlLabel:"Fj\xe4rr\u2011dataset URL (HTTPS)",remoteDatasetUrlHelper:"Ange HTTPS\u2011URL som anv\xe4nds som indata f\xf6r jobbet.",addRow:"L\xe4gg till rad",deleteRow:"Ta bort",tableEmpty:"Inga rader tillagda",tableColumnDefault:"V\xe4rde",tableActionsHeader:"\xc5tg\xe4rder",tableMoveUp:"Flytta upp",tableMoveDown:"Flytta ned",textInput:"Textinmatning",fileInput:"Filuppladdning",fileTooLarge:"Filen \xe4r f\xf6r stor. Maximal storlek \xe4r {maxSize} MB.",fileTypeNotAllowed:"Filtypen \xe4r inte till\xe5ten. Till\xe5tna format: .zip, .kmz, .json, .geojson, .gml",fileInvalid:"Ogiltig fil vald.",fileInputHint:"Accepterar: .zip, .kmz, .json, .geojson, .gml (max 150 MB)",invalidDateTimeFormat:"Ogiltigt format. Anv\xe4nd YYYY-MM-DD HH:mm:ss",errorLoadingTimeout:"Inl\xe4sningen tog f\xf6r l\xe5ng tid. F\xf6rs\xf6k igen.",integerRequired:"Heltal kr\xe4vs (decimaler ej till\xe5tna)",invalidNumber:"Ogiltigt nummer",mustBeGreaterThan:"M\xe5ste vara st\xf6rre \xe4n {value}",mustBeAtLeast:"M\xe5ste vara minst {value}",mustBeLessThan:"M\xe5ste vara mindre \xe4n {value}",mustBeAtMost:"M\xe5ste vara h\xf6gst {value}"};var k=u(3890),A=u(9124),I=u.n(A),_=u(884),C=u.n(_),x=u(6278),j=u.n(x),M=u(5668),L=u.n(M),P=u(4712),N=u.n(P),D=u(3744),U=u.n(D),F=u(7711),q=u.n(F),W=u(2606),B=u.n(W),H=u(657),z=u.n(H),K=u(5502),G=u.n(K),Q=u(3624),V=u.n(Q),$=u(1337),X=u.n($),J=u(7413),Y=u.n(J),Z=u(71),ee=u.n(Z),te=u(1920),re=u.n(te),ne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};const se=S.$W,oe={error:j(),map:B(),polygon:G(),warning:re(),"person-lock":z(),folder:N(),data:I(),"shared-no":X(),"feature-service":L(),"link-tilted":q(),time:ee(),setting:V(),email:C(),info:U(),success:Y()},ie={warning:"warning",error:"error",info:"info",success:"success"},ae=()=>(0,S.MN)(),le=b.j_,ce=(e,t)=>[...e,(0,y.RM)(t)].filter(Boolean),ue=(e,t)=>ce([e.fullWidth],t),de=e=>{const{id:t,required:r,errorText:n,errorSuffix:s}=e||{};return{"aria-required":!!r,"aria-invalid":!!n,"aria-describedby":n&&t?(0,y.LH)(t,s):void 0}},he=(t,r)=>{const{tooltip:n,placement:s,block:o,jimuCss:i,jimuStyle:a,styles:l}=r;if(!n)return t;const c=[i,(0,y.RM)(a),o?l.tooltipWrap.block:l.tooltipWrap.inline];return(0,e.jsx)("span",{css:c},(0,e.jsx)(me,{content:n,placement:s},(0,e.jsx)("span",{css:l.tooltipWrap.anchor},t)))},pe=e=>"auto"===e?se.tooltip.position.top:e,fe=({loading:t,children:r,text:n,icon:s,alignText:o})=>{const i=ae();if(t)return(0,e.jsx)(R.Loading,{type:R.LoadingType.Donut});if(r)return(0,e.jsx)(e.React.Fragment,null,r);const a="string"==typeof s&&s.length>0||null!=s&&e.React.isValidElement(s),l=!!n;if(!a&&!l)return null;if(a&&!l)return"string"==typeof s?(0,e.jsx)(ve,{src:s,size:se.icon.large}):s;if(l&&!a)return(0,e.jsx)(e.React.Fragment,null,n);const c="string"==typeof s?(0,e.jsx)(ve,{src:s,size:se.icon.medium}):s,u=(0,e.jsx)("span",{css:i.btn.icon,"aria-hidden":"true"},c);return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{css:i.btn.text(o)},n),u)},ve=t=>{var r,{src:n,size:s=se.icon.medium,className:o,style:i,role:a="img","aria-label":l,"aria-hidden":c}=t,u=ne(t,["src","size","className","style","role","aria-label","aria-hidden"]);const d=null!==(r=oe[n])&&void 0!==r?r:n,h=null!=c?c:!l;return(0,e.jsx)(R.SVG,Object.assign({},u,{src:d,size:s,className:o,role:a,"aria-label":l,"aria-hidden":h,css:ce([],i)}))},me=t=>{var{content:r,children:n,showArrow:s=se.tooltip.showArrow,placement:o=se.tooltip.position.top,disabled:i=!1}=t,a=ne(t,["content","children","showArrow","placement","disabled"]);const l=r;if(!e.React.isValidElement(n)||!l||i)return(0,e.jsx)(e.React.Fragment,null,n);const c=((t,r)=>{const n=(null==t?void 0:t.props)||{};if(!n.disabled&&!n["aria-disabled"])return t;const s="string"==typeof r?r:void 0;return(0,e.jsx)("span",{"aria-disabled":"true","aria-label":s},t)})(n,l),u=pe(o);return(0,e.jsx)(R.Tooltip,Object.assign({title:l,showArrow:s,placement:u},a),c)},ge=t=>{var{value:r,defaultValue:n,required:s=!1,maxLength:o,errorText:i,type:a="text",step:l,onChange:c,onBlur:u,onFileChange:d}=t,h=ne(t,["value","defaultValue","required","maxLength","errorText","type","step","onChange","onBlur","onFileChange"]);const p=ae(),f="file"===a,[v,m]=le(r,n||""),[g,y]=f?[void 0,void 0]:[v,m],b=e.hooks.useEventCallback((e=>{const t=e.target.value;f||y(t),f&&d?d(e):c&&c(t)})),E=e.hooks.useEventCallback((e=>{u&&u(f?"":e.target.value)})),O=de({id:h.id,required:s,errorText:i});return f?(0,e.jsx)("input",Object.assign({},h,{type:"file",onChange:b,onBlur:E,required:s,title:i},O,{css:ue(p,h.style)})):(0,e.jsx)(R.TextInput,Object.assign({},h,{type:a,value:g,step:l,onChange:b,onBlur:E,required:s,maxLength:o,title:i},O,{css:ue(p,h.style)}))},ye=t=>{var{style:r,onChange:n}=t,s=ne(t,["style","onChange"]);const o=ae();return(0,e.jsx)(R.NumericInput,Object.assign({},s,{onChange:e=>{"number"!=typeof e||Number.isNaN(e)?(null==e||Number.isNaN(e))&&(null==n||n(void 0)):null==n||n(e)},css:ue(o,r)}))},be=({value:t,defaultValue:r,onChange:n,style:s,"aria-label":o})=>{const i=ae();return(0,e.jsx)(T.ColorPicker,{color:t||r||"#000000",onChange:e=>{null==n||n(e)},"aria-label":o,css:ue(i,s),showArrow:!0})},Ee=({options:t=[],value:r,defaultValue:n,onChange:s,placeholder:o,disabled:i=!1,style:a,coerce:l})=>{const c=e.hooks.useTranslation(w),u=ae(),[d,h]=le(r,n),p=o||c("placeholderSelectGeneric"),f=e.hooks.useEventCallback((e=>{if("number"===l&&"string"==typeof e){const t=Number(e);return Number.isFinite(t)?t:e}return e})),v=e.hooks.useEventCallback(((e,t)=>{var r;const n=void 0!==t?t:null===(r=null==e?void 0:e.target)||void 0===r?void 0:r.value,o=f(n);h(o),null==s||s(o)})),m=null==d||"string"!=typeof d&&"number"!=typeof d?void 0:String(d);return(0,e.jsx)(R.Select,{value:m,onChange:v,disabled:i,placeholder:p,zIndex:se.zIndex.selectMenu,css:ue(u,a)},(t||[]).map((t=>t&&null!=t.value?(0,e.jsx)(R.Option,{key:String(t.value),value:t.value,active:String(t.value)===m,disabled:Boolean(t.disabled),onClick:()=>{t.disabled||String(t.value)===m||v(void 0,t.value)}},!t.hideLabel&&(t.label||String(t.value))):null)).filter(Boolean))},Oe=t=>{var r,{text:n,icon:s,alignText:o="start",tooltip:i,type:a,tooltipDisabled:l=!1,tooltipPlacement:c=se.button.defaults.tooltipPosition,loading:u=!1,onClick:d,children:h,block:p=se.button.defaults.block,size:f,variant:v="contained",color:m,htmlType:g="button"}=t,b=ne(t,["text","icon","alignText","tooltip","type","tooltipDisabled","tooltipPlacement","loading","onClick","children","block","size","variant","color","htmlType"]);const E=ae(),O=e.hooks.useTranslation(w),T=e.hooks.useEventCallback((()=>{b.disabled||u||!d||d()})),S=b["aria-label"],k=(0,y.kz)(n,!!s,S,i,O("ariaButtonLabel")),A=b,{style:I,css:_}=A,C=ne(A,["style","css"]),x=!!i&&!l,j=(0,e.jsx)(R.Button,Object.assign({},C,{type:a,color:m,variant:v,size:f,htmlType:g,icon:!n&&!!s,onClick:T,disabled:b.disabled||u,"aria-busy":u,"aria-live":u?"polite":void 0,"aria-label":k,title:i?void 0:b.title,css:[E.relative,!x&&_,!x&&(0,y.RM)(I)],block:p,tabIndex:null!==(r=b.tabIndex)&&void 0!==r?r:0}),(0,e.jsx)(fe,{loading:u,text:n,icon:s,alignText:o},h));return x?he(j,{tooltip:i,placement:c,block:p,jimuCss:_,jimuStyle:I,styles:E}):j},Re=t=>{var{className:r,style:n,text:s,children:o,type:i="warning",withIcon:a,variant:l="default",jimuVariant:c,tooltipPlacement:u=se.tooltip.position.top}=t,d=ne(t,["className","style","text","children","type","withIcon","variant","jimuVariant","tooltipPlacement"]);const h=ae(),p=ie[i],f=null!=o?o:null!=s?(0,e.jsx)("span",null,s):null,v="icon"!==l||p?l:"default",m=d,{css:g}=m,y=ne(m,["css"]);if("icon"===v){const t="string"==typeof s?s:"string"==typeof o?o:f,a=Boolean(t),l="string"==typeof s?s:"string"==typeof o?o:void 0,d=(0,e.jsx)(R.Alert,Object.assign({},y,{type:i,withIcon:!1,variant:c,className:r,css:ce([h.alert,a?void 0:g],n)}),p?(0,e.jsx)("div",{css:h.alertIcon},(0,e.jsx)(ve,{src:p,"aria-label":l})):null);return a?he(d,{tooltip:t,placement:pe(u),block:!0,jimuCss:g,jimuStyle:n,styles:h}):d}return null!=f||p?(0,e.jsx)(R.Alert,Object.assign({},y,{type:i,withIcon:!1,variant:c,className:r,css:ce([h.alert,g],n)}),(0,e.jsx)("div",{css:h.alertContent},p?(0,e.jsx)("div",{css:h.alertIcon},(0,e.jsx)(ve,{src:p,size:se.icon.small})):null,f?(0,e.jsx)("div",{css:h.alertMessage},f):null)):(0,e.jsx)(R.Alert,Object.assign({},y,{type:i,withIcon:!1,variant:c,className:r,css:ce([h.alert,g],n)}))},Te={fmeServerUrl:"FME\u2011server\u2011URL",fmeServerToken:"API\u2011nyckel",fmeRepository:"Repository",missingServerUrl:"Ange FME\u2011server\u2011URL.",missingToken:"Ange API\u2011nyckeln.",tokenWithWhitespace:"API\u2011nyckeln f\xe5r inte inneh\xe5lla blanksteg.",missingRepository:"V\xe4lj ett repository.",invalidRepository:"Det valda repositoryt finns inte i listan.",invalid_url:"Ogiltig URL.",require_https:"Endast HTTPS\u2011adresser st\xf6ds.",disallow_fmerest_for_webhook:"Ange bas\u2011URL utan /fmerest n\xe4r du konfigurerar webhooks.",scheduleInvalid:"Kontrollera schemal\xe4ggningens starttid, namn och kategori.",errorTokenIssue:"API\u2011nyckeln saknas eller \xe4r ogiltig.",testConnection:"K\xf6r anslutningstest",testing:"Testar anslutning\u2026",testingConnection:"Testar\u2026",loadingRepositories:"L\xe4ser repositories\u2026",validatingServerUrl:"Validerar server-URL\u2026",validatingToken:"Kontrollerar API-nyckel\u2026",refreshRepositories:"Uppdatera listan",fmeVersion:"FME\u2011version",connectionOk:"Anslutningen lyckades.",connectionOkRepositoryWarning:"Anslutningen lyckades men repositoryt kunde inte verifieras. Kontrollera beh\xf6righeter.",connectionFailed:"Anslutningen misslyckades:",availableRepositories:"Tillg\xe4ngliga repositories",mapConfiguration:"Kartinst\xe4llningar",serverUrlPlaceholder:"https://fme.server.com",tokenPlaceholder:"Din API\u2011nyckel",repoPlaceholder:"V\xe4lj ett repository",noRepositoriesFound:"Inga repositories hittades",testConnectionFirst:"Testa anslutningen f\xf6rst",invalidEmail:"Ogiltig e\u2011postadress.",errorRepositories:"Kunde inte l\xe4sa repositories.",errorInvalidServerUrl:"Ogiltig URL.",errorTokenIsInvalid:"Ogiltig API\u2011nyckel.",errorRepositoryNotFound:"Det valda repositoryt finns inte i listan.",repositoryNotAccessible:"Repositoryt kunde inte verifieras med den h\xe4r API-nyckeln. Kontrollera beh\xf6righeter.",fixErrorsAbove:"\xc5tg\xe4rda felen ovan.",requiredField:"Obligatoriskt f\xe4lt",ariaRequired:"Obligatoriskt f\xe4lt",supportEmail:"Support\u2011e\u2011postadress",supportEmailPlaceholder:"support@exempel.se",tm_ttcLabel:"Max k\xf6rtid (s)",tm_ttlLabel:"Max k\xf6tid (s)",tm_ttcPlaceholder:"L\xe4mna tomt (standard)",tm_ttlPlaceholder:"L\xe4mna tomt (standard)",serviceModeLabel:"Leveransl\xe4ge",serviceModeAsync:"E-postmeddelande (async)",serviceModeSync:"Direkt nerladdning (sync)",serviceModeHelper:"V\xe4lj hur resultatet ska levereras: via e-post eller direkt i webbl\xe4saren.",maskEmailOnSuccess:"Maskera e\u2011postadress",maskEmailOnSuccessHelper:"D\xf6ljer st\xf6rre delen av e\u2011postadressen i lyckade svar.",showResultLabel:"Visa resultat i svaret",showResultHelper:"Styr FME\u2011parametern opt_showresult. Av: svaren inneh\xe5ller endast jobbinformation.",supportEmailHelper:"Om en adress anges visas den i felmeddelanden som supportkontakt.",requestTimeoutLabel:"Tidsgr\xe4ns f\xf6r beg\xe4ran (ms)",requestTimeoutPlaceholder:"30000",requestTimeoutHelper:"Maximal v\xe4ntetid p\xe5 serversvar i millisekunder. Standard: 30 sekunder.",maxAreaLabel:"Max AOI\u2011yta (m\xb2)",maxAreaHelper:"L\xe4mna tomt f\xf6r obegr\xe4nsad yta. H\xf6gsta till\xe5tna v\xe4rde: {maxM2} m\xb2.",maxAreaPlaceholder:"t.ex. 100000000",errorMaxAreaTooLarge:"V\xe4rdet \xe4r f\xf6r stort.",largeAreaLabel:"Rekommenderad AOI\u2011yta (m\xb2)",largeAreaHelper:"Visa varning n\xe4r ritad yta \xf6verstiger detta v\xe4rde. H\xf6gsta v\xe4rde: {maxM2} m\xb2.",largeAreaPlaceholder:"t.ex. 50000",largeAreaExceedsMaxInfo:"Varningsgr\xe4nsen {largeM2} m\xb2 b\xf6r vara l\xe4gre \xe4n maxgr\xe4nsen {maxM2} m\xb2.",ok:"OK",failed:"Misslyckades",skipped:"V\xe4lj repository",checking:"Kontrollerar\u2026",error:"Fel",colon:":",aoiParamNameLabel:"AOI\u2011parameternamn",aoiParamNamePlaceholder:"AreaOfInterest",aoiParamNameHelper:"Publicerat parameternamn f\xf6r omr\xe5det. Standard: AreaOfInterest.",allowScheduleModeLabel:"Till\xe5t schemal\xe4ggning",allowScheduleModeHelper:"Till\xe5t schemalagd eng\xe5ngsk\xf6rning.",allowRemoteDatasetLabel:"Till\xe5t filuppladdning (TEMP)",allowRemoteDatasetHelper:"Till\xe5t anv\xe4ndaren att ladda upp fil direkt till FME Flows TEMP\u2011resurs.",allowRemoteUrlDatasetLabel:"Till\xe5t fj\xe4rr\u2011URL (HTTPS)",allowRemoteUrlDatasetHelper:"Till\xe5t anv\xe4ndaren att ange s\xe4ker (HTTPS) URL som indata. Kr\xe4ver filuppladdning.",autoCloseOtherWidgetsLabel:"St\xe4ng andra widgets automatiskt",autoCloseOtherWidgetsHelper:"St\xe4ng andra widgets n\xe4r FME\u2011exporten \xf6ppnas f\xf6r att h\xe5lla kartan ren.",drawingColorLabel:"Ritningsf\xe4rg",tm_ttcHelper:"Maximal k\xf6rtid innan jobbet avbryts. G\xe4ller endast i synkront l\xe4ge. L\xe4mna tomt f\xf6r serverns standard.",tm_ttlHelper:"Maximal k\xf6tid innan jobbet tas bort eller markeras som misslyckat. L\xe4mna tomt f\xf6r serverns standard.",uploadTargetParamNameLabel:"Upload\u2011m\xe5lparameter",uploadTargetParamNameHelper:"FME\u2011parameter som tar emot uppladdad fils m\xe5ls\xf6kv\xe4g. Kr\xe4vs om filuppladdning \xe4r till\xe5ten.",uploadTargetParamNamePlaceholder:"t.ex. DEST_DATASET",uploadTargetParamNameRequired:"Ange parameter f\xf6r uppladdad fil.",requireHttpsLabel:"Kr\xe4v HTTPS",requireHttpsHelper:"P\xe5: Till\xe5t endast HTTPS f\xf6r FME\u2011server\u2011URL. Av: Till\xe5t b\xe5de HTTP och HTTPS."};var Se=u(8424),we=u(4965),ke=u.n(we),Ae=function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const Ie=S.rd,_e=()=>({status:"idle",isTesting:!1,message:void 0,type:"info"}),Ce=()=>({serverUrl:"idle",token:"idle",repository:"idle",version:""}),xe=({testState:t,checkSteps:r,disabled:n,onTestConnection:s,translate:o,styles:i,validationPhase:a})=>{const l=e=>"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,"completed"),c=e.hooks.useEventCallback((e=>{switch(e){case"ok":return i.status.color.ok;case"fail":return i.status.color.fail;case"skip":return i.status.color.skip;case"pending":case"idle":return i.status.color.pending;default:return l(e)?e.completed?i.status.color.ok:i.status.color.fail:i.status.color.pending}})),u=e.hooks.useEventCallback((e=>"string"==typeof e?o("ok"===e?"ok":"fail"===e?"failed":"skip"===e?"skipped":"checking"):l(e)&&e.completed?o("ok"):l(e)&&e.error?o("failed"):o("checking")));return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2},(0,e.jsx)(Oe,{disabled:n,alignText:"center",type:"primary",text:t.isTesting?o("testing"):o("testConnection"),onClick:s})),(t.isTesting||t.message)&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2},(()=>{const n=[{label:o("fmeServerUrl"),status:r.serverUrl},{label:o("fmeServerToken"),status:r.token},{label:o("fmeRepository"),status:r.repository}].filter((e=>"idle"!==e.status)),s=({label:t,status:r})=>{const n=c(r);return(0,e.jsx)("div",{css:(0,e.css)(i.status.row)},(0,e.jsx)("div",{css:(0,e.css)(i.status.labelGroup)},(0,e.jsx)(e.React.Fragment,null,t,(0,e.jsx)("span",{"aria-hidden":"true"},o("colon")))),(0,e.jsx)("div",{css:(0,e.css)(n)},u(r)))},l="string"==typeof r.version?r.version:"",d=l.length>0,h="checking"===a?"testingConnection":"fetchingRepos"===a?"loadingRepositories":null;return(0,e.jsx)("div",{css:(0,e.css)(i.status.container),role:"status","aria-live":"polite","aria-atomic":!0,"aria-busy":!(!t.isTesting&&"fetchingRepos"!==a)||void 0},(t.isTesting||"fetchingRepos"===a)&&(0,e.jsx)(R.Loading,{type:R.LoadingType.Bar,text:o("fetchingRepos"===a?"loadingRepositories":"testingConnection")}),(0,e.jsx)("div",{css:(0,e.css)(i.status.list)},h&&(0,e.jsx)("div",{css:(0,e.css)(i.status.row)},(0,e.jsx)("div",null,o(h))),n.map((t=>(0,e.jsx)(s,{key:t.label,label:t.label,status:t.status}))),d&&(0,e.jsx)("div",{css:(0,e.css)(i.status.row)},(0,e.jsx)("div",{css:(0,e.css)(i.status.labelGroup)},o("fmeVersion"),(0,e.jsx)("span",{"aria-hidden":"true"},o("colon"))),(0,e.jsx)("div",null,l))))})()))},je=({localServerUrl:t,localToken:r,localRepository:n,availableRepos:s,label:o,fieldErrors:i,validateServerUrl:a,validateToken:l,onRepositoryChange:c,onRefreshRepositories:u,translate:d,styles:h,ID:p,repoHint:f,isBusy:v})=>{const m=a(t,{requireHttps:!0}),g=l(r),b=!!t&&m.ok,E=g.ok,R=b&&E&&!v,T=e.hooks.useEventCallback((()=>{if(!b||!E)return[];if(null===s)return[];const e=Array.isArray(s)?(0,y.Zs)(s):[],t=(0,y.Nn)(n);return(0,y.is)([...t?[t]:[],...e]).map((e=>({label:e,value:e})))})),S=!b||!E||null===s||v,w=b&&E?null===s?d("loadingRepositories"):Array.isArray(s)&&0===s.length?d("noRepositoriesFound"):d("repoPlaceholder"):d("testConnectionFirst");return(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)("div",{css:h.labelWithButton},(0,e.jsx)("span",{css:h.labelText},o),R&&(0,e.jsx)(Oe,{size:"sm",block:!1,onClick:u,type:"tertiary",title:d("refreshRepositories"),icon:(0,e.jsx)(ve,{src:ke(),size:14})})),level:2,tag:"label"},Array.isArray(s)&&0===s.length?(0,e.jsx)(ge,{id:p.repository,value:n,onChange:e=>{c(e)},placeholder:d("repoPlaceholder"),"aria-describedby":i.repository?`${p.repository}-error`:void 0,"aria-invalid":!!i.repository||void 0}):(0,e.jsx)(Ee,{options:T(),value:n||void 0,onChange:e=>{const t="string"==typeof e||"number"==typeof e?String(e):"";c(t)},disabled:S,"aria-describedby":i.repository?`${p.repository}-error`:void 0,"aria-invalid":!!i.repository||void 0,placeholder:w}),i.repository&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2},(0,e.jsx)(Re,{id:`${p.repository}-error`,fullWidth:!0,css:(0,e.css)(h.alertInline),text:i.repository,type:"error",closable:!1})),f&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2},(0,e.jsx)(Re,{fullWidth:!0,css:(0,e.css)(h.alertInline),text:f,type:"warning",closable:!1})))},Me=({id:t,label:r,value:n,onChange:s,onBlur:o,placeholder:i,type:a="text",required:l=!1,errorText:c,maxLength:u,disabled:d,isPending:h=!1,styles:p})=>(0,e.jsx)(O.SettingRow,{flow:"wrap",label:r,level:2,tag:"label"},(0,e.jsx)(ge,{id:t,type:a,required:l,value:n,onChange:s,onBlur:o,placeholder:i,errorText:c,maxLength:u,disabled:d,"aria-invalid":!!c||void 0,"aria-describedby":c?`${t}-error`:void 0,"aria-busy":!!h||void 0}),h&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(p.row),role:"status","aria-live":"polite","aria-atomic":!0},(0,e.jsx)("div",{css:(0,e.css)(p.fieldStatus)},(0,e.jsx)(R.Loading,{type:R.LoadingType.Secondary,width:16,height:16,"aria-hidden":!0}))),c&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(p.row)},(0,e.jsx)(Re,{id:`${t}-error`,fullWidth:!0,css:(0,e.css)(p.alertInline),text:c,type:"error",closable:!1}))),Le=e=>{const t=(null!=e?e:"").trim();if(""!==t)return(0,y.Lz)(t)},Pe=({localTmTtc:t,localTmTtl:r,onTmTtcChange:n,onTmTtlChange:s,onTmTtcBlur:o,onTmTtlBlur:i,fieldErrors:a,translate:l,styles:c,ID:u,showTmTtc:d=!0})=>(0,e.jsx)(e.React.Fragment,null,d&&(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)(me,{content:l("tm_ttcHelper"),placement:"top"},(0,e.jsx)("span",null,l("tm_ttcLabel"))),level:2,tag:"label"},(0,e.jsx)(ye,{id:u.tm_ttc,value:Le(t),min:0,step:1,precision:0,placeholder:l("tm_ttcPlaceholder"),"aria-invalid":!!a.tm_ttc||void 0,"aria-describedby":a.tm_ttc?`${u.tm_ttc}-error`:void 0,onChange:e=>{n(void 0===e?"":String(e))},onBlur:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&void 0!==r?r:"";o(n)}}),a.tm_ttc&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(c.row)},(0,e.jsx)(Re,{id:`${u.tm_ttc}-error`,fullWidth:!0,css:(0,e.css)(c.alertInline),text:a.tm_ttc,type:"error",closable:!1}))),(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)(me,{content:l("tm_ttlHelper"),placement:"top"},(0,e.jsx)("span",null,l("tm_ttlLabel"))),level:2,tag:"label"},(0,e.jsx)(ye,{id:u.tm_ttl,value:Le(r),min:0,step:1,precision:0,placeholder:l("tm_ttlPlaceholder"),"aria-invalid":!!a.tm_ttl||void 0,"aria-describedby":a.tm_ttl?`${u.tm_ttl}-error`:void 0,onChange:e=>{s(void 0===e?"":String(e))},onBlur:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&void 0!==r?r:"";i(n)}}),a.tm_ttl&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(c.row)},(0,e.jsx)(Re,{id:`${u.tm_ttl}-error`,fullWidth:!0,css:(0,e.css)(c.alertInline),text:a.tm_ttl,type:"error",closable:!1})))),Ne=(e,t)=>{const{setCheckSteps:r,setFieldErrors:n,translate:s,version:o}=t;return"server"===e||"network"===e?(r((e=>Object.assign(Object.assign({},e),{serverUrl:"fail",token:"idle",repository:"idle",version:""}))),(0,y.Nh)(n,"serverUrl",s("errorInvalidServerUrl")),void(0,y.x8)(n,["token","repository"])):"token"===e?(r((e=>Object.assign(Object.assign({},e),{serverUrl:"ok",token:"fail",repository:"idle",version:""}))),(0,y.Nh)(n,"token",s("errorTokenIsInvalid")),void(0,y.x8)(n,["serverUrl","repository"])):(r((e=>Object.assign(Object.assign({},e),{serverUrl:"ok",token:"ok",repository:"fail",version:o||""}))),(0,y.Nh)(n,"repository",s("errorRepositoryNotFound")),void(0,y.x8)(n,["serverUrl","token"]))};function De(t){const{onSettingChange:r,useMapWidgetIds:n,id:s,config:o}=t,i=e.hooks.useTranslation(Te),a=ae(),l=(0,S.EC)(),c=(0,E.wA)(),u=e.React.useRef(null);null!==u.current&&u.current.widgetId===s||(u.current={widgetId:s,selectors:(0,Se.createFmeSelectors)(s)});const d=u.current.selectors,h=(0,b.q5)(d.selectIsBusy),p=(0,b.M1)(o),f=(0,b.Xc)(o),v=(0,b.Id)(o),m=(0,b.Hg)(s,o,r),g={supportEmail:"setting-support-email",serverUrl:"setting-server-url",token:"setting-token",repository:"setting-repository",syncMode:"setting-sync-mode",maskEmailOnSuccess:"setting-mask-email-on-success",showResult:"setting-show-result",requestTimeout:"setting-request-timeout",largeArea:"setting-large-area",maxArea:"setting-max-area",tm_ttc:"setting-tm-ttc",tm_ttl:"setting-tm-ttl",aoiParamName:"setting-aoi-param-name",uploadTargetParamName:"setting-upload-target-param-name",requireHttps:"setting-require-https",allowScheduleMode:"setting-allow-schedule-mode",allowRemoteDataset:"setting-allow-remote-dataset",allowRemoteUrlDataset:"setting-allow-remote-url-dataset",autoCloseOtherWidgets:"setting-auto-close-other-widgets",drawingColor:"setting-drawing-color"},[T,w]=e.React.useState((()=>_e())),[A,I]=e.React.useState((()=>Ce())),[_,C]=e.React.useState("idle"),[x,j]=e.React.useState({}),[M,L]=e.React.useState((()=>p("fmeServerUrl")||"")),[P,N]=e.React.useState((()=>p("fmeServerToken")||"")),[D,U]=e.React.useState((()=>f("requireHttps"))),F=p("repository")||"",q=p("fmeServerUrl")||"",W=p("fmeServerToken")||"",B=e.hooks.usePrevious(q),H=e.hooks.usePrevious(W),z=(0,y.Nn)(M),K=(0,y.Nn)(P),G=(0,k.dC)(M,{requireHttps:D}),Q=(0,k.k9)(P),V=G.ok&&z&&(0,k.qT)(z)||void 0,[$,X]=e.React.useState((()=>p("supportEmail"))),[J,Y]=e.React.useState((()=>f("syncMode"))),[Z,ee]=e.React.useState((()=>f("maskEmailOnSuccess"))),[te,re]=e.React.useState((()=>f("showResult",!0))),[ne,oe]=e.React.useState((()=>f("autoCloseOtherWidgets",!0))),[ie,le]=e.React.useState((()=>{const e=v("requestTimeout");return void 0!==e?String(e):""})),[ce,ue]=e.React.useState((()=>{const e=v("maxArea");return void 0!==e&&e>0?String(e):""})),[de,he]=e.React.useState((()=>{const e=v("largeArea");return void 0!==e&&e>0?String(e):""})),[pe,fe]=e.React.useState((()=>{const e=v("tm_ttc");return void 0!==e?String(e):Ie.VALIDATION.DEFAULT_TTC_VALUE})),[ve,ge]=e.React.useState((()=>{const e=v("tm_ttl");return void 0!==e?String(e):Ie.VALIDATION.DEFAULT_TTL_VALUE})),[Oe,we]=e.React.useState((()=>p("aoiParamName")||"AreaOfInterest")),[ke,De]=e.React.useState((()=>p("uploadTargetParamName")||"")),[Ue,Fe]=e.React.useState((()=>f("allowScheduleMode"))),[qe,We]=e.React.useState((()=>f("allowRemoteDataset"))),[Be,He]=e.React.useState((()=>f("allowRemoteUrlDataset"))),ze=!J,Ke=!J,Ge=J,Qe=Array.isArray(n)&&n.length>0,Ve=Boolean(z&&K),$e=Qe&&Ve,Xe=!!(0,y.Nn)(F),Je=Qe&&Ve&&Xe,Ye=qe,Ze=e.hooks.useEventCallback((e=>{j((e=>Object.assign(Object.assign({},e),{largeArea:void 0}))),he(void 0!==e?String(e):"")})),et=e.hooks.useEventCallback((e=>{const t=(null!=e?e:"").trim(),r=(0,y.Lz)(t);if(void 0===r||0===r)return m("largeArea",void 0),he(""),void j((e=>Object.assign(Object.assign({},e),{largeArea:void 0})));r>Ie.LIMITS.MAX_M2_CAP?j((e=>Object.assign(Object.assign({},e),{largeArea:i("errorMaxAreaTooLarge",{maxM2:Ie.LIMITS.MAX_M2_CAP})}))):(m("largeArea",r),he(String(r)),j((e=>Object.assign(Object.assign({},e),{largeArea:void 0}))))})),tt=e.hooks.useEventCallback((e=>{const t=(null!=e?e:"").trim(),r=(0,y.Lz)(t);if(void 0===r||0===r)return m("maxArea",void 0),ue(""),void j((e=>Object.assign(Object.assign({},e),{maxArea:void 0})));r>Ie.LIMITS.MAX_M2_CAP?j((e=>Object.assign(Object.assign({},e),{maxArea:i("errorMaxAreaTooLarge",{maxM2:Ie.LIMITS.MAX_M2_CAP})}))):(m("maxArea",r),ue(String(r)),j((e=>Object.assign(Object.assign({},e),{maxArea:void 0}))))}));e.hooks.useEffectWithPreviousValues((()=>{!Ke&&Ue&&(Fe(!1),m("allowScheduleMode",!1)),!ze&&Z&&(ee(!1),m("maskEmailOnSuccess",!1)),qe||(Be&&(He(!1),m("allowRemoteUrlDataset",!1)),ke&&(De(""),m("uploadTargetParamName",void 0),j((e=>Object.assign(Object.assign({},e),{uploadTargetParamName:void 0})))))}),[Ke,ze,Z,Ue,qe,Be,ke,m]),e.hooks.useEffectWithPreviousValues((()=>{!Ge&&(0,y.Nn)(pe)&&(fe(""),m("tm_ttc",void 0),j((e=>Object.assign(Object.assign({},e),{tm_ttc:void 0}))))}),[Ge,pe,m,j]);const[rt,nt]=e.React.useState((()=>p("drawingColor")||S.Ve)),st=Boolean(V&&Q.ok),ot=(0,b.uG)(V,K,{enabled:st}),it=(0,b.uT)(),[at,lt]=e.React.useState(null),ct=(0,b.bQ)(),ut=e.hooks.useLatest(i),[dt,ht]=e.React.useState(!1),[pt,ft]=e.React.useState(!1),vt=e.hooks.useEventCallback((e=>{const t=(0,y.Nn)(e);if(!t)return void(0,y.Nh)(j,"serverUrl",void 0);const r=(0,k.dC)(t,{requireHttps:D});let n;if(r.ok)n=void 0;else{let e;"reason"in r?e=(0,k.$N)(r.reason):"key"in r&&"string"==typeof r.key&&(e=r.key),n=e?ut.current(e):void 0}(0,y.Nh)(j,"serverUrl",n)})),mt=e.hooks.useEventCallback((e=>{const t=(0,y.Nn)(e);if(!t)return void(0,y.Nh)(j,"token",void 0);const r=(0,k.k9)(t),n=!r.ok&&r.key?ut.current(r.key):void 0;(0,y.Nh)(j,"token",n)})),gt=(0,b.d7)(vt,800,{onPendingChange:e=>{ht(e)}}),yt=(0,b.d7)(mt,800,{onPendingChange:e=>{ft(e)}}),bt=e.React.useRef(null),Et=e.hooks.usePrevious(ot.data);ot.data!==Et&&(bt.current=ot.data?ot.data.map((e=>e.name)):null);const Ot=bt.current;e.hooks.useEffectWithPreviousValues((()=>{ot.isError&&!(0,y.zf)(ot.error)?lt(i("errorRepositories")):ot.isSuccess&&lt(null)}),[ot.isError,ot.isSuccess,ot.error,i]);const Rt=e.hooks.useEventCallback((()=>{j((e=>Object.assign(Object.assign({},e),{repository:void 0}))),C("idle"),lt(null)})),Tt=e.hooks.useEventCallback((()=>{ct.cancel(),C("idle"),w((e=>"idle"!==e.status||e.isTesting||void 0!==e.message||"info"!==e.type?_e():e)),I((e=>"idle"===e.serverUrl&&"idle"===e.token&&"idle"===e.repository&&""===(e.version||"")?e:Ce()))}));e.hooks.useUnmount((()=>{ct.cancel(),gt.cancel(),yt.cancel()}));const St=({text:t})=>(0,e.jsx)(e.React.Fragment,null,t,(0,e.jsx)(me,{content:i("requiredField"),placement:"top"},(0,e.jsx)("span",{css:a.typo.required,"aria-label":i("ariaRequired"),role:"img","aria-hidden":!1},se.required))),wt=e.hooks.useEventCallback(((e=!1)=>{const t=(0,k.il)({url:M,token:P,repository:F,availableRepos:e?null:Ot}),r={};t.ok||(t.errors.serverUrl&&(r.serverUrl=i(t.errors.serverUrl)),t.errors.token&&(r.token=i(t.errors.token)),!e&&t.errors.repository&&(r.repository=i(t.errors.repository)));const n=(null!=$?$:"").trim();if(n){(0,y.B9)(n)||(r.supportEmail=i("invalidEmail"))}if(qe){(0,y.E)(ke,"")||(r.uploadTargetParamName=i("uploadTargetParamNameRequired"))}return j((e=>Object.assign(Object.assign({},e),{serverUrl:r.serverUrl,token:r.token,repository:r.repository,supportEmail:r.supportEmail,uploadTargetParamName:r.uploadTargetParamName}))),{messages:r,hasErrors:!!(r.serverUrl||r.token||!e&&r.repository||!e&&r.supportEmail||r.uploadTargetParamName)}})),kt=e.hooks.useEventCallback((()=>{const e=M,t=P,r=F,n=(0,k.qT)(e||"");n!==e&&m("fmeServerUrl",n);return n&&t?{serverUrl:n,token:t,repository:r}:null})),At=G.ok&&Q.ok,It=!!T.isTesting||!At||h,_t=e.hooks.useEventCallback(((e,t,r)=>{C("complete"),I({serverUrl:e.steps.serverUrl,token:e.steps.token,repository:e.steps.repository,version:e.version||""}),m("fmeServerUrl",t.serverUrl),m("fmeServerToken",t.token),(0,y.x8)(j,["serverUrl","token","repository"]);const n=(Array.isArray(e.warnings)?e.warnings:[]).includes("repositoryNotAccessible");w(r?e=>Object.assign(Object.assign({},e),{isTesting:!1}):{status:"success",isTesting:!1,message:i(n?"connectionOkRepositoryWarning":"connectionOk"),type:n?"warning":"success"})})),Ct=e.hooks.useEventCallback(((e,t)=>{C("complete");const r=e.error,n=(null==r?void 0:r.type)||"server";Ne(n,{setCheckSteps:I,setFieldErrors:j,translate:i,version:e.version}),w(t?e=>Object.assign(Object.assign({},e),{isTesting:!1}):{status:"error",isTesting:!1,message:(null==r?void 0:r.message)||i("connectionFailed"),type:"error"})})),xt=e.hooks.useEventCallback(((e,t)=>{if("AbortError"===(null==e?void 0:e.name))return;C("complete");const r=(0,k.Ko)(e),n=r&&0!==r?"server":"network";if(Ne(n,{setCheckSteps:I,setFieldErrors:j,translate:i,version:""}),!t){const t=e instanceof Error?0:(0,k.Ko)(e),r=(0,k.Pi)(e,t);w({status:"error",isTesting:!1,message:i("network"===n?"errorInvalidServerUrl":r),type:"error"})}})),jt=e.hooks.useEventCallback(((...e)=>Ae(this,[...e],void 0,(function*(e=!1){ct.cancel();const{hasErrors:t}=wt(!0),r=kt();if(t||!r)return C("idle"),void(e||w({status:"error",isTesting:!1,message:i("fixErrorsAbove"),type:"error"}));C("checking");const n=ct.abortAndCreate();w({status:"running",isTesting:!0,message:e?null:i("testingConnection"),type:"info"}),I({serverUrl:"pending",token:"pending",repository:r.repository?"pending":"skip",version:""});try{e||w((e=>Object.assign(Object.assign({},e),{message:i("testingConnection")})));const t=yield it.mutateAsync({serverUrl:r.serverUrl,token:r.token,repository:r.repository});t.success?_t(t,r,e):Ct(t,e)}catch(t){xt(t,e)}finally{n.signal.aborted&&C("idle"),ct.finalize(n)}})))),Mt=e.hooks.useEventCallback((()=>Ae(this,void 0,void 0,(function*(){if(st&&ot.refetch)try{yield ot.refetch()}catch(e){(0,y.zf)(e)||console.warn("Repository refresh failed:",e)}}))));e.hooks.useUpdateEffect((()=>{void 0===B&&void 0===H||B===q&&H===W||Rt()}),[q,W,B,H,Rt]);const Lt=e.hooks.useEventCallback((e=>{L(e),Tt(),Rt(),(0,y.x8)(j,["serverUrl"]);(0,y.Nn)(e)?gt(e):gt.cancel()})),Pt=e.hooks.useEventCallback((e=>{N(e),Tt(),Rt(),(0,y.x8)(j,["token"]);(0,y.Nn)(e)?yt(e):yt.cancel()})),Nt=e.hooks.useEventCallback((e=>{gt.cancel();const t=(0,k.qT)(e),r=t!==q;t!==M&&L(t),r&&m("fmeServerUrl",t),vt(t),r&&Rt()})),Dt=e.hooks.useEventCallback((e=>{yt.cancel(),mt(e),e!==W&&(m("fmeServerToken",e),Rt())}));e.hooks.useUpdateEffect((()=>{if(F)if(Array.isArray(Ot)&&Ot.length&&F){const e=Ot.includes(F)?void 0:i("errorRepositoryNotFound");(0,y.Nh)(j,"repository",e)}else Array.isArray(Ot)&&0===Ot.length&&F&&(0,y.x8)(j,["repository"])}),[Ot,F,i]);const Ut=e.hooks.useEventCallback((e=>{const t=F;m("repository",e),t!==e&&c(Se.fmeActions.clearWorkspaceState(s)),(0,y.x8)(j,["repository"])})),Ft=e.hooks.useEventCallback(((e,t,r)=>n=>{const s=("number"==typeof n?String(n):null!=n?n:"").trim(),o=(0,y.Lz)(s);if(void 0===o||0===o)m(e,void 0),t("");else{const n=r?Math.min(o,r):o;m(e,n),t(String(n))}}))("requestTimeout",le,Ie.LIMITS.MAX_REQUEST_TIMEOUT_MS);return(0,e.jsx)(O.SettingSection,null,(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,label:(0,e.jsx)(St,{text:i("mapConfiguration")})},(0,e.jsx)(O.MapWidgetSelector,{useMapWidgetIds:n,onSelect:e=>{r({id:s,useMapWidgetIds:e})}})),Qe&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(Me,{id:g.serverUrl,label:(0,e.jsx)(St,{text:i("fmeServerUrl")}),value:M,onChange:Lt,onBlur:Nt,placeholder:i("serverUrlPlaceholder"),required:!0,errorText:x.serverUrl,isPending:dt,styles:l}),(0,e.jsx)(Me,{id:g.token,label:(0,e.jsx)(St,{text:i("fmeServerToken")}),value:P,onChange:Pt,onBlur:Dt,placeholder:i("tokenPlaceholder"),type:"password",required:!0,errorText:x.token,isPending:pt,styles:l}),(0,e.jsx)(xe,{testState:T,checkSteps:A,disabled:It,onTestConnection:()=>jt(!1),translate:i,styles:l,validationPhase:_}),$e&&(0,e.jsx)(je,{localServerUrl:M,localToken:P,localRepository:F,availableRepos:Ot,label:(0,e.jsx)(St,{text:i("availableRepositories")}),fieldErrors:x,validateServerUrl:k.dC,validateToken:k.k9,onRepositoryChange:Ut,onRefreshRepositories:Mt,translate:i,styles:l,ID:g,repoHint:at,isBusy:h})),Je&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)(me,{content:i("serviceModeHelper"),placement:"top"},(0,e.jsx)("span",null,i("serviceModeLabel"))),level:2},(0,e.jsx)(Ee,{value:J?"sync":"async",onChange:e=>{const t="sync"===e;Y(t),m("syncMode",t)},options:[{label:i("serviceModeAsync"),value:"async"},{label:i("serviceModeSync"),value:"sync"}],"aria-label":i("serviceModeLabel")})),Ke&&(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("allowScheduleModeHelper"),placement:"top"},(0,e.jsx)("span",null,i("allowScheduleModeLabel"))),level:2},(0,e.jsx)(R.Switch,{id:g.allowScheduleMode,checked:Ue,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!Ue;Fe(n),m("allowScheduleMode",n)},"aria-label":i("allowScheduleModeLabel")})),(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("allowRemoteDatasetHelper"),placement:"top"},(0,e.jsx)("span",null,i("allowRemoteDatasetLabel"))),level:2},(0,e.jsx)(R.Switch,{id:g.allowRemoteDataset,checked:qe,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!qe;We(n),m("allowRemoteDataset",n)},"aria-label":i("allowRemoteDatasetLabel")})),Ye&&(0,e.jsx)(Me,{id:g.uploadTargetParamName,label:(0,e.jsx)(me,{content:i("uploadTargetParamNameHelper"),placement:"top"},(0,e.jsx)("span",null,i("uploadTargetParamNameLabel"))),value:ke,onChange:e=>{De(e)},onBlur:e=>{const t=(0,y.E)(e,"");De(t),m("uploadTargetParamName",t),j((e=>Object.assign(Object.assign({},e),{uploadTargetParamName:void 0})))},placeholder:i("uploadTargetParamNamePlaceholder"),errorText:x.uploadTargetParamName,styles:l}),Ye&&(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("allowRemoteUrlDatasetHelper"),placement:"top"},(0,e.jsx)("span",null,i("allowRemoteUrlDatasetLabel"))),level:2},(0,e.jsx)(R.Switch,{id:g.allowRemoteUrlDataset,checked:Be,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!Be;He(n),m("allowRemoteUrlDataset",n)},"aria-label":i("allowRemoteUrlDatasetLabel")})),(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)(me,{content:i("maxAreaHelper",{maxM2:Ie.LIMITS.MAX_M2_CAP}),placement:"top"},(0,e.jsx)("span",null,i("maxAreaLabel"))),level:2,tag:"label"},(0,e.jsx)(ye,{id:g.maxArea,value:Le(ce),min:0,step:1e4,precision:0,placeholder:i("maxAreaPlaceholder"),"aria-invalid":!!x.maxArea||void 0,"aria-describedby":x.maxArea?`${g.maxArea}-error`:void 0,onChange:e=>{ue(void 0===e?"":String(e)),j((e=>Object.assign(Object.assign({},e),{maxArea:void 0})))},onBlur:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&void 0!==r?r:"";tt(n)}}),x.maxArea&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(l.row)},(0,e.jsx)(Re,{id:`${g.maxArea}-error`,fullWidth:!0,css:(0,e.css)(l.alertInline),text:x.maxArea,type:"error",closable:!1}))),(0,e.jsx)(Pe,{localTmTtc:pe,localTmTtl:ve,onTmTtcChange:e=>{fe(e)},onTmTtlChange:e=>{ge(e)},onTmTtcBlur:e=>{const t=(null!=e?e:"").trim();if(""===t)return m("tm_ttc",void 0),void fe("");const r=(0,y.Lz)(t);if(void 0===r)return m("tm_ttc",void 0),void fe("");m("tm_ttc",r),fe(String(r))},onTmTtlBlur:e=>{const t=(null!=e?e:"").trim();if(""===t)return m("tm_ttl",void 0),void ge("");const r=(0,y.Lz)(t);if(void 0===r)return m("tm_ttl",void 0),void ge("");m("tm_ttl",r),ge(String(r))},fieldErrors:x,translate:i,styles:l,ID:g,showTmTtc:Ge}),(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)(me,{content:i("requestTimeoutHelper"),placement:"top"},(0,e.jsx)("span",null,i("requestTimeoutLabel"))),level:2,tag:"label"},(0,e.jsx)(ye,{id:g.requestTimeout,value:Le(ie),min:0,step:1e4,precision:0,placeholder:i("requestTimeoutPlaceholder"),"aria-label":i("requestTimeoutLabel"),onChange:e=>{le(void 0===e?"":String(e))},onBlur:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&void 0!==r?r:"";Ft(n)}})),(0,e.jsx)(Me,{id:g.aoiParamName,label:(0,e.jsx)(me,{content:i("aoiParamNameHelper"),placement:"top"},(0,e.jsx)("span",null,i("aoiParamNameLabel"))),value:Oe,onChange:e=>{we(e)},onBlur:e=>{const t=e.trim()||"AreaOfInterest";m("aoiParamName",t),we(t)},placeholder:i("aoiParamNamePlaceholder"),styles:l}),(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("requireHttpsHelper"),placement:"top"},(0,e.jsx)("span",null,i("requireHttpsLabel"))),level:2},(0,e.jsx)(R.Switch,{id:g.requireHttps,checked:D,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!D;U(n),m("requireHttps",n)},"aria-label":i("requireHttpsLabel")})),ze&&(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("maskEmailOnSuccessHelper"),placement:"top"},(0,e.jsx)("span",null,i("maskEmailOnSuccess"))),level:2},(0,e.jsx)(R.Switch,{id:g.maskEmailOnSuccess,checked:Z,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!Z;ee(n),m("maskEmailOnSuccess",n)},"aria-label":i("maskEmailOnSuccess")})),(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("showResultHelper"),placement:"top"},(0,e.jsx)("span",null,i("showResultLabel"))),level:2},(0,e.jsx)(R.Switch,{id:g.showResult,checked:te,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!te;re(n),m("showResult",n)},"aria-label":i("showResultLabel")})),(0,e.jsx)(O.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(me,{content:i("autoCloseOtherWidgetsHelper"),placement:"top"},(0,e.jsx)("span",null,i("autoCloseOtherWidgetsLabel"))),level:2},(0,e.jsx)(R.Switch,{id:g.autoCloseOtherWidgets,checked:ne,onChange:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked)&&void 0!==r?r:!ne;oe(n),m("autoCloseOtherWidgets",n)},"aria-label":i("autoCloseOtherWidgetsLabel")})),(0,e.jsx)(Me,{id:g.supportEmail,label:(0,e.jsx)(me,{content:i("supportEmailHelper"),placement:"top"},(0,e.jsx)("span",null,i("supportEmail"))),type:"email",value:$,onChange:e=>{X(e),j((e=>Object.assign(Object.assign({},e),{supportEmail:void 0})))},onBlur:e=>{const t=(null!=e?e:"").trim();if(!t)return j((e=>Object.assign(Object.assign({},e),{supportEmail:void 0}))),m("supportEmail",void 0),void X("");const r=(0,y.B9)(t)?void 0:i("invalidEmail");j((e=>Object.assign(Object.assign({},e),{supportEmail:r}))),r||(m("supportEmail",t),X(t))},placeholder:i("supportEmailPlaceholder"),errorText:x.supportEmail,styles:l}),(0,e.jsx)(O.SettingRow,{flow:"wrap",label:(0,e.jsx)(me,{content:i("largeAreaHelper",{maxM2:Ie.LIMITS.MAX_M2_CAP}),placement:"top"},(0,e.jsx)("span",null,i("largeAreaLabel"))),level:2,tag:"label"},(0,e.jsx)(ye,{id:g.largeArea,value:Le(de),min:0,step:1e4,precision:0,placeholder:i("largeAreaPlaceholder"),"aria-invalid":!!x.largeArea||void 0,"aria-describedby":x.largeArea?`${g.largeArea}-error`:void 0,onChange:Ze,onBlur:e=>{var t,r;const n=null!==(r=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&void 0!==r?r:"";et(n)}}),x.largeArea&&(0,e.jsx)(O.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(l.row)},(0,e.jsx)(Re,{id:`${g.largeArea}-error`,fullWidth:!0,css:(0,e.css)(l.alertInline),text:x.largeArea,type:"error",closable:!1}))),(0,e.jsx)(O.SettingRow,{flow:"wrap",label:i("drawingColorLabel"),level:2,tag:"label"},(0,e.jsx)(be,{value:rt,onChange:e=>{const t=(e||"").trim(),r=/^#?[0-9a-f]{6}$/i.test(t)?t.startsWith("#")?t:`#${t}`:S.Ve;nt(r),m("drawingColor",r)},"aria-label":i("drawingColorLabel")}))))}function Ue(r){return(0,e.jsx)(t.Ht,{client:g},(0,e.jsx)(De,Object.assign({},r)))}function Fe(e){u.p=e}})(),d})())}}}));