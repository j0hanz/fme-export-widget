/*! For license information please see setting.js.LICENSE.txt */
System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui","jimu-theme","jimu-core/react","jimu-ui/basic/color-picker","jimu-arcgis"],(function(e,t){var r={},s={},o={},n={},i={},a={},l={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(l,"__esModule",{value:!0}),{setters:[function(e){r.React=e.React,r.ReactRedux=e.ReactRedux,r.WidgetState=e.WidgetState,r.css=e.css,r.hooks=e.hooks,r.jsx=e.jsx},function(e){s.MapWidgetSelector=e.MapWidgetSelector,s.SettingRow=e.SettingRow,s.SettingSection=e.SettingSection},function(e){o.Alert=e.Alert,o.Button=e.Button,o.CollapsablePanel=e.CollapsablePanel,o.Loading=e.Loading,o.LoadingType=e.LoadingType,o.NumericInput=e.NumericInput,o.Option=e.Option,o.SVG=e.SVG,o.Select=e.Select,o.Slider=e.Slider,o.Switch=e.Switch,o.TextInput=e.TextInput,o.Tooltip=e.Tooltip},function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){i[t]=e[t]}))},function(e){a.ColorPicker=e.ColorPicker},function(e){Object.keys(e).forEach((function(t){l[t]=e[t]}))}],execute:function(){e((()=>{var e={71:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.3 15.6A7.3 7.3 0 1 0 8.3 1a7.3 7.3 0 0 0 0 14.6M8.3 2A6.3 6.3 0 1 1 2 8.3 6.307 6.307 0 0 1 8.3 2m3.5 6.8h-4v-5h1v4h3z" clip-rule="evenodd"></path></svg>'},657:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m4-3a4 4 0 0 1-4 4 6.5 6.5 0 0 0-6.5 6.5h-1a7.5 7.5 0 0 1 5.286-7.168A4 4 0 1 1 12 5m1 5.5v1h-2v-1a1 1 0 1 1 2 0m-3 0v1H9v4h6v-4h-1v-1a2 2 0 1 0-4 0m0 2v2h4v-2z" clip-rule="evenodd"></path></svg>'},787:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.002 1H14A1 1 0 0 1 15 2.002v11.997A1 1 0 0 1 14 15H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1.002-1M2 14h12V2H2z" clip-rule="evenodd"></path></svg>'},884:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M14 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3.986l.001-.024L0 4a2 2 0 0 1 2-2zm1 2.934L8.277 9.416a.5.5 0 0 1-.554 0L1 4.935V12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM14 3H2a1 1 0 0 0-.97.752L8 8.398l6.97-4.646A1 1 0 0 0 14 3"></path></svg>'},930:(e,t,r)=>{"use strict";r.d(t,{$j:()=>f,Mb:()=>a,c$:()=>l,dB:()=>u,hs:()=>i,lH:()=>m,m4:()=>d,qm:()=>p,yC:()=>h});r(9244);var s=r(3417),o=r(2238),n=r(4986);r(6920);const i=e=>{const t=(0,n.Nn)(e);if(!t)return"token:none";let r=0;for(let e=0;e<t.length;e+=1)r=31*r+t.charCodeAt(e)>>>0;return`token:${r.toString(36)}`},a=(e,t,r,i)=>{const a=(0,n.Nn)(e),l=(0,n.Nn)(t);if(!a||!l)return null;const c={fmeServerUrl:a,fmeServerToken:l,repository:(0,n.Nn)(r)||s.nu,...Number.isFinite(i)?{requestTimeout:i}:{}};try{return(0,o.ER)(c)}catch{return null}},l=(e,...t)=>c(e,t),c=(e,t)=>{const r=e.replace(/\/$/,""),s=t.filter((e=>"string"==typeof e&&e.length>0)).map((e=>e.split("/").filter((e=>Boolean(e)&&"."!==e&&".."!==e)).map((e=>encodeURIComponent(e))).join("/"))).join("/");return s?`${r}/${s}`:r},u=e=>{const t=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(`^https?://${t}`,"i")},d=(e,t)=>!!Array.isArray(e)&&e.some((e=>{if(!e||"object"!=typeof e)return!1;const r=e;if(!r._fmeInterceptor)return!1;const s=r.urls;return s instanceof RegExp?s.source===t.source&&s.flags===t.flags:"string"==typeof s&&t.test(s)}));function p(e,t,r){const o=`${e}::${t||""}::${r||""}`;let n=s.QB.DJB2_INITIAL;for(let e=0;e<o.length;e++)n=(n<<5)+n^o.charCodeAt(e);return Math.abs(n>>>0).toString(36)}const h=e=>{const t=(0,n.P6)(e);if(!t)return null;try{return new URL(t)}catch{return null}},f=e=>{const t=h(e);return t&&t.hostname||null},m={fme:["fme"],workspaces:(e,t,r)=>[...m.fme,"workspaces",e||s.nu,t,i(r)],workspaceItem:(e,t,r,o)=>[...m.fme,"workspace-item",e,t||s.nu,r,i(o)],repositories:(e,t)=>[...m.fme,"repositories",e,i(t)],health:(e,t)=>[...m.fme,"health",e,i(t)]}},1020:(e,t,r)=>{"use strict";var s=r(8972),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,n={},c=null,u=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,s)&&!l.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:o,type:e,key:c,ref:u,props:n,_owner:a.current}}t.jsx=c},1138:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>a,fA:()=>l,fV:()=>d,zf:()=>i});var s=r(3417),o=r(3890),n=r(4986);r(1181);const i=e=>{if(!e)return!1;if("object"==typeof e&&null!==e){const t=e,r=(0,n.N7)(t.name??t.code);if(s.dv.has(r))return!0;if(!r||"Error"===r){const e=(0,n.N7)(t.message);return s.xG.test(e)||e.includes("signal is aborted")}return!1}return"string"==typeof e&&s.xG.test(e)},a=(e,t)=>{if(e)try{e.signal.aborted||e.abort(t)}catch{try{e.abort()}catch{}}},l=(e,t)=>{},c=e=>{if("number"==typeof e)return s.YN.statusToKey[e]?s.YN.statusToKey[e]:void 0},u=(e,t,r="network")=>{const n=((e,t)=>{const r=t??(0,o.Ko)(e),s=e&&"object"==typeof e?e:null,n="string"==typeof s?.code?s.code:void 0;return{status:r,code:n,message:"string"==typeof s?.message?s.message:void 0,isRequestFailed:"REQUEST_FAILED"===n}})(e,t);if("network"===r&&n.isRequestFailed)return c(n.status);if(n.code&&s.YN.codeToKey[n.code])return s.YN.codeToKey[n.code];if("geometry"!==r){const e=c(n.status);if(e)return e}if(n.message){const e=(e=>{const t=e.toLowerCase();for(const{pattern:e,key:r}of s.YN.messagePatterns)if(e.test(t))return r})(n.message);if(e)return e}return"geometry"===r?"geometrySerializationFailedCode":void 0},d=(e,t)=>u(e,t,"network"),p=(e,t,r={})=>{const o=Date.now(),n=r.code??`${e.toUpperCase()}_ERROR`,i=r.scope??"general",a=r.recoverable??e!==s.By.MODULE;return{message:t,type:e,code:n,severity:r.severity??s.MU.ERROR,recoverable:a,timestampMs:o,userFriendlyMessage:r.userFriendlyMessage??"",suggestion:r.suggestion??"",details:r.details,kind:"serializable",errorId:`${i}_${n}`}},h={[s.By.NETWORK]:(e,t={})=>p(s.By.NETWORK,e,t),[s.By.VALIDATION]:(e,t={})=>p(s.By.VALIDATION,e,t),[s.By.CONFIG]:(e,t={})=>p(s.By.CONFIG,e,t),[s.By.GEOMETRY]:(e,t={})=>p(s.By.GEOMETRY,e,t),[s.By.MODULE]:(e,t={})=>p(s.By.MODULE,e,t)};s.By.NETWORK,s.By.VALIDATION,s.By.CONFIG,s.By.GEOMETRY,s.By.MODULE},1181:(e,t,r)=>{"use strict";r.d(t,{I0:()=>i,LH:()=>d,PE:()=>u,RM:()=>l,SP:()=>c,Xp:()=>a,kz:()=>p,xi:()=>n});var s=r(9244),o=(r(3417),r(3890),r(4986));const n=(e,t)=>Number.isFinite(e)?"number"==typeof t&&t>=0?e.toFixed(t):e.toString():"";function i(e,t){return e?t(e):""}const a=(e,t)=>{if(t)return e(t)},l=e=>e?(0,s.css)(e):void 0,c=(e,t,r=0,s=[])=>{if(!e)return s;for(const o of e)o&&null!=o.value&&(s.push({option:o,depth:r}),t&&o.children?.length&&c(o.children,t,r+1,s));return s};const u=e=>{if(!e)return"Unknown error";if("string"==typeof e)return e;if("number"==typeof e)return e.toString();if(e instanceof Error)return e.message||"Error object";if("object"==typeof e&&null!==e){const t=e;for(const e of["message","error","details","description"]){const r=t[e];if((0,o.YH)(r))return r.trim()}}return"Unknown error occurred"},d=(e,t="error")=>e?`${e}-${t}`:void 0,p=(e,t,r,s,n)=>{if(r)return r;const i=(0,o.P6)(e);if(i)return i;if(!t)return;return(0,o.P6)(s)||n}},1337:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 0a4 4 0 0 1 4 4v3a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2V4a4 4 0 0 1 4-4M5 7h1V4a2 2 0 1 1 4 0v3h1V4a3 3 0 0 0-6 0zm4 0V4a1 1 0 0 0-2 0v3zm3 1H4a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1M7 9h1v1h1v1H8v1h1v1H8v1H7z" clip-rule="evenodd"></path></svg>'},1468:(e,t,r)=>{"use strict";r.d(t,{d4:()=>h});var s=r(8972),o=r(8418);Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var n=Symbol.for("react-redux-context"),i="undefined"!=typeof globalThis?globalThis:{};function a(){if(!s.createContext)return{};const e=i[n]??=new Map;let t=e.get(s.createContext);return t||(t=s.createContext(null),e.set(s.createContext,t)),t}var l=a();function c(e=l){return function(){return s.useContext(e)}}var u=c();var d=(e,t)=>e===t;function p(e=l){const t=e===l?u:c(e),r=(e,r={})=>{const{equalityFn:n=d}="function"==typeof r?{equalityFn:r}:r;const i=t(),{store:a,subscription:l,getServerState:c}=i,u=(s.useRef(!0),s.useCallback({[e.name]:t=>e(t)}[e.name],[e])),p=(0,o.useSyncExternalStoreWithSelector)(l.addNestedSub,a.getState,c||a.getState,u,n);return s.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var h=p()},1618:(e,t,r)=>{"use strict";r(3417),r(4986),r(1138),r(3314)},1658:(e,t,r)=>{"use strict";r.d(t,{q:()=>E});var s=r(4880),o=r(9757),n=r(6261),i=r(6500),a=class extends i.Q{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??(0,s.F$)(n,t);let a=this.get(i);return a||(a=new o.X({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.jG.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,s.MK)(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>(0,s.MK)(e,t))):t}notify(e){n.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){n.jG.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){n.jG.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},l=r(6158),c=class extends i.Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#s=0}#t;#r;#s;build(e,t,r){const s=new l.s({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#t.add(e);const t=u(e);if("string"==typeof t){const r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=u(e);if("string"==typeof t){const r=this.#r.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=u(e);if("string"==typeof t){const r=this.#r.get(t),s=r?.find((e=>"pending"===e.state.status));return!s||s===e}return!0}runNext(e){const t=u(e);if("string"==typeof t){const r=this.#r.get(t)?.find((t=>t!==e&&t.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){n.jG.batch((()=>{this.#t.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#t.clear(),this.#r.clear()}))}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,s.nJ)(t,e)))}findAll(e={}){return this.getAll().filter((t=>(0,s.nJ)(e,t)))}notify(e){n.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return n.jG.batch((()=>Promise.all(e.map((e=>e.continue().catch(s.lQ))))))}};function u(e){return e.options.scope?.id}var d=r(9658),p=r(6035);function h(e){return{onFetch:(t,r)=>{const o=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let r=!1;const u=(0,s.ZM)(t.options,t.fetchOptions),d=async(e,o,n)=>{if(r)return Promise.reject();if(null==o&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:o,direction:n?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",(()=>{r=!0})),t.signal)}),e})(),a=await u(i),{maxPages:l}=t.options,c=n?s.ZZ:s.y9;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,o,l)}};if(n&&i.length){const e="backward"===n,t={pages:i,pageParams:a},r=(e?m:f)(o,t);l=await d(t,r,e)}else{const t=e??i.length;do{const e=0===c?a[0]??o.initialPageParam:f(o,l);if(c>0&&null==e)break;l=await d(l,e),c++}while(c<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function f(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function m(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var g=r(3096);const E=new class{#o;#n;#i;#a;#l;#c;#u;#d;constructor(e={}){this.#o=e.queryCache||new a,this.#n=e.mutationCache||new c,this.#i=e.defaultOptions||{},this.#a=new Map,this.#l=new Map,this.#c=0}mount(){this.#c++,1===this.#c&&(this.#u=d.m.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#o.onFocus())})),this.#d=p.t.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#o.onOnline())})))}unmount(){this.#c--,0===this.#c&&(this.#u?.(),this.#u=void 0,this.#d?.(),this.#d=void 0)}isFetching(e){return this.#o.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#n.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#o.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#o.build(this,t),o=r.state.data;return void 0===o?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,s.d2)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return this.#o.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,r){const o=this.defaultQueryOptions({queryKey:e}),n=this.#o.get(o.queryHash),i=n?.state.data,a=(0,s.Zw)(t,i);if(void 0!==a)return this.#o.build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return n.jG.batch((()=>this.#o.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#o.get(t.queryHash)?.state}removeQueries(e){const t=this.#o;n.jG.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=this.#o;return n.jG.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const r={revert:!0,...t},o=n.jG.batch((()=>this.#o.findAll(e).map((e=>e.cancel(r)))));return Promise.all(o).then(s.lQ).catch(s.lQ)}invalidateQueries(e,t={}){return n.jG.batch((()=>(this.#o.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},o=n.jG.batch((()=>this.#o.findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(s.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(o).then(s.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#o.build(this,t);return r.isStaleByTime((0,s.d2)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(s.lQ).catch(s.lQ)}fetchInfiniteQuery(e){return e.behavior=h(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(s.lQ).catch(s.lQ)}ensureInfiniteQueryData(e){return e.behavior=h(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.t.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#o}getMutationCache(){return this.#n}getDefaultOptions(){return this.#i}setDefaultOptions(e){this.#i=e}setQueryDefaults(e,t){this.#a.set((0,s.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach((t=>{(0,s.Cp)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)})),r}setMutationDefaults(e,t){this.#l.set((0,s.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#l.values()],r={};return t.forEach((t=>{(0,s.Cp)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#i.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,s.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===s.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#i.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#o.clear(),this.#n.clear()}}({defaultOptions:{queries:{staleTime:g.ST.FIVE_MINUTES,gcTime:g.ST.TEN_MINUTES,retry:(e,t)=>{const r=t?.status||t?.response?.status;return r!==g.jL.UNAUTHORIZED&&r!==g.jL.FORBIDDEN&&(!(r&&r>=g.H4.CLIENT_ERROR_MIN&&r<g.H4.SERVER_ERROR_MIN)&&e<g.WC.MAX_RETRY_ATTEMPTS)},refetchOnWindowFocus:!1,refetchOnReconnect:!1}}})},1692:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var s=r(2775),o=r(4880),n=class{#p;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,o.gn)(this.gcTime)&&(this.#p=s.zs.setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(o.S$?1/0:3e5))}clearGcTimeout(){this.#p&&(s.zs.clearTimeout(this.#p),this.#p=void 0)}}},1787:(e,t,r)=>{"use strict";r.d(t,{JL:()=>O});class s{constructor(){this.cache=new Map}async execute(e,t){const r=this.cache.get(e);if(r)return r;const s=t();return this.cache.set(e,s),s.finally((()=>{this.cache.delete(e)}))}}const o={healthCheck:new s,validateConnection:new s};var n=r(3096),i=r(3314),a=r(3890);const l=e=>"object"!=typeof e||null===e||Array.isArray(e)?null:e,c=(e,t)=>{let r=e;for(const e of t){if("object"!=typeof r||null===r)return;r=r[e]}return r},u=e=>n.o0.some((t=>e.toLowerCase().includes(t.toLowerCase())));function d(e){if(!e)return"";const t=l(e),r=t?.data??e,s=l(r),o=s?.status,i=s?.version,a=s?.build;if("string"==typeof o&&"ok"===o&&!(null!=i&&""!==i)&&!(null!=a&&""!==a))return"";const u=/\bFME\s+(?:Flow|Server)\s+(\d{4}(?:\.\d+)?)\b/i,d=/\b(\d+\.\d+(?:\.\d+)?|20\d{2}(?:\.\d+)?)\b/,p=["version","fmeVersion","fmeflowVersion","app.version","about.version","server.version","edition","build","productName","product","name","message"];for(const e of p){const t=e.includes(".")?c(s,e.split(".")):s?s[e]:void 0;if("string"==typeof t){const e=t.match(u);if(e)return e[1];const r=t.match(d);if(r)return r[1]}if("number"==typeof t&&Number.isFinite(t)){if(t>=n.aP.MIN_YEAR&&t<n.aP.MAX_YEAR)return String(t);if(t>0&&t<n.aP.MAX_MINOR_VERSION)return String(t)}}try{const e=(h=r,Array.isArray(h)?h:"object"==typeof h&&null!==h?Object.values(h):"string"==typeof h?[h]:[]);for(const t of e)if("string"==typeof t){const e=t.match(u);if(e)return e[1];const r=t.match(d);if(r)return r[1]}if("string"==typeof r){const e=r.match(u);if(e)return e[1];const t=r.match(d);if(t)return t[1]}}catch{}var h;return""}async function p(e,t,r){const s=`${e}|${t}`;return(0,a.dC)(e).ok?await o.healthCheck.execute(s,(async()=>{const s=Date.now();try{const o=(0,i.MbC)(e,t),a=await o.testConnection(r),l=Date.now()-s,c=Number.isFinite(l)&&l>=0&&l<n.ST.MAX_RESPONSE_TIME?l:l<0?0:n.ST.MAX_RESPONSE_TIME;return{reachable:!0,version:d(a),responseTime:c}}catch(t){const r=Date.now()-s,l=Number.isFinite(r)&&r>=0&&r<n.ST.MAX_RESPONSE_TIME?r:r<0?0:n.ST.MAX_RESPONSE_TIME,c=(0,a.Ko)(t),u=(0,i.PEb)(t);if(c===n.jL.UNAUTHORIZED||c===n.jL.FORBIDDEN){if(o=u,n.K2.some((e=>o.toLowerCase().includes(e.toLowerCase())))){if(!(0,a.dC)(e,{strict:!0}).ok)return{reachable:!1,responseTime:l,error:"invalidUrl",status:c}}return{reachable:!0,responseTime:l,error:u,status:c}}return{reachable:!1,responseTime:l,error:u,status:c}}var o})):{reachable:!1,responseTime:0,error:"invalidUrl",status:0}}var h=r(3417);var f=r(1138);const m=(e,t="aborted")=>({success:!1,steps:e,error:{message:t,type:"generic",status:0}}),g=(e,t)=>({success:!1,steps:e,error:{message:"errorServerUnreachable",type:"server",status:t}}),E=(e,t)=>({success:!1,steps:e,error:{message:"errorTokenIssue",type:"token",status:t}}),y=(e,t)=>({success:!1,steps:e,error:{message:"errorRepositoryIssue",type:"repository",status:t}}),v=(e,t,r)=>{const s=0===r?"network":"server";return{success:!1,steps:t,error:{message:(0,f.fV)(e,r),type:s,status:r}}},b=async(e,t)=>{const{steps:r,status:s,serverUrl:o,token:n,signal:a}=e;if(t)return r.serverUrl=h.OX.FAIL,r.token=h.OX.SKIP,g(r,s);try{const e=await p(o,n,a),t=((e,t)=>e?.aborted?m(t):null)(a,r);return t||(e?.reachable?(r.serverUrl=h.OX.OK,r.token=h.OX.FAIL,E(r,s)):(r.serverUrl=h.OX.FAIL,r.token=h.OX.SKIP,g(r,s)))}catch(e){return(0,i.fAF)("Health check during 403 handling failed",e),r.serverUrl=h.OX.FAIL,r.token=h.OX.SKIP,g(r,s)}},S=async e=>{try{const t=await e.client.testConnection(e.signal);return e.steps.serverUrl=h.OX.OK,e.steps.version=d(t),null}catch(t){return(async e=>{const{error:t,steps:r,serverUrl:s,token:o,signal:n}=e;if((0,i.zfx)(t))return m(r,t.message);const l=(0,a.Ko)(t);if(l===h.jL.UNAUTHORIZED)return r.serverUrl=h.OX.OK,r.token=h.OX.FAIL,E(r,l);if(l===h.jL.FORBIDDEN){const e=(0,i.PEb)(t),a=u(e);return b({steps:r,status:l,serverUrl:s,token:o,signal:n},a)}return r.serverUrl=h.OX.FAIL,r.token=h.OX.SKIP,v(t,r,l)})({error:t,steps:e.steps,serverUrl:e.serverUrl,token:e.token,signal:e.signal})}},R=async e=>{if(!e.token)return e.steps.token=h.OX.FAIL,E(e.steps,0);try{return await e.client.getRepositories(e.signal),e.steps.token=h.OX.OK,e.steps.repository=h.OX.SKIP,null}catch(t){if((0,i.zfx)(t))return m(e.steps,t.message);const r=(0,a.Ko)(t);if(r===h.jL.UNAUTHORIZED)return e.steps.token=h.OX.FAIL,E(e.steps,r);if(r===h.jL.FORBIDDEN){const s=(0,i.PEb)(t),o=u(s);return b({steps:e.steps,status:r,serverUrl:e.serverUrl,token:e.token,signal:e.signal},o)}return e.steps.token=h.OX.FAIL,v(t,e.steps,r)}},T=async e=>{const t=[];if(!e.repository)return{warnings:t};try{return await e.client.validateRepository(e.repository,e.signal),e.steps.repository=h.OX.OK,e.steps.token=h.OX.OK,{warnings:t}}catch(r){const s=(0,a.Ko)(r);return s===h.jL.UNAUTHORIZED||s===h.jL.FORBIDDEN?(e.steps.repository=h.OX.SKIP,e.steps.token=h.OX.FAIL,t.push("repositoryNotAccessible"),{warnings:t,failure:E(e.steps,s)}):(e.steps.repository=h.OX.FAIL,{warnings:t,failure:y(e.steps,s)})}};async function O(e){const{serverUrl:t,token:r,repository:s,signal:n}=e,l=`${t}|${r}|${s||"_"}`,c={serverUrl:h.OX.PENDING,token:h.OX.PENDING,repository:s?h.OX.PENDING:h.OX.SKIP,version:""};return await o.validateConnection.execute(l,(async()=>{try{const e=(0,i.MbC)(t,r,s);if(!e)return{success:!1,steps:c,error:{message:void 0,type:"server",status:0}};const o=await S({client:e,steps:c,serverUrl:t,token:r,signal:n});if(o)return o;if(!s){const s=await R({client:e,steps:c,serverUrl:t,token:r,signal:n});if(s)return s}const{warnings:a,failure:l}=await T({client:e,repository:s,signal:n,steps:c});return l||{success:!0,version:"string"==typeof c.version?c.version:"",steps:c,warnings:a.length?a:void 0}}catch(e){if((0,i.zfx)(e))return m(c,e.message);const t=(0,a.Ko)(e);return{success:!1,steps:c,error:{message:(0,f.fV)(e,t),type:"generic",status:t}}}}))}r(3040);r(5880),r(2242),r(1618);r(5009)},1888:e=>{"use strict";e.exports=n},1920:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},2238:(e,t,r)=>{"use strict";r.d(t,{ER:()=>ve});var s=r(3096),o=r(3417),n=r(5009),i=r(3314),a=r(1138),l=r(3040),c=r(3890);const u={...s.mR},d=[];function p(e){for(d.push(e);d.length>s.WC.MAX_HISTORY_SIZE;)d.shift()}async function h(e){if(!u.enabled)return e.execute();const t=e.method.toUpperCase(),r=e.correlationId||f(),o=Date.now();try{const n=await e.execute(),a=Date.now()-o,l=(0,i.eF2)(a)?a:0,c=e.responseInterpreter?.status?.(n),u=e.responseInterpreter?.ok?.(n)??function(e){return"number"!=typeof e?void 0:(0,s.ar)(e)}(c),d=e.responseInterpreter?.size?.(n),h={timestamp:o,method:t,url:g(e.url,e.query),path:y(e.url),status:c,ok:u,durationMs:l,correlationId:r,caller:e.caller,transport:e.transport,retryAttempt:e.retryAttempt,responseSize:d,isAbort:!1};return T("success",h,e.body),p(h),n}catch(s){const n=Date.now()-o,l=(0,i.eF2)(n)?n:0,u=(0,c.Ko)(s),d=(0,a.zf)(s),h={timestamp:o,method:t,url:g(e.url,e.query),path:y(e.url),status:u,ok:!1,durationMs:l,correlationId:r,caller:e.caller,transport:e.transport,retryAttempt:e.retryAttempt,isAbort:d};throw T("error",h,e.body,s),p(h),s instanceof Error?s:new Error((0,i.PEb)(s))}}function f(e="net"){const t=Date.now().toString(36);let r=Math.random().toString(36).slice(2,10);for(;r.length<8;)r+=Math.random().toString(36).slice(2);return`${e}_${t}_${r.slice(0,8)}`}const m=(e,t)=>e?`${e.origin}${e.pathname}`:S(t.split("?")[0]||"");function g(e,t){const r=E(e),s=function(e,t){const r=new URLSearchParams(e?.search||"");t&&v(r,t);return r}(r,t),o=function(e){const t=new URLSearchParams;for(const[r,s]of e.entries())b(r.toLowerCase())?t.set(r,"[TOKEN]"):t.set(r,S(s));return t}(s),n=function(e){const t=[];for(const[r,s]of e.entries())t.push([r,s]);return t.sort((([e],[t])=>e>t?1:e<t?-1:0)),t.map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}(o),i=m(r,e);return n?`${i}?${n}`:i}function E(e){if(!e)return null;try{return(0,i.yCG)(e)||new URL(e,"http://localhost")}catch{return null}}function y(e){const t=E(e);return t?.pathname||e.split("?")[0]||e}const v=(e,t)=>{"string"!=typeof t?t instanceof URLSearchParams?t.forEach(((t,r)=>{e.set(r,t)})):Object.entries(t).forEach((([t,r])=>{if(null!=r)if(Array.isArray(r))e.delete(t),r.forEach((r=>{e.append(t,String(r))}));else{const s="string"==typeof r||"number"==typeof r||"boolean"==typeof r?String(r):JSON.stringify(r);e.set(t,s)}})):new URLSearchParams(t).forEach(((t,r)=>{e.set(r,t)}))};function b(e){const t=e.toLowerCase();return s.wS.some((e=>t.includes(e)))}function S(e){return e.replace(s.zw,'authorization="[TOKEN]"').replace(s.si,"$1=[TOKEN]")}function R(e,t){return e.length<=t?e:`${e.slice(0,t-1)}\u2026`}function T(e,t,r,s){if("silent"===u.logLevel)return;const o=r?function(e){if(null==e)return"";if("string"==typeof e)return R(S(e),u.bodyPreviewLimit);if("object"!=typeof e)try{return R(S(JSON.stringify(e)),u.bodyPreviewLimit)}catch{return"[Object]"}if("undefined"!=typeof FormData&&e instanceof FormData)return"[FormData]";if("undefined"!=typeof Blob&&e instanceof Blob)return`[Blob:${e.size}]`;if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)return`[Binary:${e instanceof ArrayBuffer?e.byteLength:e.buffer?.byteLength||0}]`;try{return R(S(JSON.stringify(e)),u.bodyPreviewLimit)}catch{return"[Object]"}}(r):void 0,a=s?(0,i.PEb)(s):void 0;try{if("debug"===u.logLevel){const r="success"===e?"\u2713":"\u2717",s={phase:e,method:t.method,url:t.url,status:t.status,durationMs:t.durationMs,correlationId:t.correlationId,caller:t.caller,transport:t.transport};void 0!==t.responseSize&&(s.responseSize=t.responseSize),void 0!==t.retryAttempt&&(s.retry=t.retryAttempt),t.isAbort&&(s.aborted=!0),o&&(s.body=o),a&&(s.error=a),(0,n.conditionalLog)(`[FME][net] ${r}`,s)}else if("warn"===u.logLevel){const r=`[FME][net] ${e} ${t.method} ${t.path} ${t.status||"?"} ${t.durationMs}ms`;(0,n.conditionalLog)(r,{correlationId:t.correlationId,...t.caller&&{caller:t.caller}})}t.durationMs>=u.warnSlowMs&&(0,n.conditionalLog)("[FME][net] slow",{method:t.method,path:t.path,durationMs:t.durationMs,correlationId:t.correlationId})}catch{}}const O=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),w=/^https?:\/\//i,I=()=>{try{return new DOMException("Aborted","AbortError")}catch{const e=new Error("AbortError");return e.name="AbortError",e}},A=e=>{if(e?.aborted)throw I()},_=(e,t)=>!e||e<=0?(A(t),Promise.resolve()):new Promise(((r,s)=>{let o=null,n=null;const i=()=>{null!==o&&(clearTimeout(o),o=null),t&&n&&t.removeEventListener("abort",n)},a=()=>{i(),s(I())};t?.aborted?a():(n=a,t&&t.addEventListener("abort",n),o=setTimeout((()=>{i(),r()}),Math.max(0,e)))})),C=e=>{const t=(0,i.P6s)(e);return t&&w.test(t)?t:void 0},L=(e,t=0)=>{if(t>5||null==e)return;const r=C(e);if(r)return r;if(Array.isArray(e))for(const r of e){const e=L(r,t+1);if(e)return e}else if(O(e))for(const r of Object.values(e)){const e=L(r,t+1);if(e)return e}},M=e=>e?e.replace(/\\+/g,"/").replace(/^\/+|\/+$/g,""):"",x=["path","fullPath","relativePath","resourcePath","filePath","savedPath","targetPath"],k=["href","url","downloadUrl"],N=["file","files","items","data"],P=e=>{if("string"==typeof e){return(0,i.NnH)(e)||void 0}if(Array.isArray(e))for(const t of e){const e=P(t);if(e)return e}else if(O(e)){for(const t of x){const r=(0,i.NnH)(e[t]);if(r)return r}for(const t of k){const r=(0,i.NnH)(e[t]);if(r)return r}for(const t of N){const r=P(e[t]);if(r)return r}}},D=e=>{if("number"==typeof e&&Number.isFinite(e)&&e>0)return e;if("string"==typeof e){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}},U=e=>{if(O(e))return D(e.jobID)||D(e.jobId)||D(e.id)},j=e=>{if(e&&"object"==typeof e)return D(e.id)||D(e.jobID)||U(e.serviceResponse)||U(e.result?.serviceResponse)},F=e=>{if(!e||"object"!=typeof e)return;const t=(0,i.NnH)(e.statusMessage)||(0,i.NnH)(e.result?.statusMessage)||(e=>{if(Array.isArray(e))for(const t of e){const e=(0,i.NnH)(t);if(e)return e}})(e.result?.logMessages),r=C(e.url)||C(e.serviceResponse?.url)||C(e.result?.serviceResponse?.url)||C(e.result?.downloadUrl)||C(e.result?.url)||L(e.result?.files)||L(e.result?.outputs)||L(e.result?.data);if(!t&&!r&&void 0===e.status)return;const s=j(e);return{status:e.status,message:t||void 0,jobID:s,id:s,url:r||void 0}},W=(e,t=0)=>{if(null==e)return null;if("string"==typeof e){const t=e.trim();return t||null}if("number"==typeof e||"boolean"==typeof e)return String(e);if(Array.isArray(e)){if(t>=3)return null;const r=e.map((e=>W(e,t+1))).filter((e=>Boolean(e)));if(!r.length)return null;return R(r.join(", "),s.Us)}if(O(e)){if(t>=3)return null;for(const r of s.xW){const s=W(e[r],t+1);if(s)return s}}return null},q=e=>{if(!e)return;const t={};if(Array.isArray(e))return e.forEach(((e,r)=>{if(null!=e)if(O(e)){const o=e,n="string"==typeof o.name?o.name:void 0,a="string"==typeof o.field?o.field:void 0,l="string"==typeof o.parameter?o.parameter:void 0,c=(0,i.P6s)(n)||(0,i.P6s)(a)||(0,i.P6s)(l)||String(r),u=W(e,1)||W(o.value,1);u&&(t[c]=R(u,s.Us))}else{const o=W(e,1);o&&(t[String(r)]=R(o,s.Us))}})),Object.keys(t).length?t:void 0;if(O(e)){for(const r of Object.keys(e)){const o=W(e[r]);o&&(t[r]=R(o,s.Us))}return Object.keys(t).length?t:void 0}const r=W(e);return r?(t.general=R(r,s.Us),t):void 0},B=(e,t)=>{let r=e;for(const e of t){if(!O(r))return;r=r[e]}return r},V=e=>{if(!e||"object"!=typeof e)return;const t=[["details"],["response","details"],["response","data","details"],["data","details"],["body","details"],["error","details"]];for(const r of t){const t=B(e,r);if(void 0!==t){const e=q(t);if(e)return e}}},G=e=>{if(void 0!==e)return e;if("function"==typeof DOMException)return new DOMException("Aborted","AbortError");const t=new Error("Aborted");return t.name="AbortError",t},H=()=>{};new class{constructor(){this.controllers=new Map,this.listeners=new Map,this.pendingReasons=new Map}register(e,t){if(!e)return;this.controllers.set(e,t);const r=this.pendingReasons.get(e);void 0!==r&&((0,a.Wz)(t,r),this.pendingReasons.delete(e))}release(e,t){if(!e)return;const r=this.controllers.get(e);if(t&&r&&r!==t)return;this.controllers.delete(e),this.pendingReasons.delete(e);const s=this.listeners.get(e);if(s?.size){for(const e of s)try{e.signal.removeEventListener("abort",e.handler)}catch{}this.listeners.delete(e)}}abort(e,t){if(!e)return;const r=this.controllers.get(e);if(!r)return void this.pendingReasons.set(e,t??G());const s=t??G();(0,a.Wz)(r,s),this.release(e,r)}linkExternal(e,t){if(!e||!t)return H;if(t.aborted)return this.abort(e,t.reason),H;const r={signal:t,handler:()=>{const r=t.reason;this.abort(e,r)}};t.addEventListener("abort",r.handler);let s=this.listeners.get(e);return s||(s=new Set,this.listeners.set(e,s)),s.add(r),()=>{try{t.removeEventListener("abort",r.handler)}catch{}const s=this.listeners.get(e);s&&(s.delete(r),0===s.size&&this.listeners.delete(e))}}abortAll(e){const t=Array.from(this.controllers.entries());for(const[r,s]of t)this.abort(r,e),this.release(r,s)}};const z=(e,t)=>new o.VQ(e,e,t,(e=>(0,s.PS)(e))(t)),Q=e=>{if(!e||"object"!=typeof e)return{};const t=e,r={...t};if(t.type&&(r.type=(e=>{if("string"!=typeof e)return"TEXT";const t=(0,i.QKA)(e),r=s.Tv[t];return r||e.toUpperCase()})(t.type)),"number"===t.type&&!0===t.showSlider&&(r.type="RANGE_SLIDER"),"datetime"===t.type&&"date"===t.format&&(r.type="DATE"),"file"===t.type&&t.itemsToSelect){const e="string"==typeof t.itemsToSelect?t.itemsToSelect.toLowerCase():"";"folders"===e||"directories"===e?r.type=t.validateExistence?"DIRNAME_MUSTEXIST":"DIRNAME":"files"===e&&(r.type=t.validateExistence?"FILENAME_MUSTEXIST":"FILENAME")}"text"===t.type&&"url"===t.editor&&(r.type="URL");const o=t.choiceSettings;if(o?.choices&&!t.listOptions){const e=Array.isArray(o.choices)?o.choices:[];r.listOptions=e.map((e=>{const t=e,r=t.value??t.caption;return{caption:t.display??t.caption??r,value:r,...t.description&&{description:t.description},...t.path&&{path:t.path},...t.disabled&&{disabled:t.disabled},...t.metadata&&{metadata:t.metadata}}})),"text"===t.type&&"URL"!==r.type&&(r.type="CHOICE")}return"tree"===t.type&&t.nodeDelimiter&&(r.metadata={...r.metadata||{},breadcrumbSeparator:t.nodeDelimiter,pathSeparator:t.nodeDelimiter}),t.prompt&&!t.description&&(r.description=t.prompt),"required"in t?r.optional=!t.required:"optional"in t||(r.optional=!1),"number"!==t.type&&"RANGE_SLIDER"!==r.type||("number"==typeof t.minimum&&(r.minimum=t.minimum),"number"==typeof t.maximum&&(r.maximum=t.maximum),"boolean"==typeof t.minimumExclusive&&(r.minimumExclusive=t.minimumExclusive),"boolean"==typeof t.maximumExclusive&&(r.maximumExclusive=t.maximumExclusive),"number"==typeof t.multipleOf&&(r.decimalPrecision=1===t.multipleOf?0:void 0)),"color"===t.type&&t.colorSpace&&(r.metadata={...r.metadata||{},colorSpace:t.colorSpace}),t.visibility&&(r.visibility=t.visibility),"group"===t.type&&Array.isArray(t.parameters)&&(r.parameters=t.parameters.map(Q)),r},K=e=>{const t=O(e)&&Array.isArray(e.value)?e.value:e;if(!Array.isArray(t))return[];const r=t.map(Q),s=[];for(const e of r)s.push(e),"GROUP"===e.type&&Array.isArray(e.parameters)&&s.push(...e.parameters);return s},X=e=>{const t=e?.httpStatus,r=e?.status;return"number"==typeof t?t:"number"==typeof r?r:void 0},$=e=>{const t=X(e);if("number"==typeof t)return(0,s.ar)(t)},Y=e=>{try{const t=e?.data;if(!t)return;if("string"==typeof t)return t.length;return JSON.stringify(t).length}catch{return}},Z=e=>{if(e&&"object"==typeof e&&"default"in e){const t=e;if(void 0!==t.default)return t.default}return e};let J,ee,te,re,se,oe=null;const ne=Object.create(null),ie=e=>s.FB[e];async function ae(){if(Boolean(J&&ee&&te&&re&&se))return;if(oe)return oe;const e=(async()=>{const e=(()=>{try{const e=globalThis;return o._$.some((t=>t in e))?e:null}catch{return null}})();if(e)(e=>{if(!e)return;const t={esriRequest:e=>{J=e},esriConfig:e=>{ee=e},projection:e=>{te=e},webMercatorUtils:e=>{re=e},SpatialReference:e=>{se=e}};for(const r of o._$){const s=(r in e?e[r]:void 0)??ie(r);t[r](s)}})(e);else try{await(async()=>{const[e,t,r,s,o]=await(0,i.ps9)(["esri/request","esri/config","esri/geometry/projection","esri/geometry/support/webMercatorUtils","esri/geometry/SpatialReference"]);J=Z(e),ee=Z(t),te=Z(r),re=Z(s),se=Z(o);const n=pe(te);n?.load&&await n.load()})()}catch{throw new Error("ARCGIS_MODULE_ERROR")}})();oe=e;try{await e}catch(e){throw J=void 0,ee=void 0,te=void 0,re=void 0,se=void 0,oe=null,e instanceof Error?e:new Error(String(e))}}async function le(){return await ae(),de(ee)}const ce=e=>{if(!O(e))return!1;const t=e,{before:r,error:s}=t;if(void 0!==r&&"function"!=typeof r)return!1;if(void 0!==s&&"function"!=typeof s)return!1;const{urls:o}=t;return void 0===o||("string"==typeof o||o instanceof RegExp||!!Array.isArray(o))};const ue=e=>Boolean(e&&"object"==typeof e),de=e=>{if(!ue(e))return null;const t=e;return t.request&&Array.isArray(t.request.interceptors)?t:null},pe=e=>ue(e)?e:null,he=async e=>{let t;try{t=await le()}catch{return}!function(e,t){if(Array.isArray(e)&&e.length)for(let r=e.length-1;r>=0;r--){const s=e[r];if(!ce(s)||!s._fmeInterceptor)continue;const o=s.urls;let n=!1;o instanceof RegExp?n=o.source===t.source&&o.flags===t.flags:Array.isArray(o)?n=o.some((e=>t.test(String(e??"")))):"string"==typeof o&&(n=t.test(o)),n&&e.splice(r,1)}}(t?.request?.interceptors,e)},fe=(e,t)=>({urls:t,before(t){if(!(e=>{if("string"==typeof e)return s.KC.test(e);if(e instanceof URL)return s.KC.test(e.pathname);if(e&&"object"==typeof e){const t="string"==typeof e.href?e.href:"string"==typeof e.url?e.url:null;return!!t&&s.KC.test(t)}return!1})(t?.url))return;t?.requestOptions||(t.requestOptions={});const r=t.requestOptions,o=r.headers??{},n=r.query??{};r.headers=o,r.query=n;const i=(e=>ne[e])(e);i&&(n.fmetoken||(n.fmetoken=i),o.Authorization=`fmetoken token=${i}`)},_fmeInterceptor:!0});async function me(e,t){if(!e)return;const r=(0,i.$j5)(e);if(!r)return;const s=r.toLowerCase(),o=(0,i.dBM)(r);if(!t){const e=(e=>Object.prototype.hasOwnProperty.call(ne,e))(s);return(e=>{delete ne[e]})(s),void(e&&await he(o))}let n;((e,t)=>{ne[e]=t})(s,t);try{n=await le()}catch(e){throw e instanceof Error?e:new Error(String(e))}n?.request?.interceptors&&((0,i.m4N)(n.request.interceptors,o)||n.request.interceptors.push(fe(s,o)))}const ge=(e,t)=>{const r=(e=>{const t=(0,l.Lz)(e?.tm_ttc),r=(0,l.Lz)(e?.tm_ttl),s=(0,i.NnH)(e?.tm_tag),o={};return void 0!==t&&(o.ttc=t),void 0!==r&&(o.ttl=r),s&&(o.tag=s),o})(t),s={publishedParameters:e};return Object.keys(r).length>0&&(s.TMDirectives=r),s};class Ee{constructor(e){this.basePath=o.vA.BASE_PATH,this.disposed=!1,this.config=Object.freeze({...e}),this.setupPromise=Promise.resolve(),this.queueSetup(e)}queueSetup(e){this.setupPromise=(this.setupPromise||Promise.resolve()).catch((()=>{})).then((async()=>{try{await async function(){const e=await le();e&&(e.request.maxUrlLength=Math.max(Number(e.request.maxUrlLength)||0,o.vA.MAX_URL_LENGTH))}(),await me(e.serverUrl,e.token)}catch(e){throw e instanceof Error?e:new Error(String(e))}}))}queueTeardown(e){this.setupPromise=(this.setupPromise||Promise.resolve()).catch((()=>{})).then((()=>me(e,""))).catch((()=>{}))}dispose(){this.disposed||(this.disposed=!0,this.queueTeardown(this.config.serverUrl))}async uploadToTemp(e,t){if(t?.signal?.aborted)throw new DOMException("Aborted","AbortError");const r=this.resolveRepository(t?.repository);if(!(0,i.P6s)(t?.workspace))throw z("DATA_UPLOAD_ERROR");const n=((0,i.P6s)(e instanceof File?e.name:void 0)||`upload_${Date.now()}`).replace(/[^A-Za-z0-9._-]/g,"_").slice(0,s.vp.MAX_FILENAME_LENGTH)||`upload_${Date.now()}`,a=(0,i.P6s)(t?.subfolder).replace(/[^A-Za-z0-9_-]/g,"-").slice(0,s.vp.MAX_NAMESPACE_LENGTH)||f("upload");if("undefined"==typeof FormData)throw z("FORMDATA_UNSUPPORTED");const l=o.vA.TEMP_RESOURCE_CONNECTION,c=(0,i.c$7)(this.config.serverUrl,this.basePath.slice(1),"resources","connections",l,"upload"),u={overwrite:"true"};a&&(u.path=a);const d=new FormData;d.append("file",e,n);const p=await this.request(c,{method:o.ym.POST,headers:{Accept:"application/json"},body:d,query:u,signal:t?.signal,cacheHint:!1,repositoryContext:r}),h=P(p.data)||((e,t,r)=>{const s=M(e)||o.vA.TEMP_RESOURCE_CONNECTION,n=M(t),i=[s];return n&&i.push(n),i.push(r),i.join("/")})(l,a,n);if(!h)throw z("DATA_UPLOAD_ERROR",p.status);return{data:{path:h},status:p.status,statusText:p.statusText}}resolveRepository(e){return e||this.config.repository}formatJobParams(e={}){if(O(t=e)&&Array.isArray(t.publishedParameters))return e;var t;const r=Object.entries(e).filter((([e])=>!s.RW.includes(e))).map((([e,t])=>({name:e,value:t})));return ge(r,e)}repoEndpoint(e,...t){return(0,i.c$7)(this.config.serverUrl,this.basePath.slice(1),"repositories",e,...t)}jobsEndpoint(){return(0,i.c$7)(this.config.serverUrl,this.basePath.slice(1),"jobs")}jobResultEndpoint(e){return(0,i.c$7)(this.config.serverUrl,this.basePath.slice(1),"jobs",String(e),"result")}workspaceEndpoint(e,t,...r){return(0,i.c$7)(this.config.serverUrl,this.basePath.slice(1),"workspaces",e,t,...r)}async withApiError(e,t,r){try{return await e()}catch(e){const s=(0,c.Ko)(e),n=(0,c.$d)(e),i=e instanceof o.VQ?e:null,a=i?.details??V(e),l=i?.severity,u="number"==typeof s?s:"number"==typeof i?.httpStatus?i.httpStatus:0;throw new o.VQ(t,r,u,n,l,a)}}async testConnection(e){return this.request("/healthcheck/liveness",{signal:e})}async validateRepository(e,t){const r=this.resolveRepository(e),s=this.repoEndpoint(r);return this.request(s,{signal:t})}async getRepositories(e){return this.withApiError((async()=>{const t=(0,i.c$7)(this.config.serverUrl,this.basePath.slice(1),"repositories"),r=await this.request(t,{signal:e,cacheHint:!1,query:{limit:s.WC.API_QUERY_LIMIT,offset:0}}),o=r?.data;return{data:(0,i.o44)(o).map((e=>({name:e}))),status:r.status,statusText:r.statusText}}),"REPOSITORIES_ERROR","REPOSITORIES_ERROR")}async getWorkspaceParameter(e,t,r,s){const o=this.resolveRepository(r),n=this.workspaceEndpoint(o,e,"parameters",t),i=await this.request(n,{signal:s,cacheHint:!1,repositoryContext:o});return{...i,data:Q(i.data)}}async getWorkspaceParameters(e,t,r){const s=this.resolveRepository(t),o=this.workspaceEndpoint(s,e,"parameters");return this.withApiError((async()=>{const e=await this.request(o,{signal:r,cacheHint:!1,repositoryContext:s});return{...e,data:K(e.data)}}),"WORKSPACE_PARAMETERS_ERROR","WORKSPACE_PARAMETERS_ERROR")}async getRepositoryItems(e,t,r,s,o){const n=this.resolveRepository(e),i=this.repoEndpoint(n,"items"),a={};return t&&(a.type=t),"number"==typeof r&&(a.limit=r),"number"==typeof s&&(a.offset=s),this.withApiError((()=>this.request(i,{signal:o,cacheHint:!1,repositoryContext:n,query:a})),"REPOSITORY_ITEMS_ERROR","REPOSITORY_ITEMS_ERROR")}async getWorkspaceItem(e,t,r){const s=this.resolveRepository(t),o=this.workspaceEndpoint(s,e);return this.withApiError((()=>this.request(o,{signal:r,cacheHint:!1,repositoryContext:s})),"WORKSPACE_ITEM_ERROR","WORKSPACE_ITEM_ERROR")}async submitJob(e,t={},r,s){const n=this.resolveRepository(r),i=this.jobsEndpoint(),a={repository:n,workspace:e,...this.formatJobParams(t)};return this.withApiError((()=>this.request(i,{method:o.ym.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(a),signal:s,cacheHint:!1})),"JOB_SUBMISSION_ERROR","JOB_SUBMISSION_ERROR")}async getJobResult(e,t){const r=this.jobResultEndpoint(e),s={};return t?.longPoll&&(s.longPoll="true",s.longPollInterval=o.vA.JOB_RESULT_LONG_POLL_INTERVAL_SEC),this.withApiError((()=>this.request(r,{signal:t?.signal,cacheHint:!1,query:s})),"JOB_RESULT_ERROR","JOB_RESULT_ERROR")}async waitForJobResult(e,t){const r=Math.max(0,o.vA.JOB_RESULT_MAX_WAIT_MS),n=Math.max(0,o.vA.JOB_RESULT_POLL_INTERVAL_MS),i=r>0?Date.now()+r:Number.POSITIVE_INFINITY;let a=0;for(;;){A(t);const r=await this.getJobResult(e,{signal:t,longPoll:0===a});if(A(t),r.status!==s.jL.ACCEPTED)return r;if(Date.now()>=i)throw z("JOB_RESULT_TIMEOUT",s.jL.TIMEOUT);await _(n,t),a+=1}}async runWorkspace(e,t={},r,s){A(s);const o=await this.submitJob(e,t,r,s);A(s);const n=o.data;if(!n)throw z("JOB_SUBMISSION_EMPTY",o.status);const i=F(n)||void 0,a=j(n);if(!a){if(i)return{data:{serviceResponse:i},status:o.status,statusText:o.statusText};throw z("JOB_ID_MISSING",o.status)}const l=await this.waitForJobResult(a,s);A(s);const c=F(l.data)||i;if(!c)throw z("JOB_RESULT_EMPTY",l.status);return{data:{serviceResponse:c},status:l.status,statusText:l.statusText}}async request(e,t={}){if(this.disposed)throw z("CLIENT_DISPOSED");try{await this.setupPromise}catch(e){this.queueSetup(this.config);try{await this.setupPromise}catch{throw z("ARCGIS_MODULE_ERROR")}}await ae();const r=e=>e.startsWith("/")?e.slice(1):e,n=r(this.basePath||""),l=n?[n]:[],u=r(e),d=e.startsWith("http")?e:e.startsWith("/fme")?(0,i.c$7)(this.config.serverUrl,u):u?(0,i.c$7)(this.config.serverUrl,...l,u):(0,i.c$7)(this.config.serverUrl,...l),p={...t.headers||{}},m={...t.query||{}};if(!t.method||t.method===o.ym.GET){const e=(0,i.qmZ)(this.config.serverUrl,this.config.token,t.repositoryContext);void 0===m.__scope&&(m.__scope=e)}const g={method:(t.method??o.ym.GET).toLowerCase(),query:m,responseType:"json",headers:p,signal:t.signal};try{const e=(0,i.$j5)(this.config.serverUrl)?.toLowerCase(),r=(0,i.yCG)(d);if(!r)throw z("INVALID_REQUEST_URL");if(this.config.requireHttps&&r.protocol&&"https:"!==r.protocol.toLowerCase())throw z("HTTPS_REQUIRED");const o=(r.hostname||"").toLowerCase();if(e&&o===e&&this.config.token){m.fmetoken||(m.fmetoken=this.config.token);const e={...g.headers??{}};e.Authorization=`fmetoken token=${this.config.token}`,g.headers=e}const n="number"==typeof t.timeout?t.timeout:"number"==typeof this.config.timeout?this.config.timeout:void 0;"number"==typeof n&&n>0&&(g.timeout=n),void 0!==t.cacheHint&&(g.cacheHint=t.cacheHint),void 0!==t.body&&(g.body=t.body);const a="function"==typeof(E=J)?E:null;if(!a)throw z("ARCGIS_MODULE_ERROR");const l=f("fme"),c=await h({method:"string"==typeof g.method?g.method.toUpperCase():"GET",url:d,transport:"fme-flow-api",body:g.body,query:m,correlationId:l,responseInterpreter:{status:X,ok:$,size:Y},execute:()=>a(d,g)});return{data:c.data,status:c.httpStatus??c.status??s.jL.OK,statusText:c.statusText??""}}catch(e){if("AbortError"===e?.name)return{data:void 0,status:0,statusText:"requestAborted"};if(e instanceof o.VQ)throw e;const t=(0,c.Ko)(e)||0,r=(0,c.$d)(e);let s="REQUEST_FAILED";(0,i.PEb)(e).includes("Unexpected token")&&(s="INVALID_RESPONSE_FORMAT");const n=(0,a.fV)(e,t),l=V(e),u=n||s;throw new o.VQ(u,s,t,r,void 0,l)}var E}}const ye=e=>({serverUrl:(0,i.P6s)(e.fmeServerUrl)||(0,i.P6s)(Reflect.get(e,"fme_server_url"))||"",token:(0,i.P6s)(e.fmeServerToken)||(0,i.P6s)(Reflect.get(e,"fme_server_token"))||(0,i.P6s)(Reflect.get(e,"fmw_server_token"))||"",repository:e.repository||"",timeout:e.requestTimeout,requireHttps:e.requireHttps});function ve(e){const t=ye(e);try{(0,c.e6)(t)}catch{throw z("INVALID_CONFIG")}return new Ee({...t,serverUrl:t.serverUrl.replace(/\/$/,"")})}},2242:(e,t,r)=>{"use strict";r.d(t,{Hg:()=>f,Id:()=>E,M1:()=>m,Xc:()=>g,d7:()=>p,j_:()=>y,q5:()=>h,qp:()=>S,uG:()=>v,uT:()=>b});var s=r(9244),o=r(3930),n=r(7665),i=r(7097),a=r(1468),l=r(3417),c=r(5880),u=r(1787),d=r(3314);const p=(e,t,r)=>{const o=(0,d.eF2)(t)?t:0,n=s.React.useRef(null),i=s.React.useRef(!1),a=s.React.useRef(null),l=s.hooks.useLatest(e),c=s.hooks.useLatest(r),u=s.hooks.useEventCallback((e=>{if(i.current===e)return;i.current=e;const t=c.current?.onPendingChange;if("function"==typeof t)try{t(e)}catch{}})),p=s.hooks.useEventCallback((()=>{n.current&&(clearTimeout(n.current),n.current=null),a.current=null,i.current&&u(!1)})),h=s.hooks.useEventCallback(((...e)=>{a.current=e,n.current&&clearTimeout(n.current),u(!0),n.current=setTimeout((()=>{n.current=null,a.current=null;try{l.current(...e)}finally{u(!1)}}),o)})),f=s.hooks.useEventCallback((()=>{if(!a.current)return;const e=a.current;p(),l.current(...e)})),m=s.React.useRef(null),g=s.hooks.useLatest(h),E=s.hooks.useLatest(p),y=s.hooks.useLatest(f);if(!m.current){const e=(...e)=>{g.current(...e)};e.cancel=()=>E.current(),e.flush=()=>y.current(),e.isPending=()=>i.current,m.current=e}const v=s.hooks.useLatest(p);s.hooks.useEffectOnce((()=>()=>{v.current()}));const b=m.current;if(!b)throw new Error("debounceUnavailable");return b},h=e=>(0,a.d4)((t=>{const r=t?.appStateInBuilder;return e(r??t)})),f=(e,t,r)=>s.hooks.useEventCallback(((s,o)=>{const n=t;r({id:e,config:n.set?n.set(s,o):t})})),m=e=>{const t=s.hooks.useLatest(e);return s.hooks.useEventCallback(((e,r="")=>{const s=t.current?.[e];return(0,d.wKo)(s)??r}))},g=e=>{const t=s.hooks.useLatest(e);return s.hooks.useEventCallback(((e,r=!1)=>{const s=t.current?.[e];return(0,d.Dr1)(s)??r}))},E=e=>{const t=s.hooks.useLatest(e);return s.hooks.useEventCallback(((e,r)=>{const s=t.current?.[e];return"number"==typeof s&&Number.isFinite(s)?s:r}))};const y=(e,t,r)=>{const[o,n]=s.hooks.useControlled({controlled:e,default:t});return[o,s.hooks.useEventCallback((e=>{n(e),r?.(e)}))]};function v(e,t,r){return(0,o.I)({queryKey:["fme","repositories",e,(0,d.hsD)(t)],queryFn:async({signal:r})=>{const s=(0,d.MbC)(e,t,l.nu);if(!s)throw new Error("FME client not initialized");return(await s.getRepositories(r)).data??[]},enabled:(r?.enabled??!0)&&Boolean(e&&t)})}function b(){const e=(0,n.jE)(),t=s.React.useRef(null),r=s.hooks.useEventCallback((()=>{const e=t.current;if(e&&!e.signal.aborted)try{e.abort()}catch{}t.current=null})),o=(0,i.n)({mutationFn:async e=>await(0,u.JL)({serverUrl:e.serverUrl,token:e.token,repository:e.repository,signal:t.current?.signal}),onSuccess:(t,r)=>{t.success&&e.invalidateQueries({queryKey:d.lHd.health(r.serverUrl,r.token)})}}),a=s.hooks.useEventCallback((async e=>{r();const s=new AbortController;t.current=s;try{return await o.mutateAsync(e)}finally{t.current===s&&(t.current=null)}})),l=s.hooks.useEventCallback((e=>{a(e)}));return s.hooks.useUnmount((()=>{r()})),{...o,mutate:l,mutateAsync:a}}function S(e){const t=s.ReactRedux.useDispatch(),r=s.React.useRef({setDrawingTool:r=>{t(c.fmeActions.setDrawingTool(r,e))},setViewMode:r=>{t(c.fmeActions.setViewMode(r,e))},setError:(r,s)=>{t(c.fmeActions.setError(r,s,e))},clearError:r=>{t(c.fmeActions.clearError(r,e))},setGeometry:(r,s)=>{t(c.fmeActions.setGeometry(r,s,e))},setWorkspaceItems:(r,s)=>{t(c.fmeActions.setWorkspaceItems(r,s,e))},applyWorkspaceData:r=>{t(c.fmeActions.applyWorkspaceData(r,e))},completeDrawing:(r,s,o)=>{t(c.fmeActions.completeDrawing(r,s,o,e))},clearWorkspaceState:r=>{t(c.fmeActions.clearWorkspaceState(r,e))},resetState:()=>{t(c.fmeActions.resetState(e))},resetToDrawing:()=>{t(c.fmeActions.resetToDrawing(e))},setLoadingFlag:(r,s)=>{t(c.fmeActions.setLoadingFlag(r,s,e))},setOrderResult:r=>{t(c.fmeActions.setOrderResult(r,e))},completeStartup:()=>{t(c.fmeActions.completeStartup(e))},removeWidgetState:()=>{t(c.fmeActions.removeWidgetState(e))}});return s.hooks.useUpdateEffect((()=>{r.current={setDrawingTool:r=>{t(c.fmeActions.setDrawingTool(r,e))},setViewMode:r=>{t(c.fmeActions.setViewMode(r,e))},setError:(r,s)=>{t(c.fmeActions.setError(r,s,e))},clearError:r=>{t(c.fmeActions.clearError(r,e))},setGeometry:(r,s)=>{t(c.fmeActions.setGeometry(r,s,e))},setWorkspaceItems:(r,s)=>{t(c.fmeActions.setWorkspaceItems(r,s,e))},applyWorkspaceData:r=>{t(c.fmeActions.applyWorkspaceData(r,e))},completeDrawing:(r,s,o)=>{t(c.fmeActions.completeDrawing(r,s,o,e))},clearWorkspaceState:r=>{t(c.fmeActions.clearWorkspaceState(r,e))},resetState:()=>{t(c.fmeActions.resetState(e))},resetToDrawing:()=>{t(c.fmeActions.resetToDrawing(e))},setLoadingFlag:(r,s)=>{t(c.fmeActions.setLoadingFlag(r,s,e))},setOrderResult:r=>{t(c.fmeActions.setOrderResult(r,e))},completeStartup:()=>{t(c.fmeActions.completeStartup(e))},removeWidgetState:()=>{t(c.fmeActions.removeWidgetState(e))}}}),[t,e]),r.current}},2606:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M1 1v14h14V1zm9.082 13c-.005-.037-.113-.274-.122-.309a1.5 1.5 0 0 0 .718-1.267 1.2 1.2 0 0 0-.053-.358c.152-.176.263-.383.326-.607q.046.003.093.003c.3.002.593-.091.836-.266q.06.066.126.124c.42.412.977.654 1.564.68H14v2h-3.918M14 11h-.43a1.46 1.46 0 0 1-.906-.433c-.264-.23-.258-.782-.617-.782-.482 0-.52.677-1.003.677-.219 0-.38-.177-.599-.177-.193 0-.445.102-.445.293v.502c0 .424-.506.508-.506.934 0 .171.184.236.184.41 0 .58-.893.502-.893 1.08 0 .191.215.305.215.486V14H6.375q.087-.243.09-.502c0-.547-1.043-.393-1.207-.72-.407-.813.693-1.022.693-1.673 0-.16-.082-.488-.334-.513-.351-.035-.443.154-.797.154a.406.406 0 0 1-.437-.36c0-.386.308-.566.308-.952 0-.25-.102-.393-.102-.643a.62.62 0 0 1 .59-.643c.323 0 .464.264.618.54a.64.64 0 0 0 .617.308c.49 0 .798-.61.798-.977a.47.47 0 0 1 .437-.488c.347 0 .476.36.824.36.57 0 .55-.756 1.053-1.03.618-.332.438-1.052.36-1.44-.032-.169.29-.5.464-.487.72.05.412-.54.412-.823q0-.073.022-.142c.111-.332.595-.438.595-.836 0-.281-.233-.41-.233-.693a.65.65 0 0 1 .22-.44H14zM2 14V2h8.278c-.013.077-.132.356-.132.44 0 .194.038.387.112.567a1.6 1.6 0 0 0-.422.643 1.4 1.4 0 0 0-.074.442 1.7 1.7 0 0 0-.536.43 1.32 1.32 0 0 0-.32 1.091q.046.205.066.414a2 2 0 0 0-.649.67 1.46 1.46 0 0 0-.674-.166 1.45 1.45 0 0 0-1.383 1.086 1.44 1.44 0 0 0-1.086-.469 1.62 1.62 0 0 0-1.591 1.643c0 .254.113.293.084.574s-.29.535-.29 1.022a1.37 1.37 0 0 0 .984 1.29 1.58 1.58 0 0 0-.003 1.549c.143.286.636.774.534.774z"></path></svg>'},2686:e=>{"use strict";e.exports=l},2775:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>n,zs:()=>o});var s={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},o=new class{#h=s;#f=!1;setTimeoutProvider(e){this.#h=e}setTimeout(e,t){return this.#h.setTimeout(e,t)}clearTimeout(e){this.#h.clearTimeout(e)}setInterval(e,t){return this.#h.setInterval(e,t)}clearInterval(e){this.#h.clearInterval(e)}};function n(e){setTimeout(e,0)}},3040:(e,t,r)=>{"use strict";r.d(t,{Lz:()=>n,o4:()=>i});r(9244),r(3417),r(5132),r(3890);var s=r(4986),o=r(6920);r(1181),r(1618),r(930);const n=e=>{if("number"==typeof e&&Number.isFinite(e)){if(e<0)return;return Math.floor(e)}const t=(0,s.Nn)(e);if(!t||!/^\d+$/.test(t))return;const r=Number(t);return!Number.isFinite(r)||r<0?void 0:Math.floor(r)},i=e=>{if(Array.isArray(e))return(0,o.is)((0,o.YD)(e,"name"));const t="object"==typeof e&&null!==e?e:null,r=t?.items;return Array.isArray(r)?(0,o.is)((0,o.YD)(r,"name")):[]}},3096:(e,t,r)=>{"use strict";r.d(t,{Bd:()=>w,EW:()=>D,FB:()=>i,H4:()=>T,K2:()=>C,KC:()=>p,P9:()=>j,PS:()=>I,QB:()=>z,RW:()=>h,ST:()=>P,Tv:()=>f,Us:()=>V,Ve:()=>a,WC:()=>A,Xw:()=>v,YN:()=>W,Yw:()=>N,_$:()=>n,aP:()=>H,ar:()=>O,bD:()=>B,dv:()=>S,eS:()=>c,j2:()=>U,jL:()=>R,kR:()=>l,mR:()=>_,nu:()=>g,o0:()=>L,rd:()=>y,si:()=>k,vA:()=>d,vp:()=>E,wS:()=>M,xG:()=>b,xW:()=>G,zo:()=>q,zw:()=>x});var s=r(9244),o=r(6055);Object.freeze([o.ZW.SET_VIEW_MODE,o.ZW.RESET_STATE,o.ZW.SET_GEOMETRY,o.ZW.SET_DRAWING_TOOL,o.ZW.COMPLETE_DRAWING,o.ZW.SET_ORDER_RESULT,o.ZW.SET_WORKSPACE_ITEMS,o.ZW.SET_WORKSPACE_PARAMETERS,o.ZW.SET_SELECTED_WORKSPACE,o.ZW.SET_WORKSPACE_ITEM,o.ZW.SET_ERROR,o.ZW.SET_ERRORS,o.ZW.CLEAR_WORKSPACE_STATE,o.ZW.CLEAR_ERROR,o.ZW.RESET_TO_DRAWING,o.ZW.COMPLETE_STARTUP,o.ZW.REMOVE_WIDGET_STATE,o.ZW.SET_LOADING_FLAG,o.ZW.APPLY_WORKSPACE_DATA]),o.nE.STARTUP_VALIDATION,o.nE.STARTUP_VALIDATION,o.nE.EXPORT_FORM,o.nE.WORKSPACE_SELECTION,o.nE.WORKSPACE_SELECTION,o.nE.INITIAL,o.nE.EXPORT_OPTIONS,o.nE.INITIAL,o.nE.ORDER_RESULT,o.nE.INITIAL,o.nE.DRAWING,o.nE.INITIAL,o.nE.INITIAL,o.nE.INITIAL,Object.freeze({modules:!1,submission:!1,workspaces:!1,parameters:!1,geometryValidation:!1}),Object.freeze(["esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/geometry/geometryEngine","esri/geometry/geometryEngineAsync","esri/geometry/support/webMercatorUtils","esri/geometry/projection","esri/geometry/SpatialReference","esri/geometry/support/normalizeUtils","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic"]);const n=Object.freeze(["esriRequest","esriConfig","projection","webMercatorUtils","SpatialReference"]),i=Object.freeze({esriRequest:()=>Promise.resolve({data:null}),esriConfig:{request:{maxUrlLength:4e3,interceptors:[]}},projection:{},webMercatorUtils:{},SpatialReference:()=>({})}),a=(Object.freeze({title:"",listMode:"hide",elevationInfo:{mode:"on-the-ground"}}),"#0079C1"),l=2,c=.25,u=(Object.freeze([{value:o.hL.POLYGON,label:"optPolygon",icon:"polygon",tooltip:"tipDrawPolygon",hideLabel:!0},{value:o.hL.RECTANGLE,label:"optRectangle",icon:"rectangle",tooltip:"tipDrawRectangle",hideLabel:!0}]),Object.freeze({WGS84:4326,WEB_MERCATOR:3857}),Object.freeze({M2_PER_KM2:1e6,AREA_DECIMALS:2,METERS_PER_KILOMETER:1e3,SQUARE_FEET_PER_SQUARE_MILE:27878400,VERTICES_PER_MS_ESTIMATE:100})),d=(Object.freeze([{factor:.3048,label:"ft\xb2",keywords:["foot","feet"],largeUnit:{threshold:u.SQUARE_FEET_PER_SQUARE_MILE,factor:u.SQUARE_FEET_PER_SQUARE_MILE,label:"mi\xb2"}},{factor:.3048006096,label:"ft\xb2",keywords:[]},{factor:1609.344,label:"mi\xb2",keywords:["mile"]},{factor:u.METERS_PER_KILOMETER,label:"km\xb2",keywords:["kilometer"]},{factor:.9144,label:"yd\xb2",keywords:["yard"]},{factor:.0254,label:"in\xb2",keywords:["inch"]},{factor:.01,label:"cm\xb2",keywords:["centimeter"]},{factor:.001,label:"mm\xb2",keywords:["millimeter"]},{factor:1852,label:"nm\xb2",keywords:["nautical"]},{factor:1,label:"m\xb2",keywords:["meter"]}]),Object.freeze({BASE_PATH:"/fmeapiv4",MAX_URL_LENGTH:4e3,WEBHOOK_EXCLUDE_KEYS:[],WEBHOOK_LOG_WHITELIST:Object.freeze(["opt_responseformat","opt_showresult","opt_servicemode"]),JOB_RESULT_POLL_INTERVAL_MS:2e3,JOB_RESULT_MAX_WAIT_MS:3e5,JOB_RESULT_LONG_POLL_INTERVAL_SEC:10,TEMP_RESOURCE_CONNECTION:"Temp"})),p=/\/(?:fmedatadownload|fmedataupload|fmeapiv4)\b/i,h=(Object.freeze(["sync","async"]),Object.freeze(["tm_ttc","tm_ttl","tm_tag"])),f=(Object.freeze(["tm_ttc","tm_ttl"]),Object.freeze({text:"TEXT",string:"STRING",text_edit:"TEXT_EDIT",textedit:"TEXT_EDIT",textarea:"TEXT_EDIT",password:"PASSWORD",url:"URL",integer:"INTEGER",int:"INTEGER",float:"FLOAT",number:"FLOAT",decimal:"FLOAT",boolean:"BOOLEAN",bool:"BOOLEAN",checkbox:"CHECKBOX",choice:"CHOICE",dropdown:"CHOICE",select:"CHOICE",listbox:"LISTBOX",lookup_choice:"LOOKUP_CHOICE",lookup_listbox:"LOOKUP_LISTBOX",tree:"SCRIPTED",range:"RANGE_SLIDER",filename:"FILENAME",file:"FILENAME",filename_mustexist:"FILENAME_MUSTEXIST",dirname:"DIRNAME",directory:"DIRNAME",dirname_mustexist:"DIRNAME_MUSTEXIST",dirname_src:"DIRNAME_SRC",lookup_file:"LOOKUP_FILE",date:"DATE",time:"TIME",datetime:"DATETIME",date_time:"DATE_TIME",month:"MONTH",week:"WEEK",color:"COLOR",colour:"COLOR",color_pick:"COLOR_PICK",colorpick:"COLOR_PICK",coordsys:"COORDSYS",coordinate_system:"COORDSYS",geometry:"GEOMETRY",message:"MESSAGE",range_slider:"RANGE_SLIDER",slider:"RANGE_SLIDER",text_or_file:"TEXT_OR_FILE",attribute_name:"ATTRIBUTE_NAME",attribute_list:"ATTRIBUTE_LIST",db_connection:"DB_CONNECTION",web_connection:"WEB_CONNECTION",reprojection_file:"REPROJECTION_FILE",scripted:"SCRIPTED",group:"GROUP"})),m=Object.freeze(["opt_servicemode","opt_responseformat","opt_showresult","opt_requesteremail"]),g=(Object.freeze([...d.WEBHOOK_EXCLUDE_KEYS,...h]),new Set([...h,...m]),"_"),E=(Object.freeze([]),Object.freeze({DEFAULT_CHUNK_SIZE:5,MIN_CHUNK_SIZE:1,MAX_CHUNK_SIZE:15}),Object.freeze(new Set(["MAXX","MINX","MAXY","MINY","AreaOfInterest","AREA","ExtentGeoJson","tm_ttc","tm_ttl","tm_tag"])),Object.freeze(new Set([o.QL.NOVALUE,o.QL.GROUP,o.QL.group])),Object.freeze(new Set([o.QL.DB_CONNECTION,o.QL.WEB_CONNECTION,o.QL.ATTRIBUTE_NAME,o.QL.ATTRIBUTE_LIST,o.QL.COORDSYS,o.QL.REPROJECTION_FILE])),Object.freeze(new Set([o.QL.LISTBOX,o.QL.LOOKUP_LISTBOX,o.QL.ATTRIBUTE_LIST,o.QL.listbox])),Object.freeze({[o.QL.text]:o.Vw.TEXT,[o.QL.number]:o.Vw.NUMBER,[o.QL.checkbox]:o.Vw.CHECKBOX,[o.QL.dropdown]:o.Vw.RADIO,[o.QL.listbox]:o.Vw.MULTI_SELECT,[o.QL.tree]:o.Vw.SELECT,[o.QL.password]:o.Vw.PASSWORD,[o.QL.datetime]:o.Vw.DATE_TIME,[o.QL.message]:o.Vw.MESSAGE,[o.QL.group]:o.Vw.HIDDEN,[o.QL.file]:o.Vw.FILE,[o.QL.color]:o.Vw.COLOR,[o.QL.range]:o.Vw.SLIDER,[o.QL.FLOAT]:o.Vw.NUMERIC_INPUT,[o.QL.INTEGER]:o.Vw.NUMBER,[o.QL.TEXT_EDIT]:o.Vw.TEXTAREA,[o.QL.PASSWORD]:o.Vw.PASSWORD,[o.QL.BOOLEAN]:o.Vw.SWITCH,[o.QL.CHECKBOX]:o.Vw.SWITCH,[o.QL.CHOICE]:o.Vw.RADIO,[o.QL.LOOKUP_CHOICE]:o.Vw.RADIO,[o.QL.LISTBOX]:o.Vw.MULTI_SELECT,[o.QL.LOOKUP_LISTBOX]:o.Vw.MULTI_SELECT,[o.QL.FILENAME]:o.Vw.FILE,[o.QL.FILENAME_MUSTEXIST]:o.Vw.FILE,[o.QL.DIRNAME]:o.Vw.FILE,[o.QL.DIRNAME_MUSTEXIST]:o.Vw.FILE,[o.QL.DIRNAME_SRC]:o.Vw.FILE,[o.QL.DATE_TIME]:o.Vw.DATE_TIME,[o.QL.DATETIME]:o.Vw.DATE_TIME,[o.QL.URL]:o.Vw.URL,[o.QL.LOOKUP_URL]:o.Vw.URL,[o.QL.LOOKUP_FILE]:o.Vw.FILE,[o.QL.DATE]:o.Vw.DATE,[o.QL.TIME]:o.Vw.TIME,[o.QL.MONTH]:o.Vw.MONTH,[o.QL.WEEK]:o.Vw.WEEK,[o.QL.COLOR]:o.Vw.COLOR,[o.QL.COLOR_PICK]:o.Vw.COLOR,[o.QL.RANGE_SLIDER]:o.Vw.SLIDER,[o.QL.MESSAGE]:o.Vw.MESSAGE,[o.QL.TEXT_OR_FILE]:o.Vw.TEXT_OR_FILE,[o.QL.REPROJECTION_FILE]:o.Vw.REPROJECTION_FILE,[o.QL.COORDSYS]:o.Vw.COORDSYS,[o.QL.ATTRIBUTE_NAME]:o.Vw.ATTRIBUTE_NAME,[o.QL.ATTRIBUTE_LIST]:o.Vw.ATTRIBUTE_LIST,[o.QL.DB_CONNECTION]:o.Vw.DB_CONNECTION,[o.QL.WEB_CONNECTION]:o.Vw.WEB_CONNECTION,[o.QL.SCRIPTED]:o.Vw.SCRIPTED}),Object.freeze({FLOAT:"number",INTEGER:"number",BOOLEAN:"boolean",STRING:"text",TEXT:"text"}),Object.freeze(["no slider","noslider","without slider"]),Object.freeze(["FILENAME","FILENAME_MUSTEXIST","DIRNAME","DIRNAME_MUSTEXIST","DIRNAME_SRC","LOOKUP_FILE","REPROJECTION_FILE"]),Object.freeze({DEFAULT_MAX_SIZE_MB:150,ONE_MB_IN_BYTES:1048576,GEOMETRY_PREVIEW_MAX_LENGTH:1500,MAX_FILENAME_LENGTH:128,MAX_NAMESPACE_LENGTH:64,DEFAULT_ALLOWED_EXTENSIONS:Object.freeze([".zip",".kmz",".json",".geojson",".gml"]),DEFAULT_ALLOWED_MIME_TYPES:Object.freeze(new Set(["application/zip","application/x-zip-compressed","application/vnd.google-earth.kmz","application/json","application/geo+json","application/gml+xml","text/plain",""].map((e=>e.toLowerCase())))),FILE_DISPLAY_KEYS:Object.freeze(["text","path","location","value","dataset","defaultValue","fileName","filename","file_path","file","uri","url","name"])})),y=(new Set(["SELECT","COORDSYS","ATTRIBUTE_NAME","DB_CONNECTION","WEB_CONNECTION","REPROJECTION_FILE"]),new Set(["MULTI_SELECT","ATTRIBUTE_LIST"]),Object.freeze({TEXT:"text",FILE:"file"}),Object.freeze(["text","email","tel","search","password","number"]),Object.freeze({email:"phEmail",phone:"phPhone",search:"phSearch"}),Object.freeze({MAX_TEXT_LENGTH:5e3,IPV4_OCTET_MAX:255,IPV4_OCTET_MIN:0,MAX_GEOMETRY_VERTICES:5e3,SLIDER_DEFAULT_MAX:100,RGB_MAX:255,RGB_MIN:0}),Object.freeze({VALIDATION:{DEFAULT_TTL_VALUE:"",DEFAULT_TTC_VALUE:""},LIMITS:{MAX_M2_CAP:1e10,MAX_REQUEST_TIMEOUT_MS:6e5},DIRECTIVES:{DESCRIPTION_MAX:512,TAG_MAX:128},COLORS:{BACKGROUND_DARK:"#181818"},TEXT:{LARGE_AREA_MESSAGE_MAX:200}})),v=(Object.freeze(["fmeServerUrl","fmeServerToken","repository"]),/^[^\s@]{1,64}@[^\s@]{1,253}\.[^\s@]{2,63}$/),b=/\baborted?\b/i,S=Object.freeze(new Set(["AbortError","ABORT_ERR","ERR_ABORTED"])),R=Object.freeze({OK:200,ACCEPTED:202,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,BAD_REQUEST:400,TIMEOUT:408,GATEWAY_TIMEOUT:504,TOO_MANY_REQUESTS:429,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,NETWORK_ERROR:0,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599}),T=Object.freeze({SUCCESS_MIN:200,SUCCESS_MAX:399,CLIENT_ERROR_MIN:400,CLIENT_ERROR_MAX:499,SERVER_ERROR_MIN:500,SERVER_ERROR_MAX:599,MIN_VALID:100,MAX_VALID:599}),O=e=>"number"==typeof e&&e>=T.SUCCESS_MIN&&e<=T.SUCCESS_MAX,w=e=>"number"==typeof e&&e>=T.MIN_VALID&&e<=T.MAX_VALID,I=e=>!e||e<T.MIN_VALID||(!!(e=>"number"==typeof e&&e>=T.SERVER_ERROR_MIN)(e)||(e===R.TIMEOUT||e===R.TOO_MANY_REQUESTS)),A=Object.freeze({MAX_HISTORY_SIZE:100,API_QUERY_LIMIT:500,RANDOM_ID_LENGTH:8,MAX_RETRY_ATTEMPTS:3,MAX_CONCURRENT_PREFETCH:6}),_=Object.freeze({enabled:!0,logLevel:"debug",bodyPreviewLimit:1024,warnSlowMs:1e3}),C=Object.freeze(["failed to fetch","networkerror","net::","dns","enotfound","econnrefused","timeout","name or service not known","err_name_not_resolved","unable to load","/sharing/proxy","proxy"]),L=Object.freeze(["unable to load","/sharing/proxy","proxy"]),M=(Object.freeze(["localhost",".localhost",".local",".internal",".intranet",".home",".lan",".localdomain"]),Object.freeze([{start:[10,0,0,0],end:[10,255,255,255]},{start:[100,64,0,0],end:[100,127,255,255]},{start:[127,0,0,0],end:[127,255,255,255]},{start:[169,254,0,0],end:[169,254,255,255]},{start:[172,16,0,0],end:[172,31,255,255]},{start:[192,168,0,0],end:[192,168,255,255]},{start:[0,0,0,0],end:[0,255,255,255]}]),Object.freeze(["token","auth","secret","key","password"])),x=/authorization="?[^"]+"?/gi,k=/(token|fmetoken)=([^&\s]+)/gi,N=10,P=Object.freeze({SECOND:1e3,MINUTE:6e4,FIVE_MINUTES:3e5,TEN_MINUTES:6e5,MAX_RESPONSE_TIME:3e5,SLOW_REQUEST_THRESHOLD:1e3,DEBOUNCE_VALIDATION_MS:300,AUTO_DOWNLOAD_DELAY_MS:150,POPUP_CLOSE_DELAY_MS:100,BLOB_URL_CLEANUP_DELAY_MS:12e4,STARTUP_TIMEOUT_MS:15e3,MIN_LOADING_DELAY_MS:1e3}),D=Object.freeze({OPACITY_SCALE_FACTOR:100,OUTLINE_WIDTH_SLIDER_MIN:0,OUTLINE_WIDTH_SLIDER_MAX:10,OUTLINE_WIDTH_MIN:.1,OUTLINE_WIDTH_MAX:5,OUTLINE_WIDTH_INCREMENT:.5,OUTLINE_WIDTH_PRECISION:10,AREA_INPUT_STEP:1e3,PERCENT_SLIDER_MAX:100,ICON_SIZE_SMALL:16,ICON_SIZE_MEDIUM:18,ICON_SIZE_LARGE:24,LOADING_SPINNER_SIZE:32}),U=Object.freeze({DELAY_ENTER_MS:500,DELAY_NEXT_MS:300,DELAY_LEAVE_MS:300,DELAY_TOUCH_MS:700}),j=Object.freeze({DELAY_MS:1e3,DETAIL_DELAY_MS:2e3,CYCLE_INTERVAL_MS:4e3}),F=(Object.freeze({TO_ACTIVE:{fromStates:[s.WidgetState.Closed,s.WidgetState.Hidden],toStates:[s.WidgetState.Opened,s.WidgetState.Active]},TO_INACTIVE:{fromStates:[s.WidgetState.Opened,s.WidgetState.Active],toStates:[s.WidgetState.Closed,s.WidgetState.Hidden]},TO_CLOSED:{fromStates:[s.WidgetState.Opened,s.WidgetState.Active],toStates:[s.WidgetState.Closed]},FROM_CLOSED:{fromStates:[s.WidgetState.Closed],toStates:[s.WidgetState.Opened,s.WidgetState.Active]}}),Object.freeze({error:"error.svg",map:"map.svg",polygon:"polygon.svg",rectangle:"rectangle.svg",warning:"warning.svg","person-lock":"person-lock.svg",folder:"folder.svg",data:"data.svg","shared-no":"shared-no.svg","feature-service":"feature-service.svg","link-tilted":"link-tilted.svg",time:"time.svg",setting:"setting.svg",email:"email.svg",info:"info.svg",success:"success.svg"}),Object.freeze({warning:"warning",error:"error",info:"info",success:"success"}),Object.freeze({GEOMETRY_SERIALIZATION_FAILED:"polygon",MAP_MODULES_LOAD_FAILED:"map",FORM_INVALID:"warning"}),Object.freeze([{token:"GEOMETRY",icon:"polygon"},{token:"AREA",icon:"polygon"},{token:"MAP",icon:"map"},{token:"MODULE",icon:"map"},{token:"FORM",icon:"warning"},{token:"TOKEN",icon:"person-lock"},{token:"AUTH",icon:"person-lock"},{token:"REPOSITORY",icon:"folder"},{token:"REPO",icon:"folder"},{token:"DATA",icon:"data"},{token:"NETWORK",icon:"shared-no"},{token:"OFFLINE",icon:"shared-no"},{token:"CONNECTION",icon:"shared-no"},{token:"REQUEST",icon:"shared-no"},{token:"SERVER",icon:"feature-service"},{token:"GATEWAY",icon:"feature-service"},{token:"URL",icon:"link-tilted"},{token:"TIMEOUT",icon:"time"},{token:"CONFIG",icon:"setting"},{token:"EMAIL",icon:"email"}]),Object.freeze({CANCELLED_PROMISE:"CancelledPromiseError",ABORT:"AbortError"}),Object.freeze([{pattern:/timeout/i,key:"requestTimedOut"},{pattern:/cors/i,key:"corsBlocked"},{pattern:/url.*too/i,key:"urlTooLongMessage"},{pattern:/remote_dataset_workspace_required/i,key:"REMOTE_DATASET_WORKSPACE_REQUIRED"}])),W=Object.freeze({codeToKey:{INVALID_RESPONSE_FORMAT:"errorTokenIssue",WEBHOOK_AUTH_ERROR:"errorTokenIssue",WEBHOOK_TIMEOUT:"requestTimedOut",REPOSITORIES_ERROR:"errorRepositoryAccess",REPOSITORY_ITEMS_ERROR:"errorRepositoryAccess",JOB_SUBMISSION_ERROR:"errorJobSubmission",INVALID_CONFIG:"errorSetupRequired",CONFIG_INCOMPLETE:"errorSetupRequired",configMissing:"errorSetupRequired",HTTPS_REQUIRED:"require_https",INVALID_REQUEST_URL:"invalid_url",GEOMETRY_MISSING:"geometryMissingCode",GEOMETRY_TYPE_INVALID:"geometryTypeInvalidCode",GEOMETRY_SERIALIZATION_FAILED:"geometrySerializationFailedCode",URL_TOO_LONG:"urlTooLongMessage",WEBHOOK_URL_TOO_LONG:"urlTooLongMessage",PARAMETER_VALIDATION_ERROR:"errorParameterValidation",WORKSPACE_PARAMETERS_ERROR:"errorWorkspaceParameters"},statusToKey:{401:"errorTokenIssue",408:"requestTimedOut",429:"rateLimitExceeded",431:"headersTooLargeMessage"},messagePatterns:F}),q={require_https:"require_https",no_query_or_hash:"invalid_url",invalid_url:"invalid_url"},B=Object.freeze(["status","statusCode","httpStatus"]),V=(Object.freeze({ERROR:3,WARNING:2,INFO:1}),Object.freeze({general:0,export:1,import:2}),Object.freeze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),320),G=Object.freeze(["message","error","detail","description","reason","text"]),H=(Object.freeze({success:"color: #28a745; font-weight: bold",info:"color: #007bff; font-weight: bold",warn:"color: #ffc107; font-weight: bold",error:"color: #dc3545; font-weight: bold",action:"color: #0078d4; font-weight: bold"}),Object.freeze({MIN_YEAR:2020,MAX_YEAR:2100,MAX_MINOR_VERSION:100})),z=Object.freeze({DJB2_INITIAL:5381});Object.freeze({MAX_WINDOW_HIERARCHY_ITERATIONS:100})},3128:(e,t,r)=>{"use strict";r.d(t,{$W:()=>i,EC:()=>u,MN:()=>c});var s=r(9244),o=r(1888),n=r(3096);const i={icon:{small:n.EW.ICON_SIZE_SMALL,medium:n.EW.ICON_SIZE_MEDIUM,large:n.EW.ICON_SIZE_LARGE},tooltip:{delay:{enter:n.j2.DELAY_ENTER_MS,next:n.j2.DELAY_NEXT_MS,leave:n.j2.DELAY_LEAVE_MS,touch:n.j2.DELAY_TOUCH_MS},position:{top:"top",bottom:"bottom",left:"left",right:"right"},showArrow:!0},button:{defaults:{block:!0,tooltipPosition:"top"},offset:"10px",textPadding:"18px"},zIndex:{selectMenu:1005,overlay:1e3},loading:{width:n.EW.LOADING_SPINNER_SIZE,height:n.EW.LOADING_SPINNER_SIZE,delay:n.P9.DELAY_MS,detailDelay:n.P9.DETAIL_DELAY_MS,cycleInterval:n.P9.CYCLE_INTERVAL_MS},required:"*"},a=e=>({fontFamily:e?.fontFamily,fontWeight:e?.fontWeight?.toString(),fontSize:e?.fontSize,fontStyle:e?.fontStyle,lineHeight:e?.lineHeight,color:e?.color}),l=(e,t={})=>(0,s.css)({display:"inline"===e?"inline-flex":"flex",flexFlow:"column"===e?"column nowrap":"inline"===e?"row wrap":void 0,...t}),c=()=>(e=>{const t=e.sys.spacing,r=e.sys.color,o=e.sys.typography,n=t?.(2),c="1 1 auto";return{row:l("row",{gap:n}),buttonGroup:l("column",{inlineSize:"100%",gap:n}),fullWidth:l("column",{inlineSize:"100%",flex:c,minInlineSize:0}),relative:(0,s.css)({position:"relative"}),rowAlignCenter:(0,s.css)({alignItems:"center"}),disabledPicker:l("row",{pointerEvents:"none"}),textareaResize:(0,s.css)({resize:"vertical"}),parent:l("column",{overflowY:"auto",blockSize:"100%",position:"relative",gap:n,padding:t?.(1),backgroundColor:r?.surface?.paper}),header:l("row",{alignItems:"center",justifyContent:"flex-end",gap:n,marginBlockEnd:t?.(2)}),headerAlert:(0,s.css)({marginInlineEnd:"auto",display:"flex",alignItems:"center"}),content:l("column",{flex:c,minBlockSize:0,gap:n}),centered:l("column",{placeContent:"center",alignItems:"center",textAlign:"center",flex:c,minBlockSize:0,gap:n}),loadingText:(0,s.css)({}),loadingSpinner:(0,s.css)({"& .donut-loading":{top:"60% !important"}}),overlay:(0,s.css)({position:"absolute",inset:"50% auto auto 50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:i.zIndex.overlay}),alert:(0,s.css)({width:"100% !important"}),alertInline:(0,s.css)({opacity:.8}),alertContent:l("row",{alignItems:"flex-start",gap:n}),alertMessage:(0,s.css)({flex:c,...a(o?.label2)}),alertIcon:(0,s.css)({display:"inline-flex",alignItems:"center",justifyContent:"center",flex:"0 0 auto"}),typo:{caption:(0,s.css)({...a(o?.body1),marginBlockEnd:t?.(3)}),label:(0,s.css)({...a(o?.label1),fontWeight:"400",marginBlockEnd:0}),title:(0,s.css)({...a(o?.title1),margin:`${t?.(1)} 0`}),instruction:(0,s.css)({textAlign:"center",...a(o?.body1),margin:`${t?.(3)} 0`}),link:(0,s.css)({...a(o?.body1),color:r?.action.link?.default,textDecoration:"underline",wordBreak:"break-all","&:hover":{color:r?.action.link?.hover,textDecoration:"underline"}}),loadingMessage:(0,s.css)({...a(o?.label2)}),required:(0,s.css)({marginInlineStart:t?.(1)}),hint:(0,s.css)({...a(o?.label3),marginBlockStart:t?.(1)}),errorMessage:(0,s.css)({...a(o?.label3),color:r?.error?.main,marginBlockStart:t?.(1)})},btn:{flex:(0,s.css)({flex:c}),group:l("column",{inlineSize:"100%",gap:n}),text:e=>(0,s.css)({flex:c,textAlign:e||"start",paddingInlineEnd:i.button.textPadding}),icon:(0,s.css)({position:"absolute",zIndex:1,insetBlockStart:"50%",insetInlineEnd:i.button.offset,transform:"translateY(-50%)"})},form:{layout:l("column",{flex:c,minBlockSize:0,gap:n}),header:(0,s.css)({flex:"0 0 auto"}),sliderField:l("row",{alignItems:"center",width:"100%",gap:n}),sliderValue:(0,s.css)({...a(o?.label2),textAlign:"center"}),content:l("column",{flex:c,gap:n}),body:l("column",{flex:c,gap:n,overflowY:"auto"}),footer:l("column",{flex:"0 0 auto",gap:n})},field:(0,s.css)({marginBlockEnd:t?.(3)}),checkLabel:l("row",{alignItems:"center",justifyContent:"space-between",inlineSize:"100%"}),selection:{container:l("column",{flex:c,gap:n,minBlockSize:0}),warning:(0,s.css)({marginBlockStart:"auto"}),message:(0,s.css)({marginBlockStart:"auto",...a(o?.body2)})},tooltipWrap:{block:l("row",{inlineSize:"100%",minInlineSize:0}),inline:l("inline",{minInlineSize:0}),anchor:l("row",{flex:c,minInlineSize:0,"& > *":{flex:c,minInlineSize:0}})},stateView:{frame:l("column",{inlineSize:"100%",blockSize:"100%",minBlockSize:0}),error:l("column",{flex:c,inlineSize:"100%",blockSize:"100%",minBlockSize:0,gap:n,alignItems:"stretch"}),errorContent:l("column",{gap:n,flex:"1 1 auto",justifyContent:"center"}),errorIcon:(0,s.css)({marginBlockEnd:t?.(2)??0}),errorActions:(0,s.css)({inlineSize:"100%",marginBlockStart:"auto",alignSelf:"stretch"}),infoLine:(0,s.css)({marginBlockEnd:t?.(2)??0})}}})((0,o.useTheme)()),u=()=>(e=>{const t=e?.sys?.spacing,r=e?.sys?.color,o=e?.sys?.typography;return{row:(0,s.css)({width:"100%"}),alertInline:(0,s.css)({opacity:.8}),labelWithButton:(0,s.css)({display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:t?.(1)}),labelText:(0,s.css)({marginInlineStart:t?.(1)}),fieldStatus:(0,s.css)({display:"flex",alignItems:"center",gap:t?.(1),opacity:.85}),fieldStatusText:(0,s.css)({...a(o?.label2)}),status:{container:(0,s.css)({width:"100%",display:"flex",flexDirection:"column"}),list:(0,s.css)({display:"grid",...a(o?.label2),opacity:.8,padding:6}),row:(0,s.css)({display:"flex",justifyContent:"space-between",lineHeight:2}),labelGroup:(0,s.css)({display:"flex",alignItems:"center"}),color:{ok:(0,s.css)({color:r?.success?.main}),fail:(0,s.css)({color:r?.error?.main}),skip:(0,s.css)({color:r?.warning?.main}),pending:(0,s.css)({color:r?.info?.main})}}}})((0,o.useTheme)())},3314:(e,t,r)=>{"use strict";r.d(t,{LHE:()=>o.LH,hsD:()=>g.hs,c$7:()=>g.c$,x8C:()=>n.x8,ZsG:()=>n.Zs,MbC:()=>g.Mb,dBM:()=>g.dB,PEb:()=>o.PE,$j5:()=>g.$j,o44:()=>a.o4,SP$:()=>o.SP,xik:()=>o.xi,kzc:()=>o.kz,m4N:()=>g.m4,zfx:()=>i.zf,eF2:()=>s.eF,w$k:()=>s.w$,ps9:()=>p,fAF:()=>i.fA,qmZ:()=>g.qm,QKA:()=>s.QK,Lzq:()=>a.Lz,lHd:()=>g.lH,I0Z:()=>o.I0,yCG:()=>g.yC,Eam:()=>s.E,NhG:()=>n.Nh,RMY:()=>o.RM,Dr1:()=>s.Dr,P6s:()=>s.P6,wKo:()=>s.wK,NnH:()=>s.Nn,BvY:()=>s.Bv,isj:()=>n.is,qpp:()=>E.qp});r(5880);var s=r(4986),o=r(1181),n=(r(1618),r(6920)),i=r(1138),a=r(3040),l=r(9244);const c=e=>null!=e&&"object"==typeof e,u=new Map,d=e=>e?.default??e;async function p(e){if(!Array.isArray(e)||!e.length)return[];const t=globalThis?.__ESRI_TEST_STUB__;if("function"==typeof t)return t(e);const s=e.filter((e=>"string"==typeof e&&e.length>0));if(!s.length)return[];const o=JSON.stringify(s),n=u.get(o);if(n)return n;const i=(async()=>{try{const e=await Promise.resolve().then(r.bind(r,2686)),t=e?.loadArcGISJSAPIModules;if("function"!=typeof t)throw new Error("ARCGIS_MODULE_ERROR");return(await t(s)||[]).map(d)}catch(e){throw u.delete(o),console.log("Critical: Failed to load jimu-arcgis module",e),new Error("ARCGIS_MODULE_ERROR")}})();return u.set(o,i),i}const h=(e,t)=>{try{if(e&&"function"==typeof e.closePopup)return void e.closePopup();t&&c(t)&&"function"==typeof t.close&&t.close()}catch{}},f=(e,t)=>{if(!e||!c(e))return null;const r=e,s="boolean"==typeof r.autoOpenEnabled?r.autoOpenEnabled:void 0;h(t,e);try{r.autoOpenEnabled=!1}catch{}let o=null;if("function"==typeof r.watch)try{o=r.watch("visible",(r=>{r&&h(t,e)}))}catch{}return{popup:e,view:t||null,handle:o,prevAutoOpen:s}},m=e=>{if(e){try{e.handle?.remove?.()}catch{}(e=>{const t=e.popup;if(!c(t))return;const r=t;try{const t="boolean"!=typeof e.prevAutoOpen||e.prevAutoOpen;r.autoOpenEnabled=t}catch{}})(e)}};new class{constructor(){this.record=null,this.owners=new Set}acquire(e,t,r){if(!t)return void this.release(e);const s=this.record?.popup;if(!s||s!==t){this.teardown(),this.owners.clear();const e=f(t,r);if(!e)return;this.record=e}this.owners.add(e)}release(e){this.owners.delete(e)&&0===this.owners.size&&this.teardown()}releaseAll(){(0!==this.owners.size||this.record)&&(this.owners.clear(),this.teardown())}teardown(){this.record&&(m(this.record),this.record=null)}};var g=r(930);l.WidgetState.Closed,l.WidgetState.Hidden,l.WidgetState.Opened,l.WidgetState.Active,l.WidgetState.Opened,l.WidgetState.Active,l.WidgetState.Closed,l.WidgetState.Hidden,l.WidgetState.Opened,l.WidgetState.Active,l.WidgetState.Closed,l.WidgetState.Closed,l.WidgetState.Opened,l.WidgetState.Active;r(3890);var E=r(2242)},3417:(e,t,r)=>{"use strict";r.d(t,{$W:()=>i.$W,Bd:()=>o.Bd,By:()=>s.By,EC:()=>i.EC,EW:()=>o.EW,MN:()=>i.MN,MU:()=>s.MU,OX:()=>s.OX,PS:()=>o.PS,QB:()=>o.QB,ST:()=>o.ST,VQ:()=>n.VQ,Ve:()=>o.Ve,Xw:()=>o.Xw,YN:()=>o.YN,Yw:()=>o.Yw,ZW:()=>s.ZW,_$:()=>o._$,bD:()=>o.bD,dv:()=>o.dv,eS:()=>o.eS,hL:()=>s.hL,jL:()=>o.jL,kR:()=>o.kR,nE:()=>s.nE,nu:()=>o.nu,rd:()=>o.rd,vA:()=>o.vA,xG:()=>o.xG,ym:()=>s.ym,zo:()=>o.zo});var s=r(6055),o=r(3096),n=r(5132),i=r(3128)},3624:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},3744:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},3890:(e,t,r)=>{"use strict";r.d(t,{$N:()=>l,$d:()=>h,B9:()=>u,Ko:()=>p,_Y:()=>i,dC:()=>a,e6:()=>f,k9:()=>d,qT:()=>n});var s=r(3417),o=r(3314);const n=e=>{const t=(0,o.yCG)(e||"");if(!t)return"";t.search="",t.hash="",t.username="",t.password="";const r="/"===t.pathname?"":t.pathname.replace(/\/$/,"");return`${t.origin}${r}`};function i(e,t){const r=(0,o.NnH)(e);if(!r)return{ok:!1,errorKey:"invalid_url"};const s=a(r,t);if(!s.ok){const e="reason"in s?s.reason:void 0;return{ok:!1,errorKey:l(e)}}return{ok:!0,normalized:n(r)||r}}function a(e,t){const r=(0,o.BvY)(e);if(!r)return{ok:!1,reason:"invalid_url"};try{const e=new URL(r),s=e.protocol.toLowerCase();if("http:"!==s&&"https:"!==s)return{ok:!1,reason:"invalid_url"};if(t?.requireHttps&&"https:"!==s)return{ok:!1,reason:"require_https"};if(e.username||e.password)return{ok:!1,reason:"invalid_url"};if(e.search||e.hash)return{ok:!1,reason:"no_query_or_hash"};if(e.hostname.endsWith("."))return{ok:!1,reason:"invalid_url"};if(t?.strict){const t=e.hostname||"";if(!t.includes(".")||t.length<4)return{ok:!1,reason:"invalid_url"}}return{ok:!0}}catch{return{ok:!1,reason:"invalid_url"}}}const l=e=>e&&s.zo[e]||"invalid_url",c=/^no[-_]?reply@/i,u=e=>!("string"!=typeof e||!e)&&(!c.test(e)&&s.Xw.test(e)),d=e=>{if(!e)return{ok:!1,key:"missingToken"};const t=e.length<s.Yw,r=/\s/.test(e),o=(e=>/\s/.test(e)||/[<>"'`]/.test(e)||(e=>{for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<32||127===r)return!0}return!1})(e))(e);return t||o?{ok:!1,key:r?"tokenWithWhitespace":"errorTokenIssue"}:{ok:!0}},p=e=>{if(!e||"object"!=typeof e)return;const t=e;for(const e of s.bD){const r=t[e];if((0,s.Bd)(r))return r}const r=t.details;if(r&&"object"==typeof r){const e=r,t=e.httpStatus??e.status;if((0,s.Bd)(t))return t}const n=(0,o.PEb)(e);if("string"==typeof n){const e=/status:\s*(\d{3})/i.exec(n);if(e){const t=parseInt(e[1],10);if((0,s.Bd)(t))return t}}},h=e=>{if(e&&"object"==typeof e){const t=e;if("boolean"==typeof t.isRetryable)return t.isRetryable}const t=p(e);return(0,s.PS)(t)},f=e=>{if(!e.serverUrl||!e.token||!e.repository)throw new Error("Missing required configuration")}},3930:(e,t,r)=>{"use strict";r.d(t,{I:()=>C});var s=r(9658),o=r(6261),n=r(9757),i=r(6500),a=r(4658),l=r(4880),c=r(2775),u=class extends i.Q{constructor(e,t){super(),this.options=t,this.#m=e,this.#g=null,this.#E=(0,a.T)(),this.bindMethods(),this.setOptions(t)}#m;#y=void 0;#v=void 0;#b=void 0;#S;#R;#E;#g;#T;#O;#w;#I;#A;#_;#C=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#y.addObserver(this),d(this.#y,this.options)?this.#L():this.updateResult(),this.#M())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p(this.#y,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p(this.#y,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#k(),this.#y.removeObserver(this)}setOptions(e){const t=this.options,r=this.#y;if(this.options=this.#m.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Eh)(this.options.enabled,this.#y))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#y.setOptions(this.options),t._defaulted&&!(0,l.f8)(this.options,t)&&this.#m.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#y,observer:this});const s=this.hasListeners();s&&h(this.#y,r,this.options,t)&&this.#L(),this.updateResult(),!s||this.#y===r&&(0,l.Eh)(this.options.enabled,this.#y)===(0,l.Eh)(t.enabled,this.#y)&&(0,l.d2)(this.options.staleTime,this.#y)===(0,l.d2)(t.staleTime,this.#y)||this.#P();const o=this.#D();!s||this.#y===r&&(0,l.Eh)(this.options.enabled,this.#y)===(0,l.Eh)(t.enabled,this.#y)&&o===this.#_||this.#U(o)}getOptimisticResult(e){const t=this.#m.getQueryCache().build(this.#m,e),r=this.createResult(t,e);return function(e,t){if(!(0,l.f8)(e.getCurrentResult(),t))return!0;return!1}(this,r)&&(this.#b=r,this.#R=this.options,this.#S=this.#y.state),r}getCurrentResult(){return this.#b}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"!==r||this.options.experimental_prefetchInRender||"pending"!==this.#E.status||this.#E.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,r))})}trackProp(e){this.#C.add(e)}getCurrentQuery(){return this.#y}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#m.defaultQueryOptions(e),r=this.#m.getQueryCache().build(this.#m,t);return r.fetch().then((()=>this.createResult(r,t)))}fetch(e){return this.#L({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#b)))}#L(e){this.#N();let t=this.#y.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.lQ)),t}#P(){this.#x();const e=(0,l.d2)(this.options.staleTime,this.#y);if(l.S$||this.#b.isStale||!(0,l.gn)(e))return;const t=(0,l.j3)(this.#b.dataUpdatedAt,e)+1;this.#I=c.zs.setTimeout((()=>{this.#b.isStale||this.updateResult()}),t)}#D(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#y):this.options.refetchInterval)??!1}#U(e){this.#k(),this.#_=e,!l.S$&&!1!==(0,l.Eh)(this.options.enabled,this.#y)&&(0,l.gn)(this.#_)&&0!==this.#_&&(this.#A=c.zs.setInterval((()=>{(this.options.refetchIntervalInBackground||s.m.isFocused())&&this.#L()}),this.#_))}#M(){this.#P(),this.#U(this.#D())}#x(){this.#I&&(c.zs.clearTimeout(this.#I),this.#I=void 0)}#k(){this.#A&&(c.zs.clearInterval(this.#A),this.#A=void 0)}createResult(e,t){const r=this.#y,s=this.options,o=this.#b,i=this.#S,c=this.#R,u=e!==r?e.state:this.#v,{state:p}=e;let m,g={...p},E=!1;if(t._optimisticResults){const o=this.hasListeners(),i=!o&&d(e,t),a=o&&h(e,r,t,s);(i||a)&&(g={...g,...(0,n.k)(p.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:b}=g;m=g.data;let S=!1;if(void 0!==t.placeholderData&&void 0===m&&"pending"===b){let e;o?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(e=o.data,S=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#w?.state.data,this.#w):t.placeholderData,void 0!==e&&(b="success",m=(0,l.pl)(o?.data,e,t),E=!0)}if(t.select&&void 0!==m&&!S)if(o&&m===i?.data&&t.select===this.#T)m=this.#O;else try{this.#T=t.select,m=t.select(m),m=(0,l.pl)(o?.data,m,t),this.#O=m,this.#g=null}catch(e){this.#g=e}this.#g&&(y=this.#g,m=this.#O,v=Date.now(),b="error");const R="fetching"===g.fetchStatus,T="pending"===b,O="error"===b,w=T&&R,I=void 0!==m,A={status:b,fetchStatus:g.fetchStatus,isPending:T,isSuccess:"success"===b,isError:O,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:g.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>u.dataUpdateCount||g.errorUpdateCount>u.errorUpdateCount,isFetching:R,isRefetching:R&&!T,isLoadingError:O&&!I,isPaused:"paused"===g.fetchStatus,isPlaceholderData:E,isRefetchError:O&&I,isStale:f(e,t),refetch:this.refetch,promise:this.#E,isEnabled:!1!==(0,l.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===A.status?e.reject(A.error):void 0!==A.data&&e.resolve(A.data)},s=()=>{const e=this.#E=A.promise=(0,a.T)();t(e)},o=this.#E;switch(o.status){case"pending":e.queryHash===r.queryHash&&t(o);break;case"fulfilled":"error"!==A.status&&A.data===o.value||s();break;case"rejected":"error"===A.status&&A.error===o.reason||s()}}return A}updateResult(){const e=this.#b,t=this.createResult(this.#y,this.options);if(this.#S=this.#y.state,this.#R=this.options,void 0!==this.#S.data&&(this.#w=this.#y),(0,l.f8)(t,e))return;this.#b=t;this.#j({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#C.size)return!0;const s=new Set(r??this.#C);return this.options.throwOnError&&s.add("error"),Object.keys(this.#b).some((t=>{const r=t;return this.#b[r]!==e[r]&&s.has(r)}))})()})}#N(){const e=this.#m.getQueryCache().build(this.#m,this.options);if(e===this.#y)return;const t=this.#y;this.#y=e,this.#v=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#M()}#j(e){o.jG.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#b)})),this.#m.getQueryCache().notify({query:this.#y,type:"observerResultsUpdated"})}))}};function d(e,t){return function(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&p(e,t,t.refetchOnMount)}function p(e,t,r){if(!1!==(0,l.Eh)(t.enabled,e)&&"static"!==(0,l.d2)(t.staleTime,e)){const s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&f(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,l.Eh)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&e.isStaleByTime((0,l.d2)(t.staleTime,e))}var m=r(8972),g=r(7665);r(4848);function E(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var y=m.createContext(E()),v=()=>m.useContext(y),b=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},S=e=>{m.useEffect((()=>{e.clearReset()}),[e])},R=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(o&&void 0===e.data||(0,l.GU)(r,[e.error,s])),T=m.createContext(!1),O=()=>m.useContext(T),w=(T.Provider,e=>{if(e.suspense){const t=1e3,r=e=>"static"===e?e:Math.max(e??t,t),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>r(s(...e)):r(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}}),I=(e,t)=>e.isLoading&&e.isFetching&&!t,A=(e,t)=>e?.suspense&&t.isPending,_=(e,t,r)=>t.fetchOptimistic(e).catch((()=>{r.clearReset()}));function C(e,t){return function(e,t,r){const s=O(),n=v(),i=(0,g.jE)(r),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=s?"isRestoring":"optimistic",w(a),b(a,n),S(n);const c=!i.getQueryCache().get(a.queryHash),[u]=m.useState((()=>new t(i,a))),d=u.getOptimisticResult(a),p=!s&&!1!==e.subscribed;if(m.useSyncExternalStore(m.useCallback((e=>{const t=p?u.subscribe(o.jG.batchCalls(e)):l.lQ;return u.updateResult(),t}),[u,p]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),m.useEffect((()=>{u.setOptions(a)}),[a,u]),A(a,d))throw _(a,u,n);if(R({result:d,errorResetBoundary:n,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!l.S$&&I(d,s)){const e=c?_(a,u,n):i.getQueryCache().get(a.queryHash)?.promise;e?.catch(l.lQ).finally((()=>{u.updateResult()}))}return a.notifyOnChangeProps?d:u.trackResult(d)}(e,u,t)}},4321:e=>{"use strict";e.exports=o},4337:e=>{"use strict";e.exports=a},4658:(e,t,r)=>{"use strict";function s(){let e,t;const r=new Promise(((r,s)=>{e=r,t=s}));function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>s})},4712:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M1.333 0h4c.737 0 1.334.597 1.334 1.333v1.334h8C15.403 2.667 16 3.264 16 4v10.667c0 .736-.597 1.333-1.333 1.333H1.333A1.333 1.333 0 0 1 0 14.667V1.333C0 .597.597 0 1.333 0m0 7.333v7.334h13.334V7.333zm0-1.333h13.334V4H5.334V1.335h-4z" clip-rule="evenodd"></path></svg>'},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},4880:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>m,EN:()=>f,Eh:()=>u,F$:()=>h,GU:()=>_,MK:()=>d,S$:()=>o,ZM:()=>A,ZZ:()=>w,Zw:()=>i,d2:()=>c,f8:()=>y,gn:()=>a,hT:()=>I,j3:()=>l,lQ:()=>n,nJ:()=>p,pl:()=>T,y9:()=>O,yy:()=>R});var s=r(2775),o="undefined"==typeof window||"Deno"in globalThis;function n(){}function i(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function l(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t){return"function"==typeof e?e(t):e}function u(e,t){return"function"==typeof e?e(t):e}function d(e,t){const{type:r="all",exact:s,fetchStatus:o,predicate:n,queryKey:i,stale:a}=e;if(i)if(s){if(t.queryHash!==h(i,t.options))return!1}else if(!m(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!o||o===t.state.fetchStatus)&&!(n&&!n(t)))}function p(e,t){const{exact:r,status:s,predicate:o,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(f(t.options.mutationKey)!==f(n))return!1}else if(!m(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&!(o&&!o(t))}function h(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,((e,t)=>b(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function m(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((r=>m(e[r],t[r]))))}var g=Object.prototype.hasOwnProperty;function E(e,t){if(e===t)return e;const r=v(e)&&v(t);if(!(r||b(e)&&b(t)))return t;const s=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),n=o.length,i=r?new Array(n):{};let a=0;for(let l=0;l<n;l++){const n=r?l:o[l],c=e[n],u=t[n];if(c===u){i[n]=c,(r?l<s:g.call(e,n))&&a++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){i[n]=u;continue}const d=E(c,u);i[n]=d,d===c&&a++}return s===n&&a===s?e:i}function y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function v(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b(e){if(!S(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!S(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function S(e){return"[object Object]"===Object.prototype.toString.call(e)}function R(e){return new Promise((t=>{s.zs.setTimeout(t,e)}))}function T(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?E(e,t):t}function O(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function w(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var I=Symbol();function A(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==I?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function _(e,t){return"function"==typeof e?e(...t):!!e}},4965:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.986 1a6.99 6.99 0 0 1 5.723 2.969l-2.551-.938a.5.5 0 1 0-.345.938l4.228 1.555.163-.944.013-.005-.009-.019.6-3.471a.5.5 0 1 0-.985-.17l-.403 2.33A8 8 0 0 0 0 7.5c-.016.277.21.501.486.501a.53.53 0 0 0 .517-.5A7 7 0 0 1 7.986 1M8.015 15a6.99 6.99 0 0 1-5.724-2.969l2.551.938a.497.497 0 0 0 .642-.296.5.5 0 0 0-.297-.642L.96 10.476l-.163.944-.013.005.009.019-.6 3.471a.5.5 0 1 0 .985.17l.403-2.33A8 8 0 0 0 16 8.5a.477.477 0 0 0-.485-.501.53.53 0 0 0-.518.5A7 7 0 0 1 8.015 15"></path></svg>'},4986:(e,t,r)=>{"use strict";r.d(t,{Bv:()=>d,Dr:()=>E,E:()=>v,Gt:()=>b,N7:()=>y,Nn:()=>h,P6:()=>p,QK:()=>u,YH:()=>c,eF:()=>g,w$:()=>a,wK:()=>f});r(3096);const s=(e,t)=>{if("string"==typeof e){const r=e.trim();return r||t?.allowEmpty?r:t?.nullable?null:void 0}return t?.allowNumeric&&"number"==typeof e&&Number.isFinite(e)?String(e):t?.nullable?null:void 0},o=e=>"string"==typeof e,n=e=>"number"==typeof e,i=e=>"boolean"==typeof e,a=e=>"string"==typeof e||"number"==typeof e,l=e=>null===e,c=e=>o(e)&&e.trim().length>0,u=e=>o(e)?e.trim().toLowerCase():"",d=e=>h(e)??"",p=(e,t="")=>{const r=h(e);return r&&r.length>0?r:t},h=e=>s(e,{allowNumeric:!1}),f=e=>s(e,{allowNumeric:!0}),m=e=>n(e)&&Number.isFinite(e),g=e=>m(e)&&e>=0,E=e=>{if(i(e))return e;if(n(e)){if(!Number.isFinite(e))return;return 0!==e}const t=s(e,{allowNumeric:!1});if(!t)return;const r=t.toLowerCase();return!!["true","1","yes","y","on"].includes(r)||!["false","0","no","n","off"].includes(r)&&void 0},y=e=>{if(o(e))return e;if(n(e)||i(e))return String(e);if(void 0===e)return"undefined";if(l(e))return"null";if("object"==typeof e)try{return JSON.stringify(e)}catch{return Object.prototype.toString.call(e)}return Object.prototype.toString.call(e)},v=(e,t)=>(h(e)??"").replace(/[^A-Za-z0-9_\-]/g,"").trim()||t,b=(e,t)=>{if(!e||(o(r=e)||"function"!=typeof r?.[Symbol.iterator]))return[];var r;const s=[];let n=0;for(const r of e){const e=t(r,n++);null!=e&&s.push(e)}return s}},5009:(e,t,r)=>{"use strict";r.d(t,{conditionalLog:()=>o});r(9244),r(3417),r(5880),r(2238),r(1658),r(1181),r(930);let s=!1;const o=(...e)=>{s&&console.log(...e)}},5132:(e,t,r)=>{"use strict";r.d(t,{VQ:()=>o});var s=r(6055);class o extends Error{constructor(e,t,r,o,n=s.MU.ERROR,i){super(e),this.name="FmeFlowApiError",this.code=t,this.httpStatus=r,this.status=r,this.retryable=Boolean(o),this.isRetryable=this.retryable,this.severity=n,this.details=i?Object.freeze({...i}):void 0}}},5160:(e,t,r)=>{"use strict";var s=r(8972);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,i=s.useRef,a=s.useEffect,l=s.useMemo,c=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,u){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=l((function(){function e(e){if(!a){if(a=!0,n=e,e=s(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return i=t}return i=e}if(t=i,o(n,e))return t;var r=s(e);return void 0!==u&&u(t,r)?(n=e,t):(n=e,i=r)}var n,i,a=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,r,s,u]);var h=n(e,d[0],d[1]);return a((function(){p.hasValue=!0,p.value=h}),[h]),c(h),h}},5502:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M1 4.429V15h14V1L6.833 7.857zM14 3v11H2V6.114l4.182 2.51a1.2 1.2 0 0 0 1.398-.118z" clip-rule="evenodd"></path></svg>'},5668:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path><path fill="#000" fill-rule="evenodd" d="m11.002 7.002-3 3-3-3v-4a2.893 2.893 0 0 1 3-3 2.893 2.893 0 0 1 3 3zm-3-6h-.038a1.893 1.893 0 0 0-1.963 1.962l.001.018v3.606l2 2 2-2V2.964A1.894 1.894 0 0 0 8.04 1z" clip-rule="evenodd"></path><path fill="#000" d="M4.072 1.908a10.4 10.4 0 0 1-1.939-.433L0 13.077c1.2.504 2.493.746 3.793.711A10.7 10.7 0 0 0 7 13.31v1.678H2v1h11v-1H8v-2a11.9 11.9 0 0 1 4.207-.8A6.62 6.62 0 0 1 16 13.277L13.867 1.674a8.2 8.2 0 0 0-2.236-.61 3.5 3.5 0 0 1 .336 1.066q.514.097 1.009.27l1.72 9.163a8.3 8.3 0 0 0-2.489-.376 12.8 12.8 0 0 0-4.526.852l-.604.204-.363.108a9.7 9.7 0 0 1-2.921.436 9.5 9.5 0 0 1-2.668-.363l1.81-9.697q.53.115 1.068.18v-.173a3.4 3.4 0 0 1 .069-.826"></path></svg>'},5880:(e,t,r)=>{"use strict";r.d(t,{createFmeSelectors:()=>R,fmeActions:()=>m});var s=r(7390),o=r.n(s);function n(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var i=e=>Array.isArray(e)?e:[e];function a(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const r=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var l="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function c(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:s}=t;let o,n=0;function i(){let t=r;const{length:i}=arguments;for(let e=0,r=i;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const s=e.get(r);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=s}else{let e=t.p;null===e&&(t.p=e=new Map);const s=e.get(r);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=s}}const a=t;let c;if(1===t.s)c=t.v;else if(c=e.apply(null,arguments),n++,s){const e=o?.deref?.()??o;null!=e&&s(e,c)&&(c=e,0!==n&&n--);o="object"==typeof c&&null!==c||"function"==typeof c?new l(c):c}return a.s=1,a.v=c,c}return i.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>n,i.resetResultsCount=()=>{n=0},i}function u(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,s=(...e)=>{let t,s=0,o=0,l={},u=e.pop();"object"==typeof u&&(l=u,u=e.pop()),n(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:p,memoizeOptions:h=[],argsMemoize:f=c,argsMemoizeOptions:m=[],devModeChecks:g={}}=d,E=i(h),y=i(m),v=a(e),b=p((function(){return s++,u.apply(null,arguments)}),...E);const S=f((function(){o++;const e=function(e,t){const r=[],{length:s}=e;for(let o=0;o<s;o++)r.push(e[o].apply(null,t));return r}(v,arguments);return t=b.apply(null,e),t}),...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:f})};return Object.assign(s,{withTypes:()=>s}),s}var d=u(c),p=Object.assign(((e,t=d)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map((t=>e[t])),((...e)=>e.reduce(((e,t,s)=>(e[r[s]]=t,e)),{})))}),{withTypes:()=>p}),h=r(3417),f=r(3314);const m={setViewMode:(e,t)=>({type:h.ZW.SET_VIEW_MODE,viewMode:e,widgetId:t}),resetState:e=>({type:h.ZW.RESET_STATE,widgetId:e}),setGeometry:(e,t,r)=>({type:h.ZW.SET_GEOMETRY,geometryJson:v(e),drawnArea:t,widgetId:r}),setDrawingTool:(e,t)=>({type:h.ZW.SET_DRAWING_TOOL,drawingTool:e,widgetId:t}),completeDrawing:(e,t,r,s)=>({type:h.ZW.COMPLETE_DRAWING,geometryJson:v(e),drawnArea:t,nextViewMode:r,widgetId:s}),setOrderResult:(e,t)=>({type:h.ZW.SET_ORDER_RESULT,orderResult:e,widgetId:t}),setWorkspaceItems:(e,t,r)=>({type:h.ZW.SET_WORKSPACE_ITEMS,workspaceItems:e,repository:t,widgetId:r}),setWorkspaceParameters:(e,t,r,s)=>({type:h.ZW.SET_WORKSPACE_PARAMETERS,workspaceParameters:e,workspaceName:t,repository:r,widgetId:s}),setSelectedWorkspace:(e,t,r)=>({type:h.ZW.SET_SELECTED_WORKSPACE,workspaceName:e,repository:t,widgetId:r}),setWorkspaceItem:(e,t,r)=>({type:h.ZW.SET_WORKSPACE_ITEM,workspaceItem:e,repository:t,widgetId:r}),setError:(e,t,r)=>({type:h.ZW.SET_ERROR,scope:e,error:t,widgetId:r}),setErrors:(e,t)=>{const r={};for(const[t,s]of Object.entries(e))void 0!==s&&(r[t]=s);return{type:h.ZW.SET_ERRORS,errors:r,widgetId:t}},clearError:(e,t)=>({type:h.ZW.CLEAR_ERROR,scope:e,widgetId:t}),clearWorkspaceState:(e,t)=>({type:h.ZW.CLEAR_WORKSPACE_STATE,newRepository:e,widgetId:t}),resetToDrawing:e=>({type:h.ZW.RESET_TO_DRAWING,widgetId:e}),completeStartup:e=>({type:h.ZW.COMPLETE_STARTUP,widgetId:e}),setLoadingFlag:(e,t,r)=>({type:h.ZW.SET_LOADING_FLAG,flag:e,value:t,widgetId:r}),applyWorkspaceData:(e,t)=>({type:h.ZW.APPLY_WORKSPACE_DATA,workspaceName:e.workspaceName,workspaceParameters:e.parameters,workspaceItem:e.item,widgetId:t}),removeWidgetState:e=>({type:h.ZW.REMOVE_WIDGET_STATE,widgetId:e})},g={viewMode:h.nE.STARTUP_VALIDATION,drawingTool:h.hL.POLYGON,geometryJson:null,drawnArea:0,orderResult:null,workspaceItems:[],selectedWorkspace:null,workspaceParameters:[],workspaceItem:null,currentRepository:null,loading:{workspaces:!1,parameters:!1,modules:!1,submission:!1,geometryValidation:!1},errors:{}},E=o().default??o(),y=e=>(0,f.NnH)(e)??null,v=e=>{if(!e)return null;if("object"!=typeof e)return null;const t=Reflect.get(e,"toJSON");if("function"!=typeof t)return null;try{return t.call(e)}catch{return null}};const b={[h.MU.ERROR]:3,[h.MU.WARNING]:2,[h.MU.INFO]:1},S={general:0,export:1,import:2};const R=e=>{const t=t=>((e,t)=>{const r=e,s=r?.["fme-state"]?.byId?.[t];return s??null})(t,e),r=e=>t(e)?.geometryJson??null,s=e=>t(e)?.drawnArea??g.drawnArea,o=e=>t(e)?.selectedWorkspace??g.selectedWorkspace,n=e=>t(e)?.workspaceParameters??g.workspaceParameters,i=e=>t(e)?.workspaceItem??g.workspaceItem,a=e=>t(e)?.errors??g.errors,l=e=>t(e)?.loading??g.loading,c=d([r,s],((e,t)=>Boolean(e)&&t>0)),u=d([a],(e=>(e=>{let t=null,r=-1,s=Number.POSITIVE_INFINITY;for(const[o,n]of Object.entries(e)){if(!n)continue;if(!(n.severity in b))continue;if(!(o in S))continue;const e=b[n.severity],i=S[o];(e>r||e===r&&i<s)&&(t={scope:o,details:n},r=e,s=i)}return t})(e))),p=d([r,s,o,n,i,a],((e,t,r,s,o,n)=>{const i=Boolean(e)&&Number.isFinite(t)&&t>0,a=Boolean(y(r)),l=s.length>0||null!==o,c=n?.general,u=!!c&&(b[c.severity]??0)>=b[h.MU.ERROR];return i&&a&&l&&!u})),f=d([l],(e=>e.workspaces||e.parameters||e.modules||e.submission));return{selectSlice:t,selectViewMode:e=>t(e)?.viewMode??g.viewMode,selectDrawingTool:e=>t(e)?.drawingTool??g.drawingTool,selectGeometryJson:r,selectDrawnArea:s,selectWorkspaceItems:e=>t(e)?.workspaceItems??g.workspaceItems,selectWorkspaceParameters:n,selectWorkspaceItem:i,selectSelectedWorkspace:o,selectOrderResult:e=>t(e)?.orderResult??g.orderResult,selectErrors:a,selectErrorByScope:e=>r=>t(r)?.errors?.[e]??null,selectLoading:l,selectLoadingFlag:e=>r=>t(r)?.loading?.[e]??g.loading[e],selectHasValidAoi:c,selectPrimaryError:u,selectCanExport:p,selectIsBusy:f}};E({byId:{}})},6035:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(6500),o=r(4880),n=new class extends s.Q{#F=!0;#W;#q;constructor(){super(),this.#q=e=>{if(!o.S$&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#W||this.setEventListener(this.#q)}onUnsubscribe(){this.hasListeners()||(this.#W?.(),this.#W=void 0)}setEventListener(e){this.#q=e,this.#W?.(),this.#W=e(this.setOnline.bind(this))}setOnline(e){this.#F!==e&&(this.#F=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#F}}},6055:(e,t,r)=>{"use strict";var s,o,n,i,a,l,c,u,d,p;r.d(t,{By:()=>a,MU:()=>i,OX:()=>l,QL:()=>u,Vw:()=>n,ZW:()=>p,hL:()=>o,nE:()=>s,ym:()=>c}),function(e){e.STARTUP_VALIDATION="startup-validation",e.INITIAL="initial",e.DRAWING="drawing",e.WORKSPACE_SELECTION="workspace-selection",e.EXPORT_FORM="export-form",e.EXPORT_OPTIONS="export-options",e.ORDER_RESULT="order-result"}(s||(s={})),function(e){e.POLYGON="polygon",e.RECTANGLE="rectangle"}(o||(o={})),function(e){e.TEXT="text",e.NUMBER="number",e.TEXTAREA="textarea",e.SELECT="select",e.MULTI_SELECT="multi-select",e.CHECKBOX="checkbox",e.PASSWORD="password",e.FILE="file",e.DATE_TIME="date-time",e.URL="url",e.SWITCH="switch",e.RADIO="radio",e.SLIDER="slider",e.NUMERIC_INPUT="numeric-input",e.TAG_INPUT="tag-input",e.COLOR="color",e.DATE="date",e.TIME="time",e.EMAIL="email",e.PHONE="phone",e.SEARCH="search",e.MESSAGE="message",e.TABLE="table",e.MONTH="month",e.WEEK="week",e.COORDSYS="coord-sys",e.ATTRIBUTE_NAME="attribute-name",e.ATTRIBUTE_LIST="attribute-list",e.DB_CONNECTION="db-connection",e.WEB_CONNECTION="web-connection",e.TEXT_OR_FILE="text-or-file",e.REPROJECTION_FILE="reprojection-file",e.SCRIPTED="scripted",e.GEOMETRY="geometry",e.HIDDEN="hidden"}(n||(n={})),function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error"}(i||(i={})),function(e){e.VALIDATION="validation",e.CONFIG="config",e.NETWORK="network",e.MODULE="module",e.GEOMETRY="geometry"}(a||(a={})),function(e){e.IDLE="idle",e.PENDING="pending",e.OK="ok",e.FAIL="fail",e.SKIP="skip"}(l||(l={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(c||(c={})),function(e){e.text="text",e.number="number",e.checkbox="checkbox",e.dropdown="dropdown",e.listbox="listbox",e.tree="tree",e.password="password",e.datetime="datetime",e.message="message",e.group="group",e.file="file",e.color="color",e.range="range",e.TEXT="TEXT",e.INTEGER="INTEGER",e.FLOAT="FLOAT",e.BOOLEAN="BOOLEAN",e.CHECKBOX="CHECKBOX",e.CHOICE="CHOICE",e.LISTBOX="LISTBOX",e.LOOKUP_LISTBOX="LOOKUP_LISTBOX",e.LOOKUP_CHOICE="LOOKUP_CHOICE",e.TEXT_OR_FILE="TEXT_OR_FILE",e.TEXT_EDIT="TEXT_EDIT",e.PASSWORD="PASSWORD",e.FILENAME="FILENAME",e.FILENAME_MUSTEXIST="FILENAME_MUSTEXIST",e.DIRNAME="DIRNAME",e.DIRNAME_MUSTEXIST="DIRNAME_MUSTEXIST",e.DIRNAME_SRC="DIRNAME_SRC",e.COORDSYS="COORDSYS",e.STRING="STRING",e.URL="URL",e.LOOKUP_URL="LOOKUP_URL",e.LOOKUP_FILE="LOOKUP_FILE",e.DATE_TIME="DATE_TIME",e.DATETIME="DATETIME",e.DATE="DATE",e.TIME="TIME",e.MONTH="MONTH",e.WEEK="WEEK",e.COLOR="COLOR",e.COLOR_PICK="COLOR_PICK",e.RANGE_SLIDER="RANGE_SLIDER",e.GEOMETRY="GEOMETRY",e.MESSAGE="MESSAGE",e.ATTRIBUTE_NAME="ATTRIBUTE_NAME",e.ATTRIBUTE_LIST="ATTRIBUTE_LIST",e.DB_CONNECTION="DB_CONNECTION",e.WEB_CONNECTION="WEB_CONNECTION",e.REPROJECTION_FILE="REPROJECTION_FILE",e.SCRIPTED="SCRIPTED",e.NOVALUE="NOVALUE",e.GROUP="GROUP"}(u||(u={})),function(e){e.QUEUED="QUEUED",e.PULLED="PULLED",e.RUNNING="RUNNING",e.SUCCESS="SUCCESS",e.FME_FAILURE="FME_FAILURE",e.JOB_FAILURE="JOB_FAILURE",e.ABORTED="ABORTED"}(d||(d={})),function(e){e.SET_VIEW_MODE="fme/SET_VIEW_MODE",e.RESET_STATE="fme/RESET_STATE",e.SET_GEOMETRY="fme/SET_GEOMETRY",e.SET_DRAWING_TOOL="fme/SET_DRAWING_TOOL",e.COMPLETE_DRAWING="fme/COMPLETE_DRAWING",e.SET_ORDER_RESULT="fme/SET_ORDER_RESULT",e.SET_WORKSPACE_ITEMS="fme/SET_WORKSPACE_ITEMS",e.SET_WORKSPACE_PARAMETERS="fme/SET_WORKSPACE_PARAMETERS",e.SET_SELECTED_WORKSPACE="fme/SET_SELECTED_WORKSPACE",e.SET_WORKSPACE_ITEM="fme/SET_WORKSPACE_ITEM",e.SET_ERROR="fme/SET_ERROR",e.SET_ERRORS="fme/SET_ERRORS",e.CLEAR_WORKSPACE_STATE="fme/CLEAR_WORKSPACE_STATE",e.CLEAR_ERROR="fme/CLEAR_ERROR",e.RESET_TO_DRAWING="fme/RESET_TO_DRAWING",e.COMPLETE_STARTUP="fme/COMPLETE_STARTUP",e.REMOVE_WIDGET_STATE="fme/REMOVE_WIDGET_STATE",e.SET_LOADING_FLAG="fme/SET_LOADING_FLAG",e.APPLY_WORKSPACE_DATA="fme/APPLY_WORKSPACE_DATA"}(p||(p={}))},6158:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,s:()=>i});var s=r(6261),o=r(1692),n=r(8904),i=class extends o.k{#m;#B;#n;#V;constructor(e){super(),this.#m=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#B=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#B.includes(e)||(this.#B.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#B=this.#B.filter((t=>t!==e)),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#B.length||("pending"===this.state.status?this.scheduleGc():this.#n.remove(this))}continue(){return this.#V?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#G({type:"continue"})},r={client:this.#m,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#V=(0,n.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#G({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#G({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s="pending"===this.state.status,o=!this.#V.canStart();try{if(s)t();else{this.#G({type:"pending",variables:e,isPaused:o}),await(this.#n.config.onMutate?.(e,this,r));const t=await(this.options.onMutate?.(e,r));t!==this.state.context&&this.#G({type:"pending",context:t,variables:e,isPaused:o})}const n=await this.#V.start();return await(this.#n.config.onSuccess?.(n,e,this.state.context,this,r)),await(this.options.onSuccess?.(n,e,this.state.context,r)),await(this.#n.config.onSettled?.(n,null,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(n,null,e,this.state.context,r)),this.#G({type:"success",data:n}),n}catch(t){try{throw await(this.#n.config.onError?.(t,e,this.state.context,this,r)),await(this.options.onError?.(t,e,this.state.context,r)),await(this.#n.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(void 0,t,e,this.state.context,r)),t}finally{this.#G({type:"error",error:t})}}finally{this.#n.runNext(this)}}#G(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),s.jG.batch((()=>{this.#B.forEach((t=>{t.onMutationUpdate(e)})),this.#n.notify({mutation:this,type:"updated",action:e})}))}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},6261:(e,t,r)=>{"use strict";r.d(t,{jG:()=>o});var s=r(2775).Zq;var o=function(){let e=[],t=0,r=e=>{e()},o=e=>{e()},n=s;const i=s=>{t?e.push(s):n((()=>{r(s)}))};return{batch:s=>{let i;t++;try{i=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&n((()=>{o((()=>{t.forEach((e=>{r(e)}))}))}))})()}return i},batchCalls:e=>(...t)=>{i((()=>{e(...t)}))},schedule:i,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{o=e},setScheduler:e=>{n=e}}}()},6278:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},6500:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},6920:(e,t,r)=>{"use strict";r.d(t,{Nh:()=>o,YD:()=>l,Zs:()=>i,is:()=>a,x8:()=>n});r(3417),r(3890);var s=r(4986);const o=(e,t,r)=>{e((e=>({...e,[t]:r})))},n=(e,t)=>{e((e=>{const r={...e};for(const e of t)r[e]=void 0;return r}))},i=e=>(0,s.Gt)(e,(e=>(0,s.Nn)(e))),a=e=>{const t=new Set,r=[];for(const s of e)t.has(s)||(t.add(s),r.push(s));return r},l=(e,t)=>(0,s.Gt)(e,(e=>{if("object"!=typeof e||null===e)return;const r=e;return(0,s.Nn)(r[t])}))},7097:(e,t,r)=>{"use strict";r.d(t,{n:()=>u});var s=r(8972),o=r(6158),n=r(6261),i=r(6500),a=r(4880),l=class extends i.Q{#m;#b=void 0;#H;#z;constructor(e,t){super(),this.#m=e,this.setOptions(t),this.bindMethods(),this.#Q()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#m.defaultMutationOptions(e),(0,a.f8)(this.options,t)||this.#m.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#H,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.EN)(t.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():"pending"===this.#H?.state.status&&this.#H.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#H?.removeObserver(this)}onMutationUpdate(e){this.#Q(),this.#j(e)}getCurrentResult(){return this.#b}reset(){this.#H?.removeObserver(this),this.#H=void 0,this.#Q(),this.#j()}mutate(e,t){return this.#z=t,this.#H?.removeObserver(this),this.#H=this.#m.getMutationCache().build(this.#m,this.options),this.#H.addObserver(this),this.#H.execute(e)}#Q(){const e=this.#H?.state??(0,o.$)();this.#b={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#j(e){n.jG.batch((()=>{if(this.#z&&this.hasListeners()){const t=this.#b.variables,r=this.#b.context,s={client:this.#m,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#z.onSuccess?.(e.data,t,r,s),this.#z.onSettled?.(e.data,null,t,r,s)):"error"===e?.type&&(this.#z.onError?.(e.error,t,r,s),this.#z.onSettled?.(void 0,e.error,t,r,s))}this.listeners.forEach((e=>{e(this.#b)}))}))}},c=r(7665);function u(e,t){const r=(0,c.jE)(t),[o]=s.useState((()=>new l(r,e)));s.useEffect((()=>{o.setOptions(e)}),[o,e]);const i=s.useSyncExternalStore(s.useCallback((e=>o.subscribe(n.jG.batchCalls(e))),[o]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),u=s.useCallback(((e,t)=>{o.mutate(e,t).catch(a.lQ)}),[o]);if(i.error&&(0,a.GU)(o.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:u,mutateAsync:i.mutate}}},7390:(e,t,r)=>{var s;!function(){"use strict";var o=function e(t){var r,s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function n(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function i(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var a="__immutable_invariants_hold";function l(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,a)))}function c(e,t){return e===t||e!=e&&t!=t}function u(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var d=["setPrototypeOf"],p=(d.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function h(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function f(e,t){return i(e,a,!0),e}function m(e,t){var r=e[t];i(e,t,(function(){return B(r.apply(e,arguments))}))}function g(e,t,r){var s=r&&r.deep;if(e in this&&(s&&this[e]!==t&&u(t)&&u(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var o=T.call(this);return o[e]=B(t),v(o)}d.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),h.prototype=new Error,h.prototype.constructor=Error;var E=B([]);function y(e,t,r){var s=e[0];if(1===e.length)return g.call(this,s,t,r);var o,n=e.slice(1),i=this[s];if("object"==typeof i&&null!==i)o=B.setIn(i,n,t);else{var a=n[0];o=""!==a&&isFinite(a)?y.call(E,n,t):k.call(x,n,t)}if(s in this&&i===o)return this;var l=T.call(this);return l[s]=o,v(l)}function v(e){for(var t in p){if(p.hasOwnProperty(t))m(e,p[t])}o.use_static||(i(e,"flatMap",S),i(e,"asObject",O),i(e,"asMutable",T),i(e,"set",g),i(e,"setIn",y),i(e,"update",P),i(e,"updateIn",U),i(e,"getIn",j));for(var r=0,s=e.length;r<s;r++)e[r]=B(e[r]);return f(e)}function b(){return new Date(this.getTime())}function S(e){if(0===arguments.length)return this;var t,r=[],s=this.length;for(t=0;t<s;t++){var o=e(this[t],t,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return v(r)}function R(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=n(this);for(var s in this)this.hasOwnProperty(s)&&!1===e(this[s],s)&&(r[s]=this[s]);return q(r)}function T(e){var t,r,s=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)s.push(w(this[t]));else for(t=0,r=this.length;t<r;t++)s.push(this[t]);return s}function O(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},s=this.length;for(t=0;t<s;t++){var o=e(this[t],t,this),n=o[0],i=o[1];r[n]=i}return q(r)}function w(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,a)||e instanceof Date?e:B.asMutable(e,{deep:!0})}function I(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function A(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,s,o=Array.isArray(e),i=t&&t.deep,a=t&&t.mode||"merge",l=t&&t.merger;function d(e,s,o){var a,d=B(s[o]),p=l&&l(e[o],d,t),h=e[o];void 0===r&&void 0===p&&e.hasOwnProperty(o)&&c(d,h)||(c(h,a=void 0!==p?p:i&&u(h)&&u(d)?B.merge(h,d,t):d)&&e.hasOwnProperty(o)||(void 0===r&&(r=I(e,n(e))),r[o]=a))}if(o)for(var p=0,h=e.length;p<h;p++){var f=e[p];for(s in f)f.hasOwnProperty(s)&&d(void 0!==r?r:this,f,s)}else{for(s in e)Object.getOwnPropertyDescriptor(e,s)&&d(this,e,s);"replace"===a&&function(e,t){for(var s in e)t.hasOwnProperty(s)||(void 0===r&&(r=I(e,n(e))),delete r[s])}(this,e)}return void 0===r?this:q(r)}function _(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return B.merge(this,e,{deep:r,mode:"replace"})}var C,L,M,x=B({});function k(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var s=e[0];if(1===e.length)return N.call(this,s,t,r);var o,i=e.slice(1),a=this[s];if(o=this.hasOwnProperty(s)&&"object"==typeof a&&null!==a?B.setIn(a,i,t):k.call(x,i,t),this.hasOwnProperty(s)&&a===o)return this;var l=I(this,n(this));return l[s]=o,q(l)}function N(e,t,r){var s=r&&r.deep;if(this.hasOwnProperty(e)&&(s&&this[e]!==t&&u(t)&&u(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var o=I(this,n(this));return o[e]=B(t),q(o)}function P(e,t){var r=Array.prototype.slice.call(arguments,2),s=this[e];return B.set(this,e,t.apply(s,[s].concat(r)))}function D(e,t){for(var r=0,s=t.length;null!=e&&r<s;r++)e=e[t[r]];return r&&r==s?e:void 0}function U(e,t){var r=Array.prototype.slice.call(arguments,2),s=D(this,e);return B.setIn(this,e,t.apply(s,[s].concat(r)))}function j(e,t){var r=D(this,e);return void 0===r?t:r}function F(e){var t,r=n(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=w(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function W(){return{}}function q(e){return o.use_static||(i(e,"merge",A),i(e,"replace",_),i(e,"without",R),i(e,"asMutable",F),i(e,"set",N),i(e,"setIn",k),i(e,"update",P),i(e,"updateIn",U),i(e,"getIn",j)),f(e)}function B(e,t,r){if(l(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===s)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(B);if(Array.isArray(e))return v(e.slice());if(e instanceof Date)return n=new Date(e.getTime()),o.use_static||i(n,"asMutable",b),f(n);var n,a=t&&t.prototype,c=(a&&a!==Object.prototype?function(){return Object.create(a)}:W)();for(var u in e)Object.getOwnPropertyDescriptor(e,u)&&(c[u]=B(e[u],void 0,r));return q(c)}function V(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function G(e,t){return function(){var r=[].slice.call(arguments),s=r.shift();return Array.isArray(s)?t.apply(s,r):e.apply(s,r)}}return B.from=B,B.isImmutable=l,B.ImmutableError=h,B.merge=V(A),B.replace=V(_),B.without=V(R),B.asMutable=(C=F,L=T,M=b,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?L.apply(t,e):t instanceof Date?M.apply(t,e):C.apply(t,e)}),B.set=G(N,g),B.setIn=G(k,y),B.update=V(P),B.updateIn=V(U),B.getIn=V(j),B.flatMap=V(S),B.asObject=V(O),o.use_static||(B.static=e({use_static:!0})),Object.freeze(B),B}();void 0===(s=function(){return o}.call(t,r,t,e))||(e.exports=s)}()},7413:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 1 8 1a7 7 0 0 1 0 14" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M11.53 5.47a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06L7 8.94l3.47-3.47a.75.75 0 0 1 1.06 0" clip-rule="evenodd"></path></svg>'},7665:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>a,jE:()=>i});var s=r(8972),o=r(4848),n=s.createContext(void 0),i=e=>{const t=s.useContext(n);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(s.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),(0,o.jsx)(n.Provider,{value:e,children:t}))},7711:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m1.373 8 2.07-2.071.83.828L2.2 8.828a3.515 3.515 0 0 0 4.97 4.971l2.072-2.071.828.828L8 14.627A4.686 4.686 0 1 1 1.373 8M13.799 7.172l-2.071 2.07.828.83L14.627 8A4.686 4.686 0 1 0 8 1.373l-2.071 2.07.828.83L8.828 2.2a3.515 3.515 0 0 1 4.971 4.97"></path><path fill="#000" d="M5.515 9.657a.586.586 0 0 0 .828.828l4.142-4.142a.586.586 0 0 0-.828-.828z"></path></svg>'},8418:(e,t,r)=>{"use strict";e.exports=r(5160)},8904:(e,t,r)=>{"use strict";r.d(t,{II:()=>u,cc:()=>c,v_:()=>l});var s=r(9658),o=r(6035),n=r(4658),i=r(4880);function a(e){return Math.min(1e3*2**e,3e4)}function l(e){return"online"!==(e??"online")||o.t.isOnline()}var c=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u(e){let t,r=!1,u=0;const d=(0,n.T)(),p=()=>"pending"!==d.status,h=()=>s.m.isFocused()&&("always"===e.networkMode||o.t.isOnline())&&e.canRun(),f=()=>l(e.networkMode)&&e.canRun(),m=e=>{p()||(t?.(),d.resolve(e))},g=e=>{p()||(t?.(),d.reject(e))},E=()=>new Promise((r=>{t=e=>{(p()||h())&&r(e)},e.onPause?.()})).then((()=>{t=void 0,p()||e.onContinue?.()})),y=()=>{if(p())return;let t;const s=0===u?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(m).catch((t=>{if(p())return;const s=e.retry??(i.S$?0:3),o=e.retryDelay??a,n="function"==typeof o?o(u,t):o,l=!0===s||"number"==typeof s&&u<s||"function"==typeof s&&s(u,t);!r&&l?(u++,e.onFail?.(u,t),(0,i.yy)(n).then((()=>h()?void 0:E())).then((()=>{r?g(t):y()}))):g(t)}))};return{promise:d,status:()=>d.status,cancel:t=>{if(!p()){const r=new c(t);g(r),e.onCancel?.(r)}},continue:()=>(t?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:f,start:()=>(f()?y():E().then(y),d)}}},8972:e=>{"use strict";e.exports=i},9124:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M15 3.5v9c0 1.933-3.134 3.5-7 3.5s-7-1.567-7-3.5v-9C1 1.567 4.134 0 8 0s7 1.567 7 3.5M2 5.304V6.5C2 7.692 4.615 9 8 9s6-1.308 6-2.5V5.304C12.775 6.32 10.546 7 8 7s-4.775-.68-6-1.696M8 10c2.546 0 4.775-.68 6-1.696V9.5c0 1.192-2.615 2.5-6 2.5s-6-1.308-6-2.5V8.304C3.225 9.32 5.454 10 8 10m6 1.304C12.775 12.32 10.546 13 8 13s-4.775-.68-6-1.696V12.5C2 13.692 4.615 15 8 15s6-1.308 6-2.5zM14 3.5C14 4.692 11.385 6 8 6S2 4.692 2 3.5 4.615 1 8 1s6 1.308 6 2.5" clip-rule="evenodd"></path></svg>'},9244:e=>{"use strict";e.exports=r},9298:e=>{"use strict";e.exports=s},9658:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var s=r(6500),o=r(4880),n=new class extends s.Q{#K;#W;#q;constructor(){super(),this.#q=e=>{if(!o.S$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#W||this.setEventListener(this.#q)}onUnsubscribe(){this.hasListeners()||(this.#W?.(),this.#W=void 0)}setEventListener(e){this.#q=e,this.#W?.(),this.#W=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#K!==e&&(this.#K=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#K?this.#K:"hidden"!==globalThis.document?.visibilityState}}},9757:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,k:()=>l});var s=r(4880),o=r(6261),n=r(8904),i=r(1692),a=class extends i.k{#X;#$;#Y;#m;#V;#i;#Z;constructor(e){super(),this.#Z=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#m=e.client,this.#Y=this.#m.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#X=c(this.options),this.state=e.state??this.#X,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#V?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=c(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#X=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#Y.remove(this)}setData(e,t){const r=(0,s.pl)(this.state.data,e,this.options);return this.#G({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#G({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#V?.promise;return this.#V?.cancel(e),t?t.then(s.lQ).catch(s.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#X)}isActive(){return this.observers.some((e=>!1!==(0,s.Eh)(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some((e=>"static"===(0,s.d2)(e.options.staleTime,this)))}isStale(){return this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,s.j3)(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#V?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#V?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#Y.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#V&&(this.#Z?this.#V.cancel({revert:!0}):this.#V.cancelRetry()),this.scheduleGc()),this.#Y.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#G({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#V?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#V)return this.#V.continueRetry(),this.#V.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#Z=!0,r.signal)})},i=()=>{const e=(0,s.ZM)(this.options,t),r=(()=>{const e={client:this.#m,queryKey:this.queryKey,meta:this.meta};return o(e),e})();return this.#Z=!1,this.options.persister?this.options.persister(e,r,this):e(r)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#m,state:this.state,fetchFn:i};return o(e),e})();this.options.behavior?.onFetch(a,this),this.#$=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#G({type:"fetch",meta:a.fetchOptions?.meta}),this.#V=(0,n.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof n.cc&&e.revert&&this.setState({...this.#$,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#G({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#G({type:"pause"})},onContinue:()=>{this.#G({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const e=await this.#V.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#Y.config.onSuccess?.(e,this),this.#Y.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof n.cc){if(e.silent)return this.#V.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#G({type:"error",error:e}),this.#Y.config.onError?.(e,this),this.#Y.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#G(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":const r={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#$=e.manual?r:void 0,r;case"error":const s=e.error;return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),o.jG.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#Y.notify({query:this,type:"updated",action:e})}))}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function c(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}}},t={};function c(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,c),o.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var u={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(u),c.d(u,{__set_webpack_public_path__:()=>ke,default:()=>xe});var e=c(9244),t=c(9298),r=c(4321),s=c(7665),o=c(3417),n=c(5880),i=c(4337),a=c(2242),l=c(3314);const d={btnBack:"Back",btnSubmit:"Submit Export",btnCancel:"Cancel",btnRetry:"Retry",btnNewOrder:"New Export",btnEnd:"Close",btnDownload:"Download",btnDownloadFallback:"Click here if download didn't start",btnAddRow:"Add Row",btnDeleteRow:"Delete Row",btnMoveUp:"Move Up",btnMoveDown:"Move Down",btnReuseArea:"New Export with Same Area",btnReload:"Reload Page",btnRetryValidation:"Retry",btnOpenSettings:"Open Settings",lblJobId:"Job ID",lblWorkspace:"Workspace",lblEmail:"Email Address",lblFilename:"Filename",lblDelivery:"Delivery Method",lblFmeStatus:"FME Flow Status",lblFmeMessage:"FME Flow Message",lblErrorCode:"Error Code",lblBlobType:"File Type",lblBlobSize:"File Size",lblGeomPreview:"Geometry Preview (Esri JSON)",lblUploadFile:"Upload File (TEMP Resource)",lblRemoteUrl:"Remote URL (HTTPS)",lblTableValue:"Value",lblTableActions:"Actions",lblUnnamedFile:"Unnamed File",lblActions:"Actions",lblDrawLayer:"Drawing Layer",titleOrderConfirmed:"Export Submitted",titleOrderComplete:"Export Completed",titleOrderFailed:"Export Failed",titleOrderCancelled:"Export Cancelled",titleConfigParams:"Configure Workspace Parameters",actionRetry:"Retry",actionReload:"Reload",actionOpenSettings:"Open Settings",statusSubmitting:"Submitting job\u2026",statusProcessing:"FME Flow processing\u2026",statusValidating:"Checking settings\u2026",statusPreparing:"Preparing\u2026",statusUploading:"Uploading\u2026",statusTransforming:"Transforming\u2026",statusDownloading:"Downloading\u2026",statusInitMap:"Preparing map tools\u2026",statusLoadWorkspaces:"Fetching workspaces\u2026",statusLoadParams:"Fetching workspace parameters\u2026",statusValidateGeom:"Validating geometry\u2026",statusPreparingMapTools:"Preparing map tools\u2026",statusValidatingMap:"Verifying map configuration\u2026",statusValidatingConnection:"Testing connection to FME Flow\u2026",statusValidatingEmail:"Validating email address\u2026",statusCheckMap:"Verifying map configuration\u2026",statusCheckConnection:"Testing connection to FME Flow\u2026",statusCheckEmail:"Validating email address\u2026",validatingStartup:"Validating widget startup\u2026",submittingOrder:"Submitting export job\u2026",submittingOrderSync:"Processing export\u2026",msgOrderCancelled:"Export cancelled",msgOrderTimeout:"Export cancelled due to time limit. The FME Flow workspace exceeded its maximum runtime",msgNoResult:"Nothing available",msgJobCancelled:"Job cancelled",msgJobTimeout:"Job exceeded time limit",msgJobFailed:"Job failed in FME Flow",msgProcessingWait:"Processing\u2026 please wait\u2026",msgValidating:"Validating parameter values\u2026",msgUploading:"Uploading data source\u2026",msgConfiguring:"Configuring FME Flow job\u2026",msgProcessingOrder:"Processing export\u2026",msgTransforming:"FME Flow transforming data\u2026",msgPrepDownload:"Preparing download\u2026",msgLoadingDraw:"Loading drawing tools\u2026",msgCheckGeom:"Validating geometry\u2026",msgPleaseWait:"This can take a few minutes\u2026",msgProcessingActive:"FME Flow processing\u2026",msgLargeArea:"The selected area ({current}) is large and may result in longer processing time",msgLargeAreaThreshold:"The selected area ({current}) is large and may result in longer processing time. A recommended area is below {threshold}",msgNoWorkspaces:"No workspaces found in this repository",msgAsyncForced:"The area {area} is large and may result in longer processing time",forcedAsyncArea:"The selected area ({area}) is too large and may result in longer processing time",forcedAsyncUrlLength:"The URL length ({urlLength} characters) exceeds the allowed limit. Automatically switched to email notification mode",msgNoGeometry:"No area selected. Draw an area on the map",msgGeomReady:"Area defined with {rings} polygons and {vertices} vertices",msgContactSupport:"Please contact support at {email}",msgEmailSent:"Email notification will be sent when job is complete",msgTableEmpty:"No rows have been added",msgSetupWidget:"Widget needs to be configured before it can be used",msgCheckSettings:"Check connection settings in configuration panel",msgCheckToken:"Verify API token in settings",msgCheckUrl:"Check FME Flow server URL in settings",msgCheckRepo:"Select a valid repository in settings",msgCheckNetwork:"Check network connection and firewall settings",msgServerUrlReq:"Enter FME Flow server URL",msgTokenReq:"Enter API token for FME Flow",msgUrlTooLong:"URL exceeds maximum allowed length",msgHeadersLarge:"Request headers are too large",msgOffline:"No network connection",msgCorsBlock:"Request was blocked by CORS policy",msgRateLimit:"Too many requests. Please wait and try again",msgConfigInvalid:"Invalid widget configuration",msgCancelled:"Request was cancelled by user",msgTimeout:"Request exceeded time limit",msgWorkspacesReady:"Workspaces available for selection",msgFormReady:"Parameters ready for input",msgOrderSuccess:"Export was submitted",msgOrderFail:"Export failed",msgJobCompletionPublished:"Export job completion notification sent to other widgets",msgJobMessagePublishFailed:"Failed to notify other widgets about export completion",errNoSetup:"Widget is not configured",errTokenInvalid:"API token is missing or invalid",errNoRepository:"Repository cannot be accessed",errNoAccess:"Repository could not be verified with current API token. Check permissions or select another repository",errServerUnreach:"FME Flow server cannot be reached",errConnectFail:"Connection to FME Flow failed",errAuthFail:"Authentication to FME Flow failed",errValidateFail:"Server invalid or incorrect configuration",errStartupFail:"Widget could not start",errSubmitFail:"Job could not be submitted",errWorkspaceLoad:"Workspace could not be loaded",errParamsLoad:"Workspace parameters could not be fetched",errRepoLoad:"Repository could not be loaded",errDatasetResolve:"Data source could not be determined",errGeomProcess:"Geometry processing failed",errNoServerUrl:"FME Flow server URL is missing",errNoToken:"API token is missing",errTokenSpace:"API token cannot contain spaces",errNoRepoSelected:"No repository has been selected",errNoWorkspace:"No workspace has been selected",errRepoInvalid:"Invalid repository",errWorkspaceInvalid:"Invalid workspace",errOrderFail:"Export order failed",errJobSubmit:"FME Flow job could not be submitted",errMapInit:"Map could not be initialized",errDrawComplete:"Drawing could not be completed",errNoUserEmail:"User email address is missing",errLoadTimeout:"Loading exceeded time limit",errEmailInvalid:"Invalid email address",errTransformFailed:"FME Flow transformation failed. See log file above for details",errLoadWorkspaces:"Could not fetch workspaces from repository",errLoadParams:"Could not fetch workspace parameters",errNoConfig:"Export configuration is missing",errGeomParse:"Could not parse geometry JSON",errFileLarge:"File is too large. Max {maxSize} MB allowed",errFileType:"File type not supported. Please use one of the following formats: .zip, .kmz, .json, .geojson, .gml",errFileInvalid:"Invalid file",errDateTimeFormat:"Invalid date format. Use YYYY-MM-DD HH:MM:SS",errGeomMissing:"Geometry is missing",errGeomType:"Only polygon geometry is allowed",errGeomInvalid:"Invalid geometry",errGeomSerialize:"Geometry could not be serialized",errGeomNotSimple:"Polygon intersects itself",errGeomValidate:"Geometry could not be validated",errAreaLarge:"Area exceeds maximum limit",errGeomReq:"No geometry has been specified",errGeomPolygon:"Geometry must be a polygon",errorTokenIssue:"API token is missing or invalid",errorServerUnreachable:"FME Flow server cannot be reached",errorSetupRequired:"Widget is not configured",errorValidationFailed:"Server invalid or incorrect configuration",errorStartupFailed:"Widget could not start",errorRepositoryAccess:"Repository cannot be accessed",errorJobSubmission:"FME Flow job could not be submitted",errorMapInit:"Map could not be initialized",errorOrderFailed:"Export failed",errorWidgetIdMissing:"Widget ID is missing or invalid",configurationInvalid:"Invalid widget configuration",userEmailMissingError:"User email address is missing",geometryMissingCode:"Geometry is missing",geometryTypeInvalidCode:"Only polygon geometry is allowed",geometrySerializationFailedCode:"Geometry could not be serialized",geometryInvalidCode:"Invalid geometry",geometryAreaTooLargeCode:"Area exceeds maximum limit",urlTooLongMessage:"URL exceeds maximum allowed length",requestTimedOut:"Request exceeded time limit",requestAborted:"Request was aborted",rateLimitExceeded:"Too many requests. Please wait and try again",headersTooLargeMessage:"Request headers are too large",corsBlocked:"Request was blocked by CORS policy",REMOTE_DATASET_WORKSPACE_REQUIRED:"FME Flow workspace requires remote dataset configuration",failedToLoadWorkspaces:"Failed to load workspaces",valRequiredField:"This field is required",valSingleError:"Fill in the required field",valMultipleErrors:"Fill in all required fields",valIntegerOnly:"Only integers allowed (no decimals)",valInvalidNumber:"Invalid numeric value",valGreaterThan:"Must be greater than {value}",valAtLeast:"Must be at least {value}",valLessThan:"Must be less than {value}",valAtMost:"Must be at most {value}",phSelect:"Select {field}\u2026",phEnter:"Enter {field}\u2026",phTags:"Enter tags (separate with commas)",phEmail:"example@example.com",phPhone:"+46 70-123 45 67",phSearch:"Search\u2026",phSelectOption:"Select an option",optSyncMode:"Direct Download",optAsyncMode:"Email Notification",optPolygon:"Polygon",optRectangle:"Rectangle",optTextInput:"Text Input",optFileInput:"File Upload",tipDrawMode:"Select drawing mode to define export area",tipDrawPolygon:"Draw a polygon to define export area",tipDrawRectangle:"Draw a rectangle to define export area",tipSubmitOrder:"Submit export to FME Flow",tipCancel:"Cancel and start over",tipReuseArea:"Create new export with same area",tipNewOrder:"Create new export with same area",hintUploadFile:"Select file to use as input to workspace",hintRemoteUrl:"Enter secure HTTPS URL to remote data source",hintFileFormats:"Allowed formats: .zip, .kmz, .json, .geojson, .gml (max 150 MB)",hintUrlFormat:"Example: https://fmeflow.example.com",hintClickMap:"Click on map to define export area",hintDrawRect:"Drag to draw a rectangle",hintDrawContinue:"Click to add more corner points",hintDrawComplete:"Double-click to complete polygon",hintSelectMode:"Select drawing mode to start",hintGeomInvalid:"Polygon is invalid (not closed, self-intersecting, or without area)",hintAreaLarge:"Reduce area size for faster export",hintGeometryInvalid:"Polygon is invalid (not closed, self-intersecting, or without area)",hintAreaTooLarge:"Large area may result in longer export time. Consider reducing size",hintSetupWidget:"Widget needs to be configured before it can be used",contactSupportEmail:"Contact support at {email}",tokenSettingsHint:"Verify API token in settings",serverUrlSettingsHint:"Check FME Flow server URL in settings",repositorySettingsHint:"Select a valid repository in settings",connectionSettingsHint:"Check connection settings in configuration panel",networkConnectionHint:"Check network connection and firewall settings",largeAreaWarning:"The drawn area ({current}) is very large",largeAreaWarningWithThreshold:"The drawn area ({current}) exceeds the recommended limit ({threshold}). Consider reducing the area",ariaButton:"Button",ariaLoading:"Loading",ariaErrorActions:"Error Handling",ariaEmptyActions:"Empty Results",ariaSuccessActions:"Successful Action",ariaRequired:"Required Field",alertSyncSuccess:"Download started automatically",alertSyncFallback:"If download didn't start, use the link below",alertAsyncSuccess:"You will receive an email when the export is complete",alertAsyncQueued:"Export job submitted and queued for processing",alertSyncError:"Export failed during processing",alertAsyncError:"Export job could not be completed",alertCancelledTimeout:"Export cancelled due to timeout",alertCancelledUser:"Export was cancelled",alertJobFailed:"FME Flow transformation failed",alertTransformError:"Data transformation could not be completed"};var p=c(9124),h=c.n(p),f=c(884),m=c.n(f),g=c(6278),E=c.n(g),y=c(5668),v=c.n(y),b=c(4712),S=c.n(b),R=c(3744),T=c.n(R),O=c(7711),w=c.n(O),I=c(2606),A=c.n(I),_=c(657),C=c.n(_),L=c(5502),M=c.n(L),x=c(787),k=c.n(x),N=c(3624),P=c.n(N),D=c(1337),U=c.n(D),j=c(7413),F=c.n(j),W=c(71),q=c.n(W),B=c(1920),V=c.n(B);const G=o.$W,H={error:E(),map:A(),polygon:M(),rectangle:k(),warning:V(),"person-lock":C(),folder:S(),data:h(),"shared-no":U(),"feature-service":v(),"link-tilted":w(),time:q(),setting:P(),email:m(),info:T(),success:F()},z={warning:"warning",error:"error",info:"info",success:"success"},Q=()=>(0,o.MN)(),K=a.j_,X=(e,t)=>[...e,(0,l.RMY)(t)].filter(Boolean),$=(e,t)=>X([e.fullWidth],t),Y=e=>{const{id:t,required:r,errorText:s,errorSuffix:o}=e||{};return{"aria-required":!!r,"aria-invalid":!!s,"aria-describedby":s&&t?(0,l.LHE)(t,o):void 0}},Z=(t,r)=>{const{tooltip:s,placement:o,block:n,jimuCss:i,jimuStyle:a,styles:l}=r;if(!s)return t;const c=Array.isArray(i)?i.filter(Boolean):i?[i]:[],u=X([...c,n?l.tooltipWrap.block:l.tooltipWrap.inline],a),d=J(o);return(0,e.jsx)("span",{css:u},(0,e.jsx)(re,{content:s,placement:d},(0,e.jsx)("span",{css:l.tooltipWrap.anchor},t)))},J=e=>"auto"===e?G.tooltip.position.top:e,ee=({loading:t,children:s,text:o,icon:n,alignText:i})=>{const a=Q();if(t)return(0,e.jsx)(r.Loading,{type:r.LoadingType.Donut});if(s)return(0,e.jsx)(e.React.Fragment,null,s);const l="string"==typeof n&&n.length>0||null!=n&&e.React.isValidElement(n),c=!!o;if(!l&&!c)return null;if(l&&!c)return"string"==typeof n?(0,e.jsx)(te,{src:n,size:G.icon.large}):n;if(c&&!l)return(0,e.jsx)(e.React.Fragment,null,o);const u="string"==typeof n?(0,e.jsx)(te,{src:n,size:G.icon.medium}):n,d=(0,e.jsx)("span",{css:a.btn.icon,"aria-hidden":"true"},u);return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{css:a.btn.text(i)},o),d)},te=({src:t,size:s=G.icon.medium,className:o,style:n,role:i="img","aria-label":a,"aria-hidden":l,...c})=>{const u=H[t]??t,d=l??!a;return(0,e.jsx)(r.SVG,{...c,src:u,size:s,className:o,role:i,"aria-label":a,"aria-hidden":d,css:X([],n)})},re=({content:t,children:s,showArrow:o=G.tooltip.showArrow,placement:n=G.tooltip.position.top,disabled:i=!1,...a})=>{const l=t;if(!e.React.isValidElement(s)||!l||i)return(0,e.jsx)(e.React.Fragment,null,s);const c=((t,r)=>{const s=t.props||{};if(!s.disabled&&!s["aria-disabled"])return t;const o="string"==typeof r?r:void 0;return(0,e.jsx)("span",{"aria-disabled":"true","aria-label":o},t)})(s,l),u=J(n);return(0,e.jsx)(r.Tooltip,{title:l,showArrow:o,placement:u,...a},c)},se=t=>{const{value:s,defaultValue:o,required:n=!1,maxLength:i,errorText:a,type:l="text",step:c,onChange:u,onBlur:d,onFileChange:p,style:h,id:f,...m}=t,g=Q(),E="file"===l,[y,v]=K(s,o||""),[b,S]=E?[void 0,void 0]:[y,v],R=e.hooks.useEventCallback((e=>{const t=e.target.value;E||S(t),E&&p?p(e):u&&u(t)})),T=e.hooks.useEventCallback((e=>{d&&d(E?"":e.target.value)})),O=Y({id:f,required:n,errorText:a});if(E)return(0,e.jsx)("input",{...m,id:f,style:h,type:"file",onChange:R,onBlur:T,required:n,title:a,...O,css:$(g,h)});const w=new Set(["text","email","password","search","tel","date","datetime-local","month","time","week","datetime","select","file"]),I="number"!==l&&w.has(l)?l:"text",A="number"==typeof b||"string"==typeof b?b:"";return(0,e.jsx)(r.TextInput,{...m,id:f,style:h,type:I,value:A,step:c,onChange:R,onBlur:T,required:n,maxLength:i,title:a,...O,css:$(g,h)})},oe=({value:t,defaultValue:s,min:o,max:n,step:i,onChange:a,style:c,disabled:u,"aria-label":d,decimalPrecision:p,showValue:h=!0,valueFormatter:f})=>{const m=Q(),g=e.hooks.useEventCallback((e=>"function"==typeof f?f(e):(0,l.xik)(e,p))),E="number"==typeof t&&Number.isFinite(t)?t:"number"==typeof s&&Number.isFinite(s)?s:void 0,y=h&&"number"==typeof E?g(E):"";return(0,e.jsx)("div",{css:m.form.sliderField},(0,e.jsx)(r.Slider,{value:t,defaultValue:s,min:o,max:n,step:i,disabled:u,"aria-label":d,onChange:e=>{const t=parseFloat(e.target.value);!Number.isNaN(t)&&Number.isFinite(t)&&a?.(t)},css:$(m,c)}),h&&""!==y?(0,e.jsx)("div",{css:m.form.sliderValue,"aria-live":"polite",role:"status"},y):null)},ne=({style:t,onChange:s,...o})=>{const n=Q();return(0,e.jsx)(r.NumericInput,{...o,onChange:e=>{"number"!=typeof e||Number.isNaN(e)?(null==e||Number.isNaN(e))&&s?.(void 0):s?.(e)},css:$(n,t)})},ie=({value:t,defaultValue:r,onChange:s,style:o,"aria-label":n})=>{const a=Q();return(0,e.jsx)(i.ColorPicker,{color:t||r||"#000000",onChange:e=>{s?.(e)},"aria-label":n,css:$(a,o),showArrow:!0})},ae=({options:t=[],value:s,defaultValue:o,onChange:n,placeholder:i,disabled:a=!1,style:c,coerce:u,allowSearch:p=!1,allowCustomValues:h=!1,hierarchical:f=!1})=>{const m=e.hooks.useTranslation(d),g=Q(),[E,y]=K(s,o),[v,b]=e.React.useState(""),S=i||m("phSelectOption"),R=e.hooks.useEventCallback((e=>{if("number"===u&&"string"==typeof e){const t=Number(e);return Number.isFinite(t)?t:e}return e})),T=e.hooks.useEventCallback(((e,t)=>{const r=R(void 0!==t?t:e?.target?.value);y(r),n?.(r)})),O=e.hooks.useEventCallback((e=>{if(!h)return;const t=e.trim();if(!t)return;const r=R(t);Object.is(r,E)||(y(r),n?.(r))})),w=p||h,I=(0,l.SP$)(t,f),A=w?v.trim():"",_=A.toLowerCase();let C=_?I.filter((({option:e})=>(e.label&&e.label.trim()?e.label.trim():String(e.value)).toLowerCase().includes(_))):I;if(h){if((e=>{if(null==e||"string"!=typeof e&&"number"!=typeof e)return;const t=String(e);C.some((({option:e})=>String(e.value)===t))||(C=[...C,{option:{value:e,label:t},depth:0}])})(E),A){const e=R(A),t="number"==typeof e||"string"==typeof e?e:A,r=String(t);C.some((({option:e})=>String(e.value)===r))||(C=[{option:{value:t,label:A},depth:0},...C])}}const L=null==E||"string"!=typeof E&&"number"!=typeof E?void 0:String(E),M=X([g.fullWidth],c);return(0,e.jsx)("div",{css:M},w?(0,e.jsx)(se,{type:"search",value:v,placeholder:m("phSearch"),onChange:e=>{b("string"==typeof e?e:"")},onKeyDown:e=>{"Enter"===e.key&&h&&(e.preventDefault(),O(e.currentTarget.value),b(""))},disabled:a}):null,(0,e.jsx)(r.Select,{value:L,onChange:T,disabled:a,placeholder:S,zIndex:G.zIndex.selectMenu,css:g.fullWidth},C.map((({option:t,depth:s},o)=>{if(!t||null==t.value)return null;const n=String(t.value),i=n===L,a=t.label&&t.label.trim()?t.label.trim():n,c=(0,l.I0Z)(a,m),u=t.hideLabel?"":f&&s>0?`${"- ".repeat(s)}${c}`:c;return(0,e.jsx)(r.Option,{key:`${n}-${s}-${o}`,value:t.value,active:i,disabled:Boolean(t.disabled),onClick:()=>{t.disabled||n===L||T(void 0,t.value)}},t.hideLabel?null:u)})).filter(Boolean)))},le=({text:t,icon:s,alignText:o="start",tooltip:n,type:i,tooltipDisabled:a=!1,tooltipPlacement:c=G.button.defaults.tooltipPosition,loading:u=!1,onClick:p,children:h,block:f=G.button.defaults.block,size:m,variant:g="contained",color:E,htmlType:y="button",...v})=>{const b=Q(),S=e.hooks.useTranslation(d),R=e.hooks.useEventCallback((()=>{v.disabled||u||!p||p()})),T=v["aria-label"],O=(0,l.kzc)(t,!!s,T,n,S("ariaButton")),{style:w,css:I,...A}=v,_=Array.isArray(I)?[...I]:I?[I]:[],C=!!n&&!a,L=C?[b.relative]:X([b.relative,..._],w),M=i,x=E,k=m,N=g,P=(0,e.jsx)(r.Button,{...A,type:M,color:x,variant:N,size:k,htmlType:y,icon:!t&&!!s,onClick:R,disabled:v.disabled||u,"aria-busy":u,"aria-live":u?"polite":void 0,"aria-label":O,title:n?void 0:v.title,css:L,block:f,tabIndex:v.tabIndex??0},(0,e.jsx)(ee,{loading:u,text:t,icon:s,alignText:o},h));return C?Z(P,{tooltip:n,placement:c,block:f,jimuCss:_,jimuStyle:w,styles:b}):P},ce=({className:t,style:s,text:o,children:n,type:i="warning",withIcon:a,variant:l="default",jimuVariant:c,tooltipPlacement:u=G.tooltip.position.top,...d})=>{const p=Q(),h=z[i],f=n??(null!=o?(0,e.jsx)("span",null,o):null),m="icon"!==l||h?l:"default",{css:g,...E}=d,y=Array.isArray(g)?[...g]:g?[g]:[];if("icon"===m){const a="string"==typeof o?o:"string"==typeof n?n:f,l=Boolean(a),d="string"==typeof o?o:"string"==typeof n?n:void 0,m=(0,e.jsx)(r.Alert,{...E,type:i,withIcon:!1,variant:c,className:t,css:l?[p.alert]:X([p.alert,...y],s)},h?(0,e.jsx)("div",{css:p.alertIcon},(0,e.jsx)(te,{src:h,"aria-label":d})):null);return l?Z(m,{tooltip:a,placement:J(u),block:!0,jimuCss:y,jimuStyle:s,styles:p}):m}return null!=f||h?(0,e.jsx)(r.Alert,{...E,type:i,withIcon:!1,variant:c,className:t,css:X([p.alert,...y],s)},(0,e.jsx)("div",{css:p.alertContent},h?(0,e.jsx)("div",{css:p.alertIcon},(0,e.jsx)(te,{src:h,size:G.icon.small})):null,f?(0,e.jsx)("div",{css:p.alertMessage},f):null)):(0,e.jsx)(r.Alert,{...E,type:i,withIcon:!1,variant:c,className:t,css:X([p.alert,...y],s)})};var ue=c(1658),de=c(1138),pe=c(3040),he=c(1181),fe=c(3890),me=c(4965),ge=c.n(me);const Ee=e=>{const t=(e??"").trim();if(""!==t)return(0,l.Lzq)(t)},ye=({text:t,translate:r,requiredStyle:s,requiredSymbol:o})=>(0,e.jsx)(e.React.Fragment,null,t,(0,e.jsx)(re,{content:r("valRequiredField"),placement:"top"},(0,e.jsx)("span",{css:s,"aria-label":r("ariaRequired"),role:"img","aria-hidden":!1},o))),ve=({testState:s,checkSteps:n,disabled:i,onTestConnection:a,translate:l,styles:c,validationPhase:u})=>{const d=e.hooks.useEventCallback((e=>"string"==typeof e?e===o.OX.OK?c.status.color.ok:e===o.OX.FAIL?c.status.color.fail:e===o.OX.SKIP?c.status.color.skip:c.status.color.pending:e.completed?c.status.color.ok:c.status.color.fail)),p=e.hooks.useEventCallback((e=>"string"==typeof e?e===o.OX.OK?l("statusOk"):e===o.OX.FAIL?l("statusFailed"):e===o.OX.SKIP?l("statusSkipped"):l("statusChecking"):e.completed?l("statusOk"):e.error?l("statusFailed"):l("statusChecking")));return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2},(0,e.jsx)(le,{disabled:i,alignText:"center",type:"primary",text:s.isTesting?l("statusTesting"):l("btnTestConnection"),onClick:a})),(s.isTesting||s.message)&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2},(()=>{const t=[{label:l("lblServerUrl"),status:n.serverUrl},{label:l("lblApiToken"),status:n.token},{label:l("lblRepository"),status:n.repository}].filter((e=>e.status!==o.OX.IDLE)),i=({label:t,status:r})=>{const s=d(r);return(0,e.jsx)("div",{css:(0,e.css)(c.status.row)},(0,e.jsx)("div",{css:(0,e.css)(c.status.labelGroup)},(0,e.jsx)(e.React.Fragment,null,t,(0,e.jsx)("div",{"aria-hidden":"true"},l("uiColon")))),(0,e.jsx)("div",{css:(0,e.css)(s)},p(r)))},a="string"==typeof n.version?n.version:"",h=a.length>0,f="checking"===u?"testingConnection":"fetchingRepos"===u?"loadingRepositories":null;return(0,e.jsx)("div",{css:(0,e.css)(c.status.container),role:"status","aria-live":"polite","aria-atomic":!0,"aria-busy":!(!s.isTesting&&"fetchingRepos"!==u)||void 0},(s.isTesting||"fetchingRepos"===u)&&(0,e.jsx)(r.Loading,{type:r.LoadingType.Bar,text:l("fetchingRepos"===u?"loadingRepositories":"testingConnection")}),(0,e.jsx)("div",{css:(0,e.css)(c.status.list)},f&&(0,e.jsx)("div",{css:(0,e.css)(c.status.row)},(0,e.jsx)("div",null,l(f))),t.map((t=>(0,e.jsx)(i,{key:t.label,label:t.label,status:t.status}))),h&&(0,e.jsx)("div",{css:(0,e.css)(c.status.row)},(0,e.jsx)("div",{css:(0,e.css)(c.status.labelGroup)},l("lblFmeVersion"),(0,e.jsx)("span",{"aria-hidden":"true"},l("uiColon"))),(0,e.jsx)("div",null,a))))})()))},be=({localServerUrl:r,localToken:s,localRepository:o,availableRepos:n,label:i,fieldErrors:a,validateServerUrl:c,validateToken:u,onRepositoryChange:d,onRefreshRepositories:p,translate:h,styles:f,ID:m,repoHint:g,isBusy:E})=>{const y=c(r,{requireHttps:!0}),v=u(s),b=!!r&&y.ok,S=v.ok,R=b&&S&&!E,T=e.hooks.useEventCallback((()=>{if(!b||!S)return[];if(null===n)return[];const e=Array.isArray(n)?(0,l.ZsG)(n):[],t=(0,l.NnH)(o);return(0,l.isj)([...t?[t]:[],...e]).map((e=>({label:e,value:e})))})),O=!b||!S||null===n||E,w=b&&S?null===n?h("statusLoadRepos"):Array.isArray(n)&&0===n.length?h("msgNoRepositories"):h("phRepository"):h("hintTestFirst");return(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)("div",{css:f.labelWithButton},(0,e.jsx)("span",{css:f.labelText},i),R&&(0,e.jsx)(le,{size:"sm",block:!1,onClick:p,type:"tertiary",title:h("btnRefreshRepos"),icon:(0,e.jsx)(te,{src:ge(),size:14})})),level:2,tag:"label"},Array.isArray(n)&&0===n.length?(0,e.jsx)(se,{id:m.repository,value:o,onChange:e=>{d(e)},placeholder:h("phRepository"),"aria-describedby":a.repository?`${m.repository}-error`:void 0,"aria-invalid":!!a.repository||void 0}):(0,e.jsx)(ae,{options:T(),value:o||void 0,onChange:e=>{const t=(0,l.w$k)(e)?String(e):"";d(t)},disabled:O,"aria-describedby":a.repository?`${m.repository}-error`:void 0,"aria-invalid":!!a.repository||void 0,placeholder:w}),a.repository&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2},(0,e.jsx)(ce,{id:`${m.repository}-error`,fullWidth:!0,css:(0,e.css)(f.alertInline),text:a.repository,type:"error",closable:!1})),g&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2},(0,e.jsx)(ce,{fullWidth:!0,css:(0,e.css)(f.alertInline),text:g,type:"warning",closable:!1})))},Se=({id:s,label:o,value:n,onChange:i,onBlur:a,placeholder:l,type:c="text",required:u=!1,errorText:d,maxLength:p,disabled:h,isPending:f=!1,styles:m})=>(0,e.jsx)(t.SettingRow,{flow:"wrap",label:o,level:2,tag:"label"},(0,e.jsx)(se,{id:s,type:c,required:u,value:n,onChange:i,onBlur:a,placeholder:l,errorText:d,maxLength:p,disabled:h,"aria-invalid":!!d||void 0,"aria-describedby":d?`${s}-error`:void 0,"aria-busy":!!f||void 0}),f&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(m.row),role:"status","aria-live":"polite","aria-atomic":!0},(0,e.jsx)("div",{css:(0,e.css)(m.fieldStatus)},(0,e.jsx)(r.Loading,{type:r.LoadingType.Secondary,width:16,height:16,"aria-hidden":!0}))),d&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(m.row)},(0,e.jsx)(ce,{id:`${s}-error`,fullWidth:!0,css:(0,e.css)(m.alertInline),text:d,type:"error",closable:!1}))),Re=({localTmTtc:r,localTmTtl:s,onTmTtcChange:o,onTmTtlChange:n,onTmTtcBlur:i,onTmTtlBlur:a,fieldErrors:l,translate:c,styles:u,ID:d,showTmTtc:p=!0})=>(0,e.jsx)(e.React.Fragment,null,p&&(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:c("hintTimeCompute"),placement:"top"},(0,e.jsx)("span",null,c("lblTimeCompute"))),level:2,tag:"label"},(0,e.jsx)(ne,{id:d.tm_ttc,value:Ee(r),min:0,step:1,precision:0,placeholder:c("phTimeCompute"),"aria-invalid":!!l.tm_ttc||void 0,"aria-describedby":l.tm_ttc?`${d.tm_ttc}-error`:void 0,onChange:e=>{o(void 0===e?"":String(e))},onBlur:e=>{i(e?.target?.value??"")}}),l.tm_ttc&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(u.row)},(0,e.jsx)(ce,{id:`${d.tm_ttc}-error`,fullWidth:!0,css:(0,e.css)(u.alertInline),text:l.tm_ttc,type:"error",closable:!1}))),(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:c("hintTimeQueue"),placement:"top"},(0,e.jsx)("span",null,c("lblTimeQueue"))),level:2,tag:"label"},(0,e.jsx)(ne,{id:d.tm_ttl,value:Ee(s),min:0,step:1,precision:0,placeholder:c("phTimeQueue"),"aria-invalid":!!l.tm_ttl||void 0,"aria-describedby":l.tm_ttl?`${d.tm_ttl}-error`:void 0,onChange:e=>{n(void 0===e?"":String(e))},onBlur:e=>{a(e?.target?.value??"")}}),l.tm_ttl&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(u.row)},(0,e.jsx)(ce,{id:`${d.tm_ttl}-error`,fullWidth:!0,css:(0,e.css)(u.alertInline),text:l.tm_ttl,type:"error",closable:!1})))),Te={lblServerUrl:"FME Flow server URL",lblApiToken:"API token",lblRepository:"Repository",lblRepositories:"Available repositories",lblFmeVersion:"FME Flow version",lblServiceMode:"Delivery method",lblMaskEmail:"Mask email address",lblShowResult:"Include result in response",lblAllowUpload:"Allow file upload (TEMP)",lblAllowUrl:"Allow remote URL (HTTPS)",lblUploadParam:"Upload parameter",lblMaxArea:"Maximum export area (m\xb2)",lblLargeArea:"Area warning threshold (m\xb2)",lblTimeCompute:"Maximum runtime (seconds)",lblTimeQueue:"Maximum queue time (seconds)",lblRequestTimeout:"Request timeout (ms)",lblAoiParam:"Area parameter name",lblRequireHttps:"Require HTTPS",lblAutoClose:"Auto\u2011close other widgets",lblDrawColor:"Drawing tool color",lblOutlineWidth:"Outline width",lblFillOpacity:"Fill opacity (%)",lblSupportEmail:"Support contact",lblEnableLogging:"Enable logging",errNoServerUrl:"FME Flow server URL is required",errNoToken:"API token is required",errTokenSpaces:"API token cannot contain spaces",errNoRepository:"A repository must be selected",errInvalidRepository:"Selected repository is not in the list",errInvalidUrl:"Invalid URL format",errRequireHttps:"Only HTTPS addresses are allowed",errTokenInvalid:"API token is invalid",errLoadRepositories:"Could not retrieve repositories from FME Flow",errServerUrl:"Invalid server URL",errRepositoryMissing:"Selected repository no longer exists",errRepositoryAccess:"Repository is not accessible with the current API token. Check your permissions",errAreaTooLarge:"Value exceeds the maximum limit",errUploadParamRequired:"Upload parameter is required when file upload is enabled",errInvalidEmail:"Invalid email address",errorInvalidServerUrl:"Invalid server URL",errorTokenIsInvalid:"API token is invalid",errorRepositoryNotFound:"Selected repository does not exist",errorMaxAreaTooLarge:"Value exceeds the maximum limit ({maxM2} m\xb2)",uploadTargetParamNameRequired:"Upload parameter is required when file upload is enabled",require_https:"Only HTTPS addresses are allowed",invalid_url:"Invalid URL format",no_query_or_hash:"URL cannot contain a query string or hash",missingToken:"API token is required",tokenWithWhitespace:"API token cannot contain spaces",errorTokenIssue:"API token is missing or invalid",missingRepository:"A repository must be selected",invalidRepository:"Invalid repository",invalidEmail:"Invalid email address",emailRequired:"Email address is required",btnTestConnection:"Test connection",btnRefreshRepos:"Refresh repositories",statusTesting:"Testing connection to FME Flow\u2026",statusTestConnection:"Testing\u2026",statusLoadRepos:"Fetching repositories\u2026",statusValidateUrl:"Validating server URL\u2026",statusValidateToken:"Verifying API token\u2026",statusOk:"OK",statusFailed:"Failed",statusSkipped:"Skipped",statusChecking:"Checking\u2026",statusError:"Error",msgConnectionOk:"Connection to FME Flow succeeded",msgConnectionWarning:"Connection succeeded but the repository could not be verified. Check the API token permissions",msgFixErrors:"Fix the errors above before continuing",msgNoRepositories:"No repositories found on the FME Flow server",msgAreaExceeds:"Warning threshold ({largeM2} m\xb2) should be lower than the maximum limit ({maxM2} m\xb2)",hintServiceMode:"Choose delivery method: Direct download for smaller datasets or email notification for larger exports",hintMaskEmail:"Hides parts of the email address in the export confirmation (e.g. a***@example.com)",hintShowResult:"Controls the FME parameter opt_showresult. When unchecked, the response contains only job information",hintAllowUpload:"Allows users to upload data sources directly to FME Flow's TEMP resource for processing",hintAllowUrl:"Allows users to specify an HTTPS URL to a remote data source. Requires file upload to be enabled",hintUploadParam:"Workspace parameter that will receive the path to the uploaded file. Required when file upload is enabled",hintMaxArea:"Maximum allowed area for the export region. Leave empty for unlimited area. Maximum value: {maxM2} m\xb2",hintLargeArea:"Show a warning when the drawn area exceeds this value. Helps users avoid slow exports. Max: {maxM2} m\xb2",hintTimeCompute:"Maximum runtime for the workspace before FME Flow cancels the job. Applies only to direct download. Leave empty to use the server default",hintTimeQueue:"Maximum queue time before the job is removed from the queue. Leave empty to use the server default",hintRequestTimeout:"Maximum wait time for an FME Flow response in milliseconds. Leave empty to disable the timeout (recommended for long-running workspaces). Example: 30000 ms (30 seconds)",hintAoiParam:"Name of the workspace parameter that receives the export area. Default: AreaOfInterest",hintRequireHttps:"When enabled, only HTTPS connections to FME Flow are accepted. When disabled, both HTTP and HTTPS are allowed",hintAutoClose:"Automatically closes other widgets when FME Export opens to minimize visual distractions",hintOutlineWidth:"Outline thickness in pixels (0.1\u20135.0). Adjusted incrementally via slider",hintFillOpacity:"Transparency of area fill (0-100%). Higher value gives more opaque fill",hintSupportEmail:"Displayed in error messages as the contact path for users. Leave empty to hide the support contact",hintEnableLogging:"Enable detailed logging for troubleshooting and analysis. Enable only when needed.",hintTestFirst:"Test the connection before continuing the configuration",tokenSettingsHint:"Verify API token in settings",serverUrlSettingsHint:"Check FME Flow server URL in settings",repositorySettingsHint:"Select a valid repository in settings",connectionSettingsHint:"Check connection settings in configuration panel",networkConnectionHint:"Check network connection and firewall settings",phServerUrl:"https://fmeflow.example.com",phApiToken:"API token",phRepository:"Select repository",phEmail:"support@company.com",phMaxArea:"100000000",phLargeArea:"50000000",phTimeCompute:"Use server default",phTimeQueue:"Use server default",phRequestTimeout:"30000",phAoiParam:"AreaOfInterest",phUploadParam:"DEST_DATASET",optAsync:"Email notification",optSync:"Direct download",valRequiredField:"Required field",ariaRequired:"Required field",uiColon:":",titleMapConfig:"Map configuration",panelSettings:"Settings",panelAdvancedSettings:"Advanced settings",panelDrawingSettings:"Drawing settings"},Oe=o.rd,we=e=>{if("number"!=typeof e||!Number.isFinite(e))return o.EW.OUTLINE_WIDTH_SLIDER_MIN;if(e<=o.EW.OUTLINE_WIDTH_MIN)return o.EW.OUTLINE_WIDTH_SLIDER_MIN;const t=Math.round(e/o.EW.OUTLINE_WIDTH_INCREMENT);return Math.min(o.EW.OUTLINE_WIDTH_SLIDER_MAX,Math.max(1,t))},Ie=e=>{if(!Number.isFinite(e)||e<=o.EW.OUTLINE_WIDTH_SLIDER_MIN)return o.EW.OUTLINE_WIDTH_MIN;const t=e*o.EW.OUTLINE_WIDTH_INCREMENT;return t>=o.EW.OUTLINE_WIDTH_MAX?o.EW.OUTLINE_WIDTH_MAX:Math.round(t*o.EW.OUTLINE_WIDTH_PRECISION)/o.EW.OUTLINE_WIDTH_PRECISION},Ae=e=>{const t=Ie(e),r=Math.round(t*o.EW.OUTLINE_WIDTH_PRECISION)/o.EW.OUTLINE_WIDTH_PRECISION;return r%1==0?r.toFixed(0):r.toFixed(1)},_e=()=>({status:"idle",isTesting:!1,message:void 0,type:"info"}),Ce=()=>({serverUrl:o.OX.IDLE,token:o.OX.IDLE,repository:o.OX.IDLE,version:""}),Le=(e,t)=>{const{setCheckSteps:r,setFieldErrors:s,translate:n,version:i,errorMessage:a}=t;if("server"===e||"network"===e){r((e=>({...e,serverUrl:o.OX.FAIL,token:o.OX.IDLE,repository:o.OX.IDLE,version:""})));const e=a||"errorInvalidServerUrl";return(0,l.NhG)(s,"serverUrl",(0,he.Xp)(n,e)),void(0,l.x8C)(s,["token","repository"])}if("token"===e){r((e=>({...e,serverUrl:o.OX.OK,token:o.OX.FAIL,repository:o.OX.IDLE,version:""})));const e=a||"errorTokenIsInvalid";return(0,l.NhG)(s,"token",(0,he.Xp)(n,e)),void(0,l.x8C)(s,["serverUrl","repository"])}r((e=>({...e,serverUrl:o.OX.OK,token:o.OX.OK,repository:o.OX.FAIL,version:i||""})));const c=a||"errorRepositoryNotFound";(0,l.NhG)(s,"repository",(0,he.Xp)(n,c)),(0,l.x8C)(s,["serverUrl","token"])};function Me(s){const{onSettingChange:i,useMapWidgetIds:c,id:u,config:d}=s,p=e.hooks.useTranslation(Te),h=Q(),f=(0,o.EC)(),m=(0,l.qpp)(u),g=e.React.useRef(null);null!==g.current&&g.current.widgetId===u||(g.current={widgetId:u,selectors:(0,n.createFmeSelectors)(u)});const E=g.current.selectors,y=(0,a.q5)(E.selectIsBusy),v=(0,a.M1)(d),b=(0,a.Xc)(d),S=(0,a.Id)(d),R=(0,a.Hg)(u,d,i),T={supportEmail:"setting-support-email",serverUrl:"setting-server-url",token:"setting-token",repository:"setting-repository",syncMode:"setting-sync-mode",maskEmailOnSuccess:"setting-mask-email-on-success",showResult:"setting-show-result",requestTimeout:"setting-request-timeout",largeArea:"setting-large-area",maxArea:"setting-max-area",tm_ttc:"setting-tm-ttc",tm_ttl:"setting-tm-ttl",aoiParamName:"setting-aoi-param-name",uploadTargetParamName:"setting-upload-target-param-name",requireHttps:"setting-require-https",allowRemoteDataset:"setting-allow-remote-dataset",allowRemoteUrlDataset:"setting-allow-remote-url-dataset",autoCloseOtherWidgets:"setting-auto-close-other-widgets",drawingColor:"setting-drawing-color",drawingOutlineWidth:"setting-drawing-outline-width",drawingFillOpacity:"setting-drawing-fill-opacity",enableLogging:"setting-enable-logging"},[O,w]=e.React.useState((()=>_e())),[I,A]=e.React.useState((()=>Ce())),[_,C]=e.React.useState("idle"),[L,M]=e.React.useState({}),[x,k]=e.React.useState((()=>v("fmeServerUrl")||"")),[N,P]=e.React.useState((()=>v("fmeServerToken")||"")),[D,U]=e.React.useState((()=>b("requireHttps"))),j=v("repository")||"",F=v("fmeServerUrl")||"",W=v("fmeServerToken")||"",q=e.hooks.usePrevious(F),B=e.hooks.usePrevious(W),V=(0,l.NnH)(x),H=(0,l.NnH)(N),z=(0,fe.dC)(x,{requireHttps:D}),K=(0,fe.k9)(N),X=z.ok&&V&&(0,fe.qT)(V)||void 0,[$,Y]=e.React.useState((()=>({serverUrl:X||void 0,token:H||void 0}))),Z=e.hooks.useEventCallback(((e,t)=>{Y((r=>r.serverUrl===e&&r.token===t?r:{serverUrl:e,token:t}))})),J=(0,a.d7)(Z,o.ST.DEBOUNCE_VALIDATION_MS);e.hooks.useEffectWithPreviousValues((()=>{const e=X||void 0,t=H||void 0;if(!e||!t)return J.cancel(),void Z(e,t);J(e,t)}),[X,H,J,Z]);const[ee,te]=e.React.useState((()=>v("supportEmail"))),[se,le]=e.React.useState((()=>b("syncMode"))),[ue,me]=e.React.useState((()=>b("maskEmailOnSuccess"))),[ge,Me]=e.React.useState((()=>b("showResult",!0))),[xe,ke]=e.React.useState((()=>b("autoCloseOtherWidgets",!0))),[Ne,Pe]=e.React.useState((()=>{const e=S("requestTimeout");return void 0!==e?String(e):""})),[De,Ue]=e.React.useState((()=>{const e=S("maxArea");return void 0!==e&&e>0?String(e):""})),[je,Fe]=e.React.useState((()=>{const e=S("largeArea");return void 0!==e&&e>0?String(e):""})),[We,qe]=e.React.useState((()=>{const e=S("tm_ttc");return void 0!==e?String(e):Oe.VALIDATION.DEFAULT_TTC_VALUE})),[Be,Ve]=e.React.useState((()=>{const e=S("tm_ttl");return void 0!==e?String(e):Oe.VALIDATION.DEFAULT_TTL_VALUE})),[Ge,He]=e.React.useState((()=>v("aoiParamName")||"AreaOfInterest")),[ze,Qe]=e.React.useState((()=>v("uploadTargetParamName")||"")),[Ke,Xe]=e.React.useState((()=>b("allowRemoteDataset"))),[$e,Ye]=e.React.useState((()=>b("allowRemoteUrlDataset"))),Ze=!se,Je=se,et=Array.isArray(c)&&c.length>0,tt=Boolean(V&&H),rt=et&&tt,st=!!(0,l.NnH)(j),ot=et&&tt&&st,nt=Ke,it=e.hooks.useEventCallback(((e,t,r,s)=>o=>{const n=("number"==typeof o?String(o):o??"").trim(),i=(0,pe.Lz)(n);if(void 0===i||0===i)return R(e,void 0),t(""),void M((e=>({...e,[r]:void 0})));if(s?.maxValue&&i>s.maxValue){const e=s.errorMsgKey?p(s.errorMsgKey,s.errorMsgParams):"Invalid value";return void M((t=>({...t,[r]:e})))}const a=s?.maxValue?Math.min(i,s.maxValue):i;R(e,a),t(String(a)),M((e=>({...e,[r]:void 0})))})),at=e.hooks.useEventCallback((e=>{M((e=>({...e,largeArea:void 0}))),Fe(void 0!==e?String(e):"")})),lt=it("largeArea",Fe,"largeArea",{maxValue:Oe.LIMITS.MAX_M2_CAP,errorMsgKey:"errorMaxAreaTooLarge",errorMsgParams:{maxM2:Oe.LIMITS.MAX_M2_CAP}}),ct=it("maxArea",Ue,"maxArea",{maxValue:Oe.LIMITS.MAX_M2_CAP,errorMsgKey:"errorMaxAreaTooLarge",errorMsgParams:{maxM2:Oe.LIMITS.MAX_M2_CAP}});e.hooks.useEffectWithPreviousValues((()=>{!Ze&&ue&&(me(!1),R("maskEmailOnSuccess",!1)),Ke||($e&&(Ye(!1),R("allowRemoteUrlDataset",!1)),ze&&(Qe(""),R("uploadTargetParamName",void 0),M((e=>({...e,uploadTargetParamName:void 0})))))}),[Ze,ue,Ke,$e,ze,R]),e.hooks.useEffectWithPreviousValues((()=>{!Je&&(0,l.NnH)(We)&&(qe(""),R("tm_ttc",void 0),M((e=>({...e,tm_ttc:void 0}))))}),[Je,We,R,M]);const[ut,dt]=e.React.useState((()=>v("drawingColor")||o.Ve)),[pt,ht]=e.React.useState((()=>{const e=S("drawingOutlineWidth"),t="number"==typeof e?e:o.kR;return we(t)})),[ft,mt]=e.React.useState((()=>(S("drawingFillOpacity")??o.eS)*o.EW.OPACITY_SCALE_FACTOR)),[gt,Et]=e.React.useState((()=>b("enableLogging",!1))),yt=S("drawingOutlineWidth");e.hooks.useUpdateEffect((()=>{const e="number"==typeof yt?yt:o.kR,t=we(e);t!==pt&&ht(t)}),[yt]);const vt=S("drawingFillOpacity");e.hooks.useUpdateEffect((()=>{const e="number"==typeof vt?vt:o.eS,t=Math.round(e*o.EW.OPACITY_SCALE_FACTOR);t!==ft&&mt(t)}),[vt]);const bt=$.serverUrl,St=$.token,Rt=Boolean(bt&&St&&z.ok&&K.ok),Tt=(0,a.uG)(bt,St,{enabled:Rt}),Ot=(0,a.uT)(),[wt,It]=e.React.useState(null),At=e.hooks.useLatest(p),[_t,Ct]=e.React.useState(!1),[Lt,Mt]=e.React.useState(!1),xt=e.hooks.useEventCallback((e=>{const t=(0,l.NnH)(e);if(!t)return void(0,l.NhG)(M,"serverUrl",void 0);const r=(0,fe.dC)(t,{requireHttps:D});let s;if(r.ok)s=void 0;else{let e;"reason"in r?e=(0,fe.$N)(r.reason):"key"in r&&"string"==typeof r.key&&(e=r.key),s=e?At.current(e):void 0}(0,l.NhG)(M,"serverUrl",s)})),kt=e.hooks.useEventCallback((e=>{const t=(0,l.NnH)(e);if(!t)return void(0,l.NhG)(M,"token",void 0);const r=(0,fe.k9)(t),s=!r.ok&&r.key?At.current(r.key):void 0;(0,l.NhG)(M,"token",s)})),Nt=(0,a.d7)(xt,o.ST.DEBOUNCE_VALIDATION_MS,{onPendingChange:e=>{Ct(e)}}),Pt=(0,a.d7)(kt,o.ST.DEBOUNCE_VALIDATION_MS,{onPendingChange:e=>{Mt(e)}}),Dt=e.React.useRef(null),Ut=e.hooks.usePrevious(Tt.data);Tt.data!==Ut&&(Dt.current=Tt.data?Tt.data.map((e=>e.name)):null);const jt=Dt.current;e.hooks.useEffectWithPreviousValues((()=>{Tt.isError&&!(0,l.zfx)(Tt.error)?It(p("errLoadRepositories")):Tt.isSuccess&&It(null)}),[Tt.isError,Tt.isSuccess,Tt.error,p]);const Ft=e.hooks.useEventCallback((()=>{M((e=>({...e,repository:void 0}))),C("idle"),It(null)})),Wt=e.hooks.useEventCallback((()=>{Ot.reset(),C("idle"),w((e=>"idle"!==e.status||e.isTesting||void 0!==e.message||"info"!==e.type?_e():e)),A((e=>e.serverUrl===o.OX.IDLE&&e.token===o.OX.IDLE&&e.repository===o.OX.IDLE&&""===(e.version||"")?e:Ce()))}));e.hooks.useUnmount((()=>{Ot.reset(),Nt.cancel(),Pt.cancel(),J.cancel()}));const qt=z.ok&&K.ok,Bt=!!O.isTesting||!qt||y,Vt=e.hooks.useEventCallback(((e,t,r)=>{C("complete"),A({serverUrl:e.steps.serverUrl,token:e.steps.token,repository:e.steps.repository,version:e.version||""}),R("fmeServerUrl",t.serverUrl),R("fmeServerToken",t.token),(0,l.x8C)(M,["serverUrl","token","repository"]);const s=(Array.isArray(e.warnings)?e.warnings:[]).includes("repositoryNotAccessible");w(r?e=>({...e,isTesting:!1}):{status:"success",isTesting:!1,message:p(s?"msgConnectionWarning":"msgConnectionOk"),type:s?"warning":"success"})})),Gt=e.hooks.useEventCallback(((e,t)=>{C("complete");const r=e.error;Le(r?.type||"server",{setCheckSteps:A,setFieldErrors:M,translate:p,version:e.version,errorMessage:r?.message}),w(t?e=>({...e,isTesting:!1}):{status:"error",isTesting:!1,message:(0,he.Xp)(p,r?.message),type:"error"})})),Ht=e.hooks.useEventCallback(((e,t)=>{if("AbortError"===e?.name)return;C("complete");const r=(0,fe.Ko)(e),s=r&&0!==r?"server":"network",o=(0,de.fV)(e,r);Le(s,{setCheckSteps:A,setFieldErrors:M,translate:p,version:"",errorMessage:o}),t||w({status:"error",isTesting:!1,message:(0,he.Xp)(p,o),type:"error"})})),zt=e.hooks.useEventCallback((async(e=!1)=>{Ot.reset();const t=(()=>{const e=x,t=N,r=j,s=(0,fe._Y)(e||"",{requireHttps:D});if(!s.ok)return null;const o=s.normalized||"";return o!==e&&R("fmeServerUrl",o),o&&t?{serverUrl:o,token:t,repository:r}:null})();if(!t)return C("idle"),void(e||w({status:"error",isTesting:!1,message:p("msgFixErrors"),type:"error"}));C("checking"),w({status:"running",isTesting:!0,message:e?null:p("statusTestConnection"),type:"info"}),A({serverUrl:o.OX.PENDING,token:o.OX.PENDING,repository:t.repository?o.OX.PENDING:o.OX.SKIP,version:""});try{e||w((e=>({...e,message:p("statusTestConnection")})));const r=await Ot.mutateAsync({serverUrl:t.serverUrl,token:t.token,repository:t.repository});r.success?Vt(r,t,e):Gt(r,e)}catch(t){if((0,l.zfx)(t))return C("idle"),w(_e()),void A(Ce());Ht(t,e)}finally{C((e=>"checking"===e?"idle":e)),w((e=>({...e,isTesting:!1})))}})),Qt=e.hooks.useEventCallback((async()=>{if(Rt&&Tt.refetch)try{await Tt.refetch()}catch(e){(0,l.zfx)(e)||console.log("Repository refresh failed:",e)}}));e.hooks.useUpdateEffect((()=>{void 0===q&&void 0===B||q===F&&B===W||Ft()}),[F,W,q,B,Ft]);const Kt=e.hooks.useEventCallback((e=>{k(e),Wt(),Ft(),(0,l.x8C)(M,["serverUrl"]);(0,l.NnH)(e)?Nt(e):Nt.cancel()})),Xt=e.hooks.useEventCallback((e=>{P(e),Wt(),Ft(),(0,l.x8C)(M,["token"]);(0,l.NnH)(e)?Pt(e):Pt.cancel()})),$t=e.hooks.useEventCallback((e=>{Nt.cancel();const t=(0,fe._Y)(e,{requireHttps:D}).normalized||"",r=t!==F;t!==x&&k(t),r&&R("fmeServerUrl",t),xt(t),r&&Ft()})),Yt=e.hooks.useEventCallback((e=>{Pt.cancel(),kt(e),e!==W&&(R("fmeServerToken",e),Ft())}));e.hooks.useUpdateEffect((()=>{if(j)if(Array.isArray(jt)&&jt.length&&j){const e=jt.includes(j)?void 0:p("errRepositoryMissing");(0,l.NhG)(M,"repository",e)}else Array.isArray(jt)&&0===jt.length&&j&&(0,l.x8C)(M,["repository"])}),[jt,j,p]);const Zt=e.hooks.useEventCallback((e=>{const t=j;R("repository",e),t!==e&&m.clearWorkspaceState(t),(0,l.x8C)(M,["repository"])})),Jt=it("requestTimeout",Pe,"requestTimeout",{maxValue:Oe.LIMITS.MAX_REQUEST_TIMEOUT_MS});return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,label:(0,e.jsx)(ye,{text:p("titleMapConfig"),translate:p,requiredStyle:h.typo.required,requiredSymbol:G.required})},(0,e.jsx)(t.MapWidgetSelector,{useMapWidgetIds:c,onSelect:e=>{i({id:u,useMapWidgetIds:e})}}))),(0,e.jsx)(t.SettingSection,null,et&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(Se,{id:T.serverUrl,label:(0,e.jsx)(ye,{text:p("lblServerUrl"),translate:p,requiredStyle:h.typo.required,requiredSymbol:G.required}),value:x,onChange:Kt,onBlur:$t,placeholder:p("phServerUrl"),required:!0,errorText:L.serverUrl,isPending:_t,styles:f}),(0,e.jsx)(Se,{id:T.token,label:(0,e.jsx)(ye,{text:p("lblApiToken"),translate:p,requiredStyle:h.typo.required,requiredSymbol:G.required}),value:N,onChange:Xt,onBlur:Yt,placeholder:p("phApiToken"),type:"password",required:!0,errorText:L.token,isPending:Lt,styles:f}),(0,e.jsx)(ve,{testState:O,checkSteps:I,disabled:Bt,onTestConnection:()=>zt(!1),translate:p,styles:f,validationPhase:_}),rt&&(0,e.jsx)(be,{localServerUrl:x,localToken:N,localRepository:j,availableRepos:jt,label:(0,e.jsx)(ye,{text:p("lblRepositories"),translate:p,requiredStyle:h.typo.required,requiredSymbol:G.required}),fieldErrors:L,validateServerUrl:fe.dC,validateToken:fe.k9,onRepositoryChange:Zt,onRefreshRepositories:Qt,translate:p,styles:f,ID:T,repoHint:wt,isBusy:y}))),ot&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(r.CollapsablePanel,{label:p("panelSettings"),type:"default",level:1,role:"group","aria-label":p("panelSettings")},(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:p("hintServiceMode"),placement:"top"},(0,e.jsx)("span",null,p("lblServiceMode"))),level:2},(0,e.jsx)(ae,{value:se?"sync":"async",onChange:e=>{const t="sync"===e;le(t),R("syncMode",t)},options:[{label:p("optAsync"),value:"async"},{label:p("optSync"),value:"sync"}],"aria-label":p("lblServiceMode")})),(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintAllowUpload"),placement:"top"},(0,e.jsx)("span",null,p("lblAllowUpload"))),level:2},(0,e.jsx)(r.Switch,{id:T.allowRemoteDataset,checked:Ke,onChange:e=>{const t=e?.target?.checked??!Ke;Xe(t),R("allowRemoteDataset",t)},"aria-label":p("lblAllowUpload")})),nt&&(0,e.jsx)(Se,{id:T.uploadTargetParamName,label:(0,e.jsx)(re,{content:p("hintUploadParam"),placement:"top"},(0,e.jsx)("span",null,p("lblUploadParam"))),value:ze,onChange:e=>{Qe(e)},onBlur:e=>{const t=(0,l.Eam)(e,"");Qe(t),R("uploadTargetParamName",t),M((e=>({...e,uploadTargetParamName:void 0})))},placeholder:p("phUploadParam"),errorText:L.uploadTargetParamName,styles:f}),nt&&(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintAllowUrl"),placement:"top"},(0,e.jsx)("span",null,p("lblAllowUrl"))),level:2},(0,e.jsx)(r.Switch,{id:T.allowRemoteUrlDataset,checked:$e,onChange:e=>{const t=e?.target?.checked??!$e;Ye(t),R("allowRemoteUrlDataset",t)},"aria-label":p("lblAllowUrl")})),Ze&&(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintMaskEmail"),placement:"top"},(0,e.jsx)("span",null,p("lblMaskEmail"))),level:2},(0,e.jsx)(r.Switch,{id:T.maskEmailOnSuccess,checked:ue,onChange:e=>{const t=e?.target?.checked??!ue;me(t),R("maskEmailOnSuccess",t)},"aria-label":p("lblMaskEmail")})),(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintShowResult"),placement:"top"},(0,e.jsx)("span",null,p("lblShowResult"))),level:2},(0,e.jsx)(r.Switch,{id:T.showResult,checked:ge,onChange:e=>{const t=e?.target?.checked??!ge;Me(t),R("showResult",t)},"aria-label":p("lblShowResult")})),(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintAutoClose"),placement:"top"},(0,e.jsx)("span",null,p("lblAutoClose"))),level:2},(0,e.jsx)(r.Switch,{id:T.autoCloseOtherWidgets,checked:xe,onChange:e=>{const t=e?.target?.checked??!xe;ke(t),R("autoCloseOtherWidgets",t)},"aria-label":p("lblAutoClose")})),(0,e.jsx)(Se,{id:T.supportEmail,label:(0,e.jsx)(re,{content:p("hintSupportEmail"),placement:"top"},(0,e.jsx)("span",null,p("lblSupportEmail"))),type:"email",value:ee,onChange:e=>{te(e),M((e=>({...e,supportEmail:void 0})))},onBlur:e=>{const t=(e??"").trim();if(!t)return M((e=>({...e,supportEmail:void 0}))),R("supportEmail",void 0),void te("");const r=(0,fe.B9)(t)?void 0:p("errInvalidEmail");M((e=>({...e,supportEmail:r}))),r||(R("supportEmail",t),te(t))},placeholder:p("phEmail"),errorText:L.supportEmail,styles:f}))),(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(r.CollapsablePanel,{label:p("panelAdvancedSettings"),type:"default",level:1,role:"group","aria-label":p("panelAdvancedSettings")},(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:p("hintMaxArea",{maxM2:Oe.LIMITS.MAX_M2_CAP}),placement:"top"},(0,e.jsx)("span",null,p("lblMaxArea"))),level:2,tag:"label"},(0,e.jsx)(ne,{id:T.maxArea,value:Ee(De),min:0,step:o.EW.AREA_INPUT_STEP,precision:0,placeholder:p("phMaxArea"),"aria-invalid":!!L.maxArea||void 0,"aria-describedby":L.maxArea?`${T.maxArea}-error`:void 0,onChange:e=>{Ue(void 0===e?"":String(e)),M((e=>({...e,maxArea:void 0})))},onBlur:e=>{ct(e?.target?.value??"")}}),L.maxArea&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(f.row)},(0,e.jsx)(ce,{id:`${T.maxArea}-error`,fullWidth:!0,css:(0,e.css)(f.alertInline),text:L.maxArea,type:"error",closable:!1}))),(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:p("hintLargeArea",{maxM2:Oe.LIMITS.MAX_M2_CAP}),placement:"top"},(0,e.jsx)("span",null,p("lblLargeArea"))),level:2,tag:"label"},(0,e.jsx)(ne,{id:T.largeArea,value:Ee(je),min:0,step:o.EW.AREA_INPUT_STEP,precision:0,placeholder:p("phLargeArea"),"aria-invalid":!!L.largeArea||void 0,"aria-describedby":L.largeArea?`${T.largeArea}-error`:void 0,onChange:at,onBlur:e=>{lt(e?.target?.value??"")}}),L.largeArea&&(0,e.jsx)(t.SettingRow,{flow:"wrap",level:2,css:(0,e.css)(f.row)},(0,e.jsx)(ce,{id:`${T.largeArea}-error`,fullWidth:!0,css:(0,e.css)(f.alertInline),text:L.largeArea,type:"error",closable:!1}))),(0,e.jsx)(Se,{id:T.aoiParamName,label:(0,e.jsx)(re,{content:p("hintAoiParam"),placement:"top"},(0,e.jsx)("span",null,p("lblAoiParam"))),value:Ge,onChange:e=>{He(e)},onBlur:e=>{const t=e.trim()||"AreaOfInterest";R("aoiParamName",t),He(t)},placeholder:p("phAoiParam"),styles:f}),(0,e.jsx)(Re,{localTmTtc:We,localTmTtl:Be,onTmTtcChange:e=>{qe(e)},onTmTtlChange:e=>{Ve(e)},onTmTtcBlur:e=>{const t=(e??"").trim();if(""===t)return R("tm_ttc",void 0),void qe("");const r=(0,pe.Lz)(t);if(void 0===r)return R("tm_ttc",void 0),void qe("");R("tm_ttc",r),qe(String(r))},onTmTtlBlur:e=>{const t=(e??"").trim();if(""===t)return R("tm_ttl",void 0),void Ve("");const r=(0,pe.Lz)(t);if(void 0===r)return R("tm_ttl",void 0),void Ve("");R("tm_ttl",r),Ve(String(r))},fieldErrors:L,translate:p,styles:f,ID:T,showTmTtc:Je}),(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:p("hintRequestTimeout"),placement:"top"},(0,e.jsx)("span",null,p("lblRequestTimeout"))),level:2,tag:"label"},(0,e.jsx)(ne,{id:T.requestTimeout,value:Ee(Ne),min:0,step:o.EW.AREA_INPUT_STEP,precision:0,placeholder:p("phRequestTimeout"),"aria-label":p("lblRequestTimeout"),onChange:e=>{Pe(void 0===e?"":String(e))},onBlur:e=>{Jt(e?.target?.value??"")}})),(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintRequireHttps"),placement:"top"},(0,e.jsx)("span",null,p("lblRequireHttps"))),level:2},(0,e.jsx)(r.Switch,{id:T.requireHttps,checked:D,onChange:e=>{const t=e?.target?.checked??!D;U(t),R("requireHttps",t)},"aria-label":p("lblRequireHttps")})),(0,e.jsx)(t.SettingRow,{flow:"no-wrap",label:(0,e.jsx)(re,{content:p("hintEnableLogging"),placement:"top"},(0,e.jsx)("span",null,p("lblEnableLogging"))),level:2},(0,e.jsx)(r.Switch,{id:T.enableLogging,checked:gt,onChange:e=>{const t=e?.target?.checked??!gt;Et(t),R("enableLogging",t)},"aria-label":p("lblEnableLogging")})))),(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(r.CollapsablePanel,{label:p("panelDrawingSettings"),type:"default",level:1,role:"group","aria-label":p("panelDrawingSettings")},(0,e.jsx)(t.SettingRow,{flow:"wrap",label:p("lblDrawColor"),level:2,tag:"label"},(0,e.jsx)(ie,{value:ut,onChange:e=>{const t=(e||"").trim(),r=/^#?[0-9a-f]{6}$/i.test(t)?t.startsWith("#")?t:`#${t}`:o.Ve;dt(r),R("drawingColor",r)},"aria-label":p("lblDrawColor")})),(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:p("hintOutlineWidth"),placement:"top"},(0,e.jsx)("span",null,p("lblOutlineWidth"))),level:2,tag:"label"},(0,e.jsx)(oe,{value:pt,min:o.EW.OUTLINE_WIDTH_SLIDER_MIN,max:o.EW.OUTLINE_WIDTH_SLIDER_MAX,step:1,"aria-label":p("lblOutlineWidth"),decimalPrecision:0,valueFormatter:Ae,onChange:e=>{ht(e);const t=Ie(e);R("drawingOutlineWidth",t)}})),(0,e.jsx)(t.SettingRow,{flow:"wrap",label:(0,e.jsx)(re,{content:p("hintFillOpacity"),placement:"top"},(0,e.jsx)("span",null,p("lblFillOpacity"))),level:2,tag:"label"},(0,e.jsx)(oe,{value:ft,min:0,max:o.EW.PERCENT_SLIDER_MAX,step:5,"aria-label":p("lblFillOpacity"),decimalPrecision:0,showValue:!0,onChange:e=>{mt(e);const t=e/o.EW.OPACITY_SCALE_FACTOR;R("drawingFillOpacity",t)}}))))))}function xe(t){return(0,e.jsx)(s.Ht,{client:ue.q},(0,e.jsx)(Me,{...t}))}function ke(e){c.p=e}})(),u})())}}}));